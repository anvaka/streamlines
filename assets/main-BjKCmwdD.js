import{g as ss,N as Gr,i as Oe,e as Jt,a as dd,b as Vt,n as Tr,c as sr,d as Lf,f as Ie,h as Or,p as Tf,m as pd,j as Mf,E as je,t as Fl,k as $o,l as Yo,o as ls,q as Ye,r as Af,s as oi,u as gd,R as vd,v as qi,w as md,x as lr,y as Ol,z as pl,A as cn,B as yd,C as qu,D as Of,G as Wl,H as bd,I as xd,J as An,K as On,L as wd,M as Cd,O as Rl,P as Sd,Q as _f,S as kd,T as Ld,U as Td,V as Md,W as Yi,X as Qi,Y as rt}from"./index-C3nZr3gc.js";/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oo(o,s,a,c){try{return c?o(...c):o()}catch(d){as(d,s,a)}}function _r(o,s,a,c){if(Oe(o)){const d=oo(o,s,a,c);return d&&Mf(d)&&d.catch(p=>{as(p,s,a)}),d}if(Ie(o)){const d=[];for(let p=0;p<o.length;p++)d.push(_r(o[p],s,a,c));return d}}function as(o,s,a,c=!0){const d=s?s.vnode:null,{errorHandler:p,throwUnhandledErrorInProduction:y}=s&&s.appContext.config||je;if(s){let S=s.parent;const T=s.proxy,O=`https://vuejs.org/error-reference/#runtime-${a}`;for(;S;){const k=S.ec;if(k){for(let H=0;H<k.length;H++)if(k[H](o,T,O)===!1)return}S=S.parent}if(p){An(),oo(p,null,10,[o,T,O]),On();return}}Ad(o,a,d,c,y)}function Ad(o,s,a,c=!0,d=!1){if(d)throw o;console.error(o)}const Gt=[];let Lr=-1;const si=[];let on=null,ni=0;const Hf=Promise.resolve();let es=null;function Od(o){const s=es||Hf;return o?s.then(this?o.bind(this):o):s}function _d(o){let s=Lr+1,a=Gt.length;for(;s<a;){const c=s+a>>>1,d=Gt[c],p=$i(d);p<o||p===o&&d.flags&2?s=c+1:a=c}return s}function Bl(o){if(!(o.flags&1)){const s=$i(o),a=Gt[Gt.length-1];!a||!(o.flags&2)&&s>=$i(a)?Gt.push(o):Gt.splice(_d(s),0,o),o.flags|=1,Nf()}}function Nf(){es||(es=Hf.then(Df))}function Hd(o){Ie(o)?si.push(...o):on&&o.id===-1?on.splice(ni+1,0,o):o.flags&1||(si.push(o),o.flags|=1),Nf()}function Yu(o,s,a=Lr+1){for(;a<Gt.length;a++){const c=Gt[a];if(c&&c.flags&2){if(o&&c.id!==o.uid)continue;Gt.splice(a,1),a--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function Ef(o){if(si.length){const s=[...new Set(si)].sort((a,c)=>$i(a)-$i(c));if(si.length=0,on){on.push(...s);return}for(on=s,ni=0;ni<on.length;ni++){const a=on[ni];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}on=null,ni=0}}const $i=o=>o.id==null?o.flags&2?-1:1/0:o.id;function Df(o){try{for(Lr=0;Lr<Gt.length;Lr++){const s=Gt[Lr];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),oo(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Lr<Gt.length;Lr++){const s=Gt[Lr];s&&(s.flags&=-2)}Lr=-1,Gt.length=0,Ef(),es=null,(Gt.length||si.length)&&Df()}}let rr=null,If=null;function ts(o){const s=rr;return rr=o,If=o&&o.type.__scopeId||null,s}function Nd(o,s=rr,a){if(!s||o._n)return o;const c=(...d)=>{c._d&&nf(-1);const p=ts(s);let y;try{y=o(...d)}finally{ts(p),c._d&&nf(1)}return y};return c._n=!0,c._c=!0,c._d=!0,c}function Zt(o,s){if(rr===null)return o;const a=hs(rr),c=o.dirs||(o.dirs=[]);for(let d=0;d<s.length;d++){let[p,y,S,T=je]=s[d];p&&(Oe(p)&&(p={mounted:p,updated:p}),p.deep&&Cd(y),c.push({dir:p,instance:a,value:y,oldValue:void 0,arg:S,modifiers:T}))}return o}function kn(o,s,a,c){const d=o.dirs,p=s&&s.dirs;for(let y=0;y<d.length;y++){const S=d[y];p&&(S.oldValue=p[y].value);let T=S.dir[c];T&&(An(),_r(T,a,8,[o.el,S,o,s]),On())}}const Ed=Symbol("_vte"),Dd=o=>o.__isTeleport;function zl(o,s){o.shapeFlag&6&&o.component?(o.transition=s,zl(o.component.subTree,s)):o.shapeFlag&128?(o.ssContent.transition=s.clone(o.ssContent),o.ssFallback.transition=s.clone(o.ssFallback)):o.transition=s}function Pf(o){o.ids=[o.ids[0]+o.ids[2]+++"-",0,0]}function ji(o,s,a,c,d=!1){if(Ie(o)){o.forEach((ie,se)=>ji(ie,s&&(Ie(s)?s[se]:s),a,c,d));return}if(Zi(c)&&!d){c.shapeFlag&512&&c.type.__asyncResolved&&c.component.subTree.component&&ji(o,s,a,c.component.subTree);return}const p=c.shapeFlag&4?hs(c.component):c.el,y=d?null:p,{i:S,r:T}=o,O=s&&s.r,k=S.refs===je?S.refs={}:S.refs,H=S.setupState,B=Fl(H),R=H===je?()=>!1:ie=>Ye(B,ie);if(O!=null&&O!==T&&(Vt(O)?(k[O]=null,R(O)&&(H[O]=null)):$o(O)&&(O.value=null)),Oe(T))oo(T,S,12,[y,k]);else{const ie=Vt(T),se=$o(T);if(ie||se){const ye=()=>{if(o.f){const ce=ie?R(T)?H[T]:k[T]:T.value;d?Ie(ce)&&Af(ce,p):Ie(ce)?ce.includes(p)||ce.push(p):ie?(k[T]=[p],R(T)&&(H[T]=k[T])):(T.value=[p],o.k&&(k[o.k]=T.value))}else ie?(k[T]=y,R(T)&&(H[T]=y)):se&&(T.value=y,o.k&&(k[o.k]=y))};y?(ye.id=-1,tr(ye,a)):ye()}}}ss().requestIdleCallback;ss().cancelIdleCallback;const Zi=o=>!!o.type.__asyncLoader,Ff=o=>o.type.__isKeepAlive;function Id(o,s){Wf(o,"a",s)}function Pd(o,s){Wf(o,"da",s)}function Wf(o,s,a=Dt){const c=o.__wdc||(o.__wdc=()=>{let d=a;for(;d;){if(d.isDeactivated)return;d=d.parent}return o()});if(us(s,c,a),a){let d=a.parent;for(;d&&d.parent;)Ff(d.parent.vnode)&&Fd(c,s,a,d),d=d.parent}}function Fd(o,s,a,c){const d=us(s,o,c,!0);zf(()=>{Af(c[s],d)},a)}function us(o,s,a=Dt,c=!1){if(a){const d=a[o]||(a[o]=[]),p=s.__weh||(s.__weh=(...y)=>{An();const S=so(a),T=_r(s,a,o,y);return S(),On(),T});return c?d.unshift(p):d.push(p),p}}const Kr=o=>(s,a=Dt)=>{(!to||o==="sp")&&us(o,(...c)=>s(...c),a)},Wd=Kr("bm"),Rf=Kr("m"),Rd=Kr("bu"),Bd=Kr("u"),Bf=Kr("bum"),zf=Kr("um"),zd=Kr("sp"),Ud=Kr("rtg"),Gd=Kr("rtc");function Kd(o,s=Dt){us("ec",o,s)}const Xd="components";function Ar(o,s){return Yd(Xd,o,!0,s)||o}const qd=Symbol.for("v-ndc");function Yd(o,s,a=!0,c=!1){const d=rr||Dt;if(d){const p=d.type;{const S=Ip(p,!1);if(S&&(S===s||S===lr(s)||S===Rl(lr(s))))return p}const y=ju(d[o]||p[o],s)||ju(d.appContext[o],s);return!y&&c?p:y}}function ju(o,s){return o&&(o[s]||o[lr(s)]||o[Rl(lr(s))])}const _l=o=>o?uc(o)?hs(o):_l(o.parent):null,Ji=Jt(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>_l(o.parent),$root:o=>_l(o.root),$host:o=>o.ce,$emit:o=>o.emit,$options:o=>Gf(o),$forceUpdate:o=>o.f||(o.f=()=>{Bl(o.update)}),$nextTick:o=>o.n||(o.n=Od.bind(o.proxy)),$watch:o=>gp.bind(o)}),gl=(o,s)=>o!==je&&!o.__isScriptSetup&&Ye(o,s),jd={get({_:o},s){if(s==="__v_skip")return!0;const{ctx:a,setupState:c,data:d,props:p,accessCache:y,type:S,appContext:T}=o;let O;if(s[0]!=="$"){const R=y[s];if(R!==void 0)switch(R){case 1:return c[s];case 2:return d[s];case 4:return a[s];case 3:return p[s]}else{if(gl(c,s))return y[s]=1,c[s];if(d!==je&&Ye(d,s))return y[s]=2,d[s];if((O=o.propsOptions[0])&&Ye(O,s))return y[s]=3,p[s];if(a!==je&&Ye(a,s))return y[s]=4,a[s];Hl&&(y[s]=0)}}const k=Ji[s];let H,B;if(k)return s==="$attrs"&&Of(o.attrs,"get",""),k(o);if((H=S.__cssModules)&&(H=H[s]))return H;if(a!==je&&Ye(a,s))return y[s]=4,a[s];if(B=T.config.globalProperties,Ye(B,s))return B[s]},set({_:o},s,a){const{data:c,setupState:d,ctx:p}=o;return gl(d,s)?(d[s]=a,!0):c!==je&&Ye(c,s)?(c[s]=a,!0):Ye(o.props,s)||s[0]==="$"&&s.slice(1)in o?!1:(p[s]=a,!0)},has({_:{data:o,setupState:s,accessCache:a,ctx:c,appContext:d,propsOptions:p}},y){let S;return!!a[y]||o!==je&&Ye(o,y)||gl(s,y)||(S=p[0])&&Ye(S,y)||Ye(c,y)||Ye(Ji,y)||Ye(d.config.globalProperties,y)},defineProperty(o,s,a){return a.get!=null?o._.accessCache[s]=0:Ye(a,"value")&&this.set(o,s,a.value,null),Reflect.defineProperty(o,s,a)}};function Zu(o){return Ie(o)?o.reduce((s,a)=>(s[a]=null,s),{}):o}let Hl=!0;function Zd(o){const s=Gf(o),a=o.proxy,c=o.ctx;Hl=!1,s.beforeCreate&&Ju(s.beforeCreate,o,"bc");const{data:d,computed:p,methods:y,watch:S,provide:T,inject:O,created:k,beforeMount:H,mounted:B,beforeUpdate:R,updated:ie,activated:se,deactivated:ye,beforeDestroy:ce,beforeUnmount:he,destroyed:ge,unmounted:Te,render:pe,renderTracked:Be,renderTriggered:st,errorCaptured:Ne,serverPrefetch:Lt,expose:Ct,inheritAttrs:ht,components:lt,directives:I,filters:te}=s;if(O&&Jd(O,c,null),y)for(const be in y){const xe=y[be];Oe(xe)&&(c[be]=xe.bind(a))}if(d){const be=d.call(a,a);sr(be)&&(o.data=xd(be))}if(Hl=!0,p)for(const be in p){const xe=p[be],ze=Oe(xe)?xe.bind(a,a):Oe(xe.get)?xe.get.bind(a,a):Gr,We=!Oe(xe)&&Oe(xe.set)?xe.set.bind(a):Gr,Ke=Fp({get:ze,set:We});Object.defineProperty(c,be,{enumerable:!0,configurable:!0,get:()=>Ke.value,set:Xe=>Ke.value=Xe})}if(S)for(const be in S)Uf(S[be],c,a,be);if(T){const be=Oe(T)?T.call(a):T;Reflect.ownKeys(be).forEach(xe=>{rp(xe,be[xe])})}k&&Ju(k,o,"c");function Fe(be,xe){Ie(xe)?xe.forEach(ze=>be(ze.bind(a))):xe&&be(xe.bind(a))}if(Fe(Wd,H),Fe(Rf,B),Fe(Rd,R),Fe(Bd,ie),Fe(Id,se),Fe(Pd,ye),Fe(Kd,Ne),Fe(Gd,Be),Fe(Ud,st),Fe(Bf,he),Fe(zf,Te),Fe(zd,Lt),Ie(Ct))if(Ct.length){const be=o.exposed||(o.exposed={});Ct.forEach(xe=>{Object.defineProperty(be,xe,{get:()=>a[xe],set:ze=>a[xe]=ze,enumerable:!0})})}else o.exposed||(o.exposed={});pe&&o.render===Gr&&(o.render=pe),ht!=null&&(o.inheritAttrs=ht),lt&&(o.components=lt),I&&(o.directives=I),Lt&&Pf(o)}function Jd(o,s,a=Gr){Ie(o)&&(o=Nl(o));for(const c in o){const d=o[c];let p;sr(d)?"default"in d?p=jo(d.from||c,d.default,!0):p=jo(d.from||c):p=jo(d),$o(p)?Object.defineProperty(s,c,{enumerable:!0,configurable:!0,get:()=>p.value,set:y=>p.value=y}):s[c]=p}}function Ju(o,s,a){_r(Ie(o)?o.map(c=>c.bind(s.proxy)):o.bind(s.proxy),s,a)}function Uf(o,s,a,c){let d=c.includes(".")?rc(a,c):()=>a[c];if(Vt(o)){const p=s[o];Oe(p)&&Zo(d,p)}else if(Oe(o))Zo(d,o.bind(a));else if(sr(o))if(Ie(o))o.forEach(p=>Uf(p,s,a,c));else{const p=Oe(o.handler)?o.handler.bind(a):s[o.handler];Oe(p)&&Zo(d,p,o)}}function Gf(o){const s=o.type,{mixins:a,extends:c}=s,{mixins:d,optionsCache:p,config:{optionMergeStrategies:y}}=o.appContext,S=p.get(s);let T;return S?T=S:!d.length&&!a&&!c?T=s:(T={},d.length&&d.forEach(O=>rs(T,O,y,!0)),rs(T,s,y)),sr(s)&&p.set(s,T),T}function rs(o,s,a,c=!1){const{mixins:d,extends:p}=s;p&&rs(o,p,a,!0),d&&d.forEach(y=>rs(o,y,a,!0));for(const y in s)if(!(c&&y==="expose")){const S=Vd[y]||a&&a[y];o[y]=S?S(o[y],s[y]):s[y]}return o}const Vd={data:Vu,props:Qu,emits:Qu,methods:Ki,computed:Ki,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:Ki,directives:Ki,watch:$d,provide:Vu,inject:Qd};function Vu(o,s){return s?o?function(){return Jt(Oe(o)?o.call(this,this):o,Oe(s)?s.call(this,this):s)}:s:o}function Qd(o,s){return Ki(Nl(o),Nl(s))}function Nl(o){if(Ie(o)){const s={};for(let a=0;a<o.length;a++)s[o[a]]=o[a];return s}return o}function Ut(o,s){return o?[...new Set([].concat(o,s))]:s}function Ki(o,s){return o?Jt(Object.create(null),o,s):s}function Qu(o,s){return o?Ie(o)&&Ie(s)?[...new Set([...o,...s])]:Jt(Object.create(null),Zu(o),Zu(s??{})):s}function $d(o,s){if(!o)return s;if(!s)return o;const a=Jt(Object.create(null),o);for(const c in s)a[c]=Ut(o[c],s[c]);return a}function Kf(){return{app:null,config:{isNativeTag:dd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ep=0;function tp(o,s){return function(c,d=null){Oe(c)||(c=Jt({},c)),d!=null&&!sr(d)&&(d=null);const p=Kf(),y=new WeakSet,S=[];let T=!1;const O=p.app={_uid:ep++,_component:c,_props:d,_container:null,_context:p,_instance:null,version:Wp,get config(){return p.config},set config(k){},use(k,...H){return y.has(k)||(k&&Oe(k.install)?(y.add(k),k.install(O,...H)):Oe(k)&&(y.add(k),k(O,...H))),O},mixin(k){return p.mixins.includes(k)||p.mixins.push(k),O},component(k,H){return H?(p.components[k]=H,O):p.components[k]},directive(k,H){return H?(p.directives[k]=H,O):p.directives[k]},mount(k,H,B){if(!T){const R=O._ceVNode||Re(c,d);return R.appContext=p,B===!0?B="svg":B===!1&&(B=void 0),o(R,k,B),T=!0,O._container=k,k.__vue_app__=O,hs(R.component)}},onUnmount(k){S.push(k)},unmount(){T&&(_r(S,O._instance,16),o(null,O._container),delete O._container.__vue_app__)},provide(k,H){return p.provides[k]=H,O},runWithContext(k){const H=li;li=O;try{return k()}finally{li=H}}};return O}}let li=null;function rp(o,s){if(Dt){let a=Dt.provides;const c=Dt.parent&&Dt.parent.provides;c===a&&(a=Dt.provides=Object.create(c)),a[o]=s}}function jo(o,s,a=!1){const c=_p();if(c||li){let d=li?li._context.provides:c?c.parent==null||c.ce?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(d&&o in d)return d[o];if(arguments.length>1)return a&&Oe(s)?s.call(c&&c.proxy):s}}const Xf={},qf=()=>Object.create(Xf),Yf=o=>Object.getPrototypeOf(o)===Xf;function np(o,s,a,c=!1){const d={},p=qf();o.propsDefaults=Object.create(null),jf(o,s,d,p);for(const y in o.propsOptions[0])y in d||(d[y]=void 0);a?o.props=c?d:yd(d):o.type.props?o.props=d:o.props=p,o.attrs=p}function ip(o,s,a,c){const{props:d,attrs:p,vnode:{patchFlag:y}}=o,S=Fl(d),[T]=o.propsOptions;let O=!1;if((c||y>0)&&!(y&16)){if(y&8){const k=o.vnode.dynamicProps;for(let H=0;H<k.length;H++){let B=k[H];if(fs(o.emitsOptions,B))continue;const R=s[B];if(T)if(Ye(p,B))R!==p[B]&&(p[B]=R,O=!0);else{const ie=lr(B);d[ie]=El(T,S,ie,R,o,!1)}else R!==p[B]&&(p[B]=R,O=!0)}}}else{jf(o,s,d,p)&&(O=!0);let k;for(const H in S)(!s||!Ye(s,H)&&((k=cn(H))===H||!Ye(s,k)))&&(T?a&&(a[H]!==void 0||a[k]!==void 0)&&(d[H]=El(T,S,H,void 0,o,!0)):delete d[H]);if(p!==S)for(const H in p)(!s||!Ye(s,H))&&(delete p[H],O=!0)}O&&bd(o.attrs,"set","")}function jf(o,s,a,c){const[d,p]=o.propsOptions;let y=!1,S;if(s)for(let T in s){if(qi(T))continue;const O=s[T];let k;d&&Ye(d,k=lr(T))?!p||!p.includes(k)?a[k]=O:(S||(S={}))[k]=O:fs(o.emitsOptions,T)||(!(T in c)||O!==c[T])&&(c[T]=O,y=!0)}if(p){const T=Fl(a),O=S||je;for(let k=0;k<p.length;k++){const H=p[k];a[H]=El(d,T,H,O[H],o,!Ye(O,H))}}return y}function El(o,s,a,c,d,p){const y=o[a];if(y!=null){const S=Ye(y,"default");if(S&&c===void 0){const T=y.default;if(y.type!==Function&&!y.skipFactory&&Oe(T)){const{propsDefaults:O}=d;if(a in O)c=O[a];else{const k=so(d);c=O[a]=T.call(null,s),k()}}else c=T;d.ce&&d.ce._setProp(a,c)}y[0]&&(p&&!S?c=!1:y[1]&&(c===""||c===cn(a))&&(c=!0))}return c}const op=new WeakMap;function Zf(o,s,a=!1){const c=a?op:s.propsCache,d=c.get(o);if(d)return d;const p=o.props,y={},S=[];let T=!1;if(!Oe(o)){const k=H=>{T=!0;const[B,R]=Zf(H,s,!0);Jt(y,B),R&&S.push(...R)};!a&&s.mixins.length&&s.mixins.forEach(k),o.extends&&k(o.extends),o.mixins&&o.mixins.forEach(k)}if(!p&&!T)return sr(o)&&c.set(o,oi),oi;if(Ie(p))for(let k=0;k<p.length;k++){const H=lr(p[k]);$u(H)&&(y[H]=je)}else if(p)for(const k in p){const H=lr(k);if($u(H)){const B=p[k],R=y[H]=Ie(B)||Oe(B)?{type:B}:Jt({},B),ie=R.type;let se=!1,ye=!0;if(Ie(ie))for(let ce=0;ce<ie.length;++ce){const he=ie[ce],ge=Oe(he)&&he.name;if(ge==="Boolean"){se=!0;break}else ge==="String"&&(ye=!1)}else se=Oe(ie)&&ie.name==="Boolean";R[0]=se,R[1]=ye,(se||Ye(R,"default"))&&S.push(H)}}const O=[y,S];return sr(o)&&c.set(o,O),O}function $u(o){return o[0]!=="$"&&!qi(o)}const Ul=o=>o==="_"||o==="__"||o==="_ctx"||o==="$stable",Gl=o=>Ie(o)?o.map(Mr):[Mr(o)],sp=(o,s,a)=>{if(s._n)return s;const c=Nd((...d)=>Gl(s(...d)),a);return c._c=!1,c},Jf=(o,s,a)=>{const c=o._ctx;for(const d in o){if(Ul(d))continue;const p=o[d];if(Oe(p))s[d]=sp(d,p,c);else if(p!=null){const y=Gl(p);s[d]=()=>y}}},Vf=(o,s)=>{const a=Gl(s);o.slots.default=()=>a},Qf=(o,s,a)=>{for(const c in s)(a||!Ul(c))&&(o[c]=s[c])},lp=(o,s,a)=>{const c=o.slots=qf();if(o.vnode.shapeFlag&32){const d=s.__;d&&qu(c,"__",d,!0);const p=s._;p?(Qf(c,s,a),a&&qu(c,"_",p,!0)):Jf(s,c)}else s&&Vf(o,s)},ap=(o,s,a)=>{const{vnode:c,slots:d}=o;let p=!0,y=je;if(c.shapeFlag&32){const S=s._;S?a&&S===1?p=!1:Qf(d,s,a):(p=!s.$stable,Jf(s,d)),y=s}else s&&(Vf(o,s),y={default:1});if(p)for(const S in d)!Ul(S)&&y[S]==null&&delete d[S]},tr=Cp;function up(o){return fp(o)}function fp(o,s){const a=ss();a.__VUE__=!0;const{insert:c,remove:d,patchProp:p,createElement:y,createText:S,createComment:T,setText:O,setElementText:k,parentNode:H,nextSibling:B,setScopeId:R=Gr,insertStaticContent:ie}=o,se=(w,M,E,G=null,W=null,z=null,J=void 0,Z=null,F=!!M.dynamicChildren)=>{if(w===M)return;w&&!Ui(w,M)&&(G=fe(w),Xe(w,W,z,!0),w=null),M.patchFlag===-2&&(F=!1,M.dynamicChildren=null);const{type:K,ref:le,shapeFlag:$}=M;switch(K){case cs:ye(w,M,E,G);break;case fn:ce(w,M,E,G);break;case ml:w==null&&he(M,E,G,J);break;case Ur:lt(w,M,E,G,W,z,J,Z,F);break;default:$&1?pe(w,M,E,G,W,z,J,Z,F):$&6?I(w,M,E,G,W,z,J,Z,F):($&64||$&128)&&K.process(w,M,E,G,W,z,J,Z,F,Ht)}le!=null&&W?ji(le,w&&w.ref,z,M||w,!M):le==null&&w&&w.ref!=null&&ji(w.ref,null,z,w,!0)},ye=(w,M,E,G)=>{if(w==null)c(M.el=S(M.children),E,G);else{const W=M.el=w.el;M.children!==w.children&&O(W,M.children)}},ce=(w,M,E,G)=>{w==null?c(M.el=T(M.children||""),E,G):M.el=w.el},he=(w,M,E,G)=>{[w.el,w.anchor]=ie(w.children,M,E,G,w.el,w.anchor)},ge=({el:w,anchor:M},E,G)=>{let W;for(;w&&w!==M;)W=B(w),c(w,E,G),w=W;c(M,E,G)},Te=({el:w,anchor:M})=>{let E;for(;w&&w!==M;)E=B(w),d(w),w=E;d(M)},pe=(w,M,E,G,W,z,J,Z,F)=>{M.type==="svg"?J="svg":M.type==="math"&&(J="mathml"),w==null?Be(M,E,G,W,z,J,Z,F):Lt(w,M,W,z,J,Z,F)},Be=(w,M,E,G,W,z,J,Z)=>{let F,K;const{props:le,shapeFlag:$,transition:oe,dirs:ve}=w;if(F=w.el=y(w.type,z,le&&le.is,le),$&8?k(F,w.children):$&16&&Ne(w.children,F,null,G,W,vl(w,z),J,Z),ve&&kn(w,null,G,"created"),st(F,w,w.scopeId,J,G),le){for(const Me in le)Me!=="value"&&!qi(Me)&&p(F,Me,null,le[Me],z,G);"value"in le&&p(F,"value",null,le.value,z),(K=le.onVnodeBeforeMount)&&kr(K,G,w)}ve&&kn(w,null,G,"beforeMount");const Le=cp(W,oe);Le&&oe.beforeEnter(F),c(F,M,E),((K=le&&le.onVnodeMounted)||Le||ve)&&tr(()=>{K&&kr(K,G,w),Le&&oe.enter(F),ve&&kn(w,null,G,"mounted")},W)},st=(w,M,E,G,W)=>{if(E&&R(w,E),G)for(let z=0;z<G.length;z++)R(w,G[z]);if(W){let z=W.subTree;if(M===z||ic(z.type)&&(z.ssContent===M||z.ssFallback===M)){const J=W.vnode;st(w,J,J.scopeId,J.slotScopeIds,W.parent)}}},Ne=(w,M,E,G,W,z,J,Z,F=0)=>{for(let K=F;K<w.length;K++){const le=w[K]=Z?sn(w[K]):Mr(w[K]);se(null,le,M,E,G,W,z,J,Z)}},Lt=(w,M,E,G,W,z,J)=>{const Z=M.el=w.el;let{patchFlag:F,dynamicChildren:K,dirs:le}=M;F|=w.patchFlag&16;const $=w.props||je,oe=M.props||je;let ve;if(E&&Ln(E,!1),(ve=oe.onVnodeBeforeUpdate)&&kr(ve,E,M,w),le&&kn(M,w,E,"beforeUpdate"),E&&Ln(E,!0),($.innerHTML&&oe.innerHTML==null||$.textContent&&oe.textContent==null)&&k(Z,""),K?Ct(w.dynamicChildren,K,Z,E,G,vl(M,W),z):J||xe(w,M,Z,null,E,G,vl(M,W),z,!1),F>0){if(F&16)ht(Z,$,oe,E,W);else if(F&2&&$.class!==oe.class&&p(Z,"class",null,oe.class,W),F&4&&p(Z,"style",$.style,oe.style,W),F&8){const Le=M.dynamicProps;for(let Me=0;Me<Le.length;Me++){const He=Le[Me],Je=$[He],Ae=oe[He];(Ae!==Je||He==="value")&&p(Z,He,Je,Ae,W,E)}}F&1&&w.children!==M.children&&k(Z,M.children)}else!J&&K==null&&ht(Z,$,oe,E,W);((ve=oe.onVnodeUpdated)||le)&&tr(()=>{ve&&kr(ve,E,M,w),le&&kn(M,w,E,"updated")},G)},Ct=(w,M,E,G,W,z,J)=>{for(let Z=0;Z<M.length;Z++){const F=w[Z],K=M[Z],le=F.el&&(F.type===Ur||!Ui(F,K)||F.shapeFlag&198)?H(F.el):E;se(F,K,le,null,G,W,z,J,!0)}},ht=(w,M,E,G,W)=>{if(M!==E){if(M!==je)for(const z in M)!qi(z)&&!(z in E)&&p(w,z,M[z],null,W,G);for(const z in E){if(qi(z))continue;const J=E[z],Z=M[z];J!==Z&&z!=="value"&&p(w,z,Z,J,W,G)}"value"in E&&p(w,"value",M.value,E.value,W)}},lt=(w,M,E,G,W,z,J,Z,F)=>{const K=M.el=w?w.el:S(""),le=M.anchor=w?w.anchor:S("");let{patchFlag:$,dynamicChildren:oe,slotScopeIds:ve}=M;ve&&(Z=Z?Z.concat(ve):ve),w==null?(c(K,E,G),c(le,E,G),Ne(M.children||[],E,le,W,z,J,Z,F)):$>0&&$&64&&oe&&w.dynamicChildren?(Ct(w.dynamicChildren,oe,E,W,z,J,Z),(M.key!=null||W&&M===W.subTree)&&$f(w,M,!0)):xe(w,M,E,le,W,z,J,Z,F)},I=(w,M,E,G,W,z,J,Z,F)=>{M.slotScopeIds=Z,w==null?M.shapeFlag&512?W.ctx.activate(M,E,G,J,F):te(M,E,G,W,z,J,F):C(w,M,F)},te=(w,M,E,G,W,z,J)=>{const Z=w.component=Op(w,G,W);if(Ff(w)&&(Z.ctx.renderer=Ht),Hp(Z,!1,J),Z.asyncDep){if(W&&W.registerDep(Z,Fe,J),!w.el){const F=Z.subTree=Re(fn);ce(null,F,M,E),w.placeholder=F.el}}else Fe(Z,w,M,E,W,z,J)},C=(w,M,E)=>{const G=M.component=w.component;if(xp(w,M,E))if(G.asyncDep&&!G.asyncResolved){be(G,M,E);return}else G.next=M,G.update();else M.el=w.el,G.vnode=M},Fe=(w,M,E,G,W,z,J)=>{const Z=()=>{if(w.isMounted){let{next:$,bu:oe,u:ve,parent:Le,vnode:Me}=w;{const ut=ec(w);if(ut){$&&($.el=Me.el,be(w,$,J)),ut.asyncDep.then(()=>{w.isUnmounted||Z()});return}}let He=$,Je;Ln(w,!1),$?($.el=Me.el,be(w,$,J)):$=Me,oe&&Yo(oe),(Je=$.props&&$.props.onVnodeBeforeUpdate)&&kr(Je,Le,$,Me),Ln(w,!0);const Ae=tf(w),gt=w.subTree;w.subTree=Ae,se(gt,Ae,H(gt.el),fe(gt),w,W,z),$.el=Ae.el,He===null&&wp(w,Ae.el),ve&&tr(ve,W),(Je=$.props&&$.props.onVnodeUpdated)&&tr(()=>kr(Je,Le,$,Me),W)}else{let $;const{el:oe,props:ve}=M,{bm:Le,m:Me,parent:He,root:Je,type:Ae}=w,gt=Zi(M);Ln(w,!1),Le&&Yo(Le),!gt&&($=ve&&ve.onVnodeBeforeMount)&&kr($,He,M),Ln(w,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ae);const ut=w.subTree=tf(w);se(null,ut,E,G,w,W,z),M.el=ut.el}if(Me&&tr(Me,W),!gt&&($=ve&&ve.onVnodeMounted)){const ut=M;tr(()=>kr($,He,ut),W)}(M.shapeFlag&256||He&&Zi(He.vnode)&&He.vnode.shapeFlag&256)&&w.a&&tr(w.a,W),w.isMounted=!0,M=E=G=null}};w.scope.on();const F=w.effect=new vd(Z);w.scope.off();const K=w.update=F.run.bind(F),le=w.job=F.runIfDirty.bind(F);le.i=w,le.id=w.uid,F.scheduler=()=>Bl(le),Ln(w,!0),K()},be=(w,M,E)=>{M.component=w;const G=w.vnode.props;w.vnode=M,w.next=null,ip(w,M.props,G,E),ap(w,M.children,E),An(),Yu(w),On()},xe=(w,M,E,G,W,z,J,Z,F=!1)=>{const K=w&&w.children,le=w?w.shapeFlag:0,$=M.children,{patchFlag:oe,shapeFlag:ve}=M;if(oe>0){if(oe&128){We(K,$,E,G,W,z,J,Z,F);return}else if(oe&256){ze(K,$,E,G,W,z,J,Z,F);return}}ve&8?(le&16&&de(K,W,z),$!==K&&k(E,$)):le&16?ve&16?We(K,$,E,G,W,z,J,Z,F):de(K,W,z,!0):(le&8&&k(E,""),ve&16&&Ne($,E,G,W,z,J,Z,F))},ze=(w,M,E,G,W,z,J,Z,F)=>{w=w||oi,M=M||oi;const K=w.length,le=M.length,$=Math.min(K,le);let oe;for(oe=0;oe<$;oe++){const ve=M[oe]=F?sn(M[oe]):Mr(M[oe]);se(w[oe],ve,E,null,W,z,J,Z,F)}K>le?de(w,W,z,!0,!1,$):Ne(M,E,G,W,z,J,Z,F,$)},We=(w,M,E,G,W,z,J,Z,F)=>{let K=0;const le=M.length;let $=w.length-1,oe=le-1;for(;K<=$&&K<=oe;){const ve=w[K],Le=M[K]=F?sn(M[K]):Mr(M[K]);if(Ui(ve,Le))se(ve,Le,E,null,W,z,J,Z,F);else break;K++}for(;K<=$&&K<=oe;){const ve=w[$],Le=M[oe]=F?sn(M[oe]):Mr(M[oe]);if(Ui(ve,Le))se(ve,Le,E,null,W,z,J,Z,F);else break;$--,oe--}if(K>$){if(K<=oe){const ve=oe+1,Le=ve<le?M[ve].el:G;for(;K<=oe;)se(null,M[K]=F?sn(M[K]):Mr(M[K]),E,Le,W,z,J,Z,F),K++}}else if(K>oe)for(;K<=$;)Xe(w[K],W,z,!0),K++;else{const ve=K,Le=K,Me=new Map;for(K=Le;K<=oe;K++){const it=M[K]=F?sn(M[K]):Mr(M[K]);it.key!=null&&Me.set(it.key,K)}let He,Je=0;const Ae=oe-Le+1;let gt=!1,ut=0;const Kt=new Array(Ae);for(K=0;K<Ae;K++)Kt[K]=0;for(K=ve;K<=$;K++){const it=w[K];if(Je>=Ae){Xe(it,W,z,!0);continue}let Xt;if(it.key!=null)Xt=Me.get(it.key);else for(He=Le;He<=oe;He++)if(Kt[He-Le]===0&&Ui(it,M[He])){Xt=He;break}Xt===void 0?Xe(it,W,z,!0):(Kt[Xt-Le]=K+1,Xt>=ut?ut=Xt:gt=!0,se(it,M[Xt],E,null,W,z,J,Z,F),Je++)}const yr=gt?hp(Kt):oi;for(He=yr.length-1,K=Ae-1;K>=0;K--){const it=Le+K,Xt=M[it],ke=M[it+1],hn=it+1<le?ke.el||ke.placeholder:G;Kt[K]===0?se(null,Xt,E,hn,W,z,J,Z,F):gt&&(He<0||K!==yr[He]?Ke(Xt,E,hn,2):He--)}}},Ke=(w,M,E,G,W=null)=>{const{el:z,type:J,transition:Z,children:F,shapeFlag:K}=w;if(K&6){Ke(w.component.subTree,M,E,G);return}if(K&128){w.suspense.move(M,E,G);return}if(K&64){J.move(w,M,E,Ht);return}if(J===Ur){c(z,M,E);for(let $=0;$<F.length;$++)Ke(F[$],M,E,G);c(w.anchor,M,E);return}if(J===ml){ge(w,M,E);return}if(G!==2&&K&1&&Z)if(G===0)Z.beforeEnter(z),c(z,M,E),tr(()=>Z.enter(z),W);else{const{leave:$,delayLeave:oe,afterLeave:ve}=Z,Le=()=>{w.ctx.isUnmounted?d(z):c(z,M,E)},Me=()=>{$(z,()=>{Le(),ve&&ve()})};oe?oe(z,Le,Me):Me()}else c(z,M,E)},Xe=(w,M,E,G=!1,W=!1)=>{const{type:z,props:J,ref:Z,children:F,dynamicChildren:K,shapeFlag:le,patchFlag:$,dirs:oe,cacheIndex:ve}=w;if($===-2&&(W=!1),Z!=null&&(An(),ji(Z,null,E,w,!0),On()),ve!=null&&(M.renderCache[ve]=void 0),le&256){M.ctx.deactivate(w);return}const Le=le&1&&oe,Me=!Zi(w);let He;if(Me&&(He=J&&J.onVnodeBeforeUnmount)&&kr(He,M,w),le&6)at(w.component,E,G);else{if(le&128){w.suspense.unmount(E,G);return}Le&&kn(w,null,M,"beforeUnmount"),le&64?w.type.remove(w,M,E,Ht,G):K&&!K.hasOnce&&(z!==Ur||$>0&&$&64)?de(K,M,E,!1,!0):(z===Ur&&$&384||!W&&le&16)&&de(F,M,E),G&&qe(w)}(Me&&(He=J&&J.onVnodeUnmounted)||Le)&&tr(()=>{He&&kr(He,M,w),Le&&kn(w,null,M,"unmounted")},E)},qe=w=>{const{type:M,el:E,anchor:G,transition:W}=w;if(M===Ur){St(E,G);return}if(M===ml){Te(w);return}const z=()=>{d(E),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(w.shapeFlag&1&&W&&!W.persisted){const{leave:J,delayLeave:Z}=W,F=()=>J(E,z);Z?Z(w.el,z,F):F()}else z()},St=(w,M)=>{let E;for(;w!==M;)E=B(w),d(w),w=E;d(M)},at=(w,M,E)=>{const{bum:G,scope:W,job:z,subTree:J,um:Z,m:F,a:K,parent:le,slots:{__:$}}=w;ef(F),ef(K),G&&Yo(G),le&&Ie($)&&$.forEach(oe=>{le.renderCache[oe]=void 0}),W.stop(),z&&(z.flags|=8,Xe(J,w,M,E)),Z&&tr(Z,M),tr(()=>{w.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},de=(w,M,E,G=!1,W=!1,z=0)=>{for(let J=z;J<w.length;J++)Xe(w[J],M,E,G,W)},fe=w=>{if(w.shapeFlag&6)return fe(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const M=B(w.anchor||w.el),E=M&&M[Ed];return E?B(E):M};let we=!1;const _e=(w,M,E)=>{w==null?M._vnode&&Xe(M._vnode,null,null,!0):se(M._vnode||null,w,M,null,null,null,E),M._vnode=w,we||(we=!0,Yu(),Ef(),we=!1)},Ht={p:se,um:Xe,m:Ke,r:qe,mt:te,mc:Ne,pc:xe,pbc:Ct,n:fe,o};return{render:_e,hydrate:void 0,createApp:tp(_e)}}function vl({type:o,props:s},a){return a==="svg"&&o==="foreignObject"||a==="mathml"&&o==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:a}function Ln({effect:o,job:s},a){a?(o.flags|=32,s.flags|=4):(o.flags&=-33,s.flags&=-5)}function cp(o,s){return(!o||o&&!o.pendingBranch)&&s&&!s.persisted}function $f(o,s,a=!1){const c=o.children,d=s.children;if(Ie(c)&&Ie(d))for(let p=0;p<c.length;p++){const y=c[p];let S=d[p];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=d[p]=sn(d[p]),S.el=y.el),!a&&S.patchFlag!==-2&&$f(y,S)),S.type===cs&&(S.el=y.el),S.type===fn&&!S.el&&(S.el=y.el)}}function hp(o){const s=o.slice(),a=[0];let c,d,p,y,S;const T=o.length;for(c=0;c<T;c++){const O=o[c];if(O!==0){if(d=a[a.length-1],o[d]<O){s[c]=d,a.push(c);continue}for(p=0,y=a.length-1;p<y;)S=p+y>>1,o[a[S]]<O?p=S+1:y=S;O<o[a[p]]&&(p>0&&(s[c]=a[p-1]),a[p]=c)}}for(p=a.length,y=a[p-1];p-- >0;)a[p]=y,y=s[y];return a}function ec(o){const s=o.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:ec(s)}function ef(o){if(o)for(let s=0;s<o.length;s++)o[s].flags|=8}const dp=Symbol.for("v-scx"),pp=()=>jo(dp);function Zo(o,s,a){return tc(o,s,a)}function tc(o,s,a=je){const{immediate:c,deep:d,flush:p,once:y}=a,S=Jt({},a),T=s&&c||!s&&p!=="post";let O;if(to){if(p==="sync"){const R=pp();O=R.__watcherHandles||(R.__watcherHandles=[])}else if(!T){const R=()=>{};return R.stop=Gr,R.resume=Gr,R.pause=Gr,R}}const k=Dt;S.call=(R,ie,se)=>_r(R,k,ie,se);let H=!1;p==="post"?S.scheduler=R=>{tr(R,k&&k.suspense)}:p!=="sync"&&(H=!0,S.scheduler=(R,ie)=>{ie?R():Bl(R)}),S.augmentJob=R=>{s&&(R.flags|=4),H&&(R.flags|=2,k&&(R.id=k.uid,R.i=k))};const B=md(o,s,S);return to&&(O?O.push(B):T&&B()),B}function gp(o,s,a){const c=this.proxy,d=Vt(o)?o.includes(".")?rc(c,o):()=>c[o]:o.bind(c,c);let p;Oe(s)?p=s:(p=s.handler,a=s);const y=so(this),S=tc(d,p.bind(c),a);return y(),S}function rc(o,s){const a=s.split(".");return()=>{let c=o;for(let d=0;d<a.length&&c;d++)c=c[a[d]];return c}}const vp=(o,s)=>s==="modelValue"||s==="model-value"?o.modelModifiers:o[`${s}Modifiers`]||o[`${lr(s)}Modifiers`]||o[`${cn(s)}Modifiers`];function mp(o,s,...a){if(o.isUnmounted)return;const c=o.vnode.props||je;let d=a;const p=s.startsWith("update:"),y=p&&vp(c,s.slice(7));y&&(y.trim&&(d=a.map(k=>Vt(k)?k.trim():k)),y.number&&(d=a.map(Ol)));let S,T=c[S=pl(s)]||c[S=pl(lr(s))];!T&&p&&(T=c[S=pl(cn(s))]),T&&_r(T,o,6,d);const O=c[S+"Once"];if(O){if(!o.emitted)o.emitted={};else if(o.emitted[S])return;o.emitted[S]=!0,_r(O,o,6,d)}}function nc(o,s,a=!1){const c=s.emitsCache,d=c.get(o);if(d!==void 0)return d;const p=o.emits;let y={},S=!1;if(!Oe(o)){const T=O=>{const k=nc(O,s,!0);k&&(S=!0,Jt(y,k))};!a&&s.mixins.length&&s.mixins.forEach(T),o.extends&&T(o.extends),o.mixins&&o.mixins.forEach(T)}return!p&&!S?(sr(o)&&c.set(o,null),null):(Ie(p)?p.forEach(T=>y[T]=null):Jt(y,p),sr(o)&&c.set(o,y),y)}function fs(o,s){return!o||!ls(s)?!1:(s=s.slice(2).replace(/Once$/,""),Ye(o,s[0].toLowerCase()+s.slice(1))||Ye(o,cn(s))||Ye(o,s))}function tf(o){const{type:s,vnode:a,proxy:c,withProxy:d,propsOptions:[p],slots:y,attrs:S,emit:T,render:O,renderCache:k,props:H,data:B,setupState:R,ctx:ie,inheritAttrs:se}=o,ye=ts(o);let ce,he;try{if(a.shapeFlag&4){const Te=d||c,pe=Te;ce=Mr(O.call(pe,Te,k,H,R,B,ie)),he=S}else{const Te=s;ce=Mr(Te.length>1?Te(H,{attrs:S,slots:y,emit:T}):Te(H,null)),he=s.props?S:yp(S)}}catch(Te){Vi.length=0,as(Te,o,1),ce=Re(fn)}let ge=ce;if(he&&se!==!1){const Te=Object.keys(he),{shapeFlag:pe}=ge;Te.length&&pe&7&&(p&&Te.some(Wl)&&(he=bp(he,p)),ge=ai(ge,he,!1,!0))}return a.dirs&&(ge=ai(ge,null,!1,!0),ge.dirs=ge.dirs?ge.dirs.concat(a.dirs):a.dirs),a.transition&&zl(ge,a.transition),ce=ge,ts(ye),ce}const yp=o=>{let s;for(const a in o)(a==="class"||a==="style"||ls(a))&&((s||(s={}))[a]=o[a]);return s},bp=(o,s)=>{const a={};for(const c in o)(!Wl(c)||!(c.slice(9)in s))&&(a[c]=o[c]);return a};function xp(o,s,a){const{props:c,children:d,component:p}=o,{props:y,children:S,patchFlag:T}=s,O=p.emitsOptions;if(s.dirs||s.transition)return!0;if(a&&T>=0){if(T&1024)return!0;if(T&16)return c?rf(c,y,O):!!y;if(T&8){const k=s.dynamicProps;for(let H=0;H<k.length;H++){const B=k[H];if(y[B]!==c[B]&&!fs(O,B))return!0}}}else return(d||S)&&(!S||!S.$stable)?!0:c===y?!1:c?y?rf(c,y,O):!0:!!y;return!1}function rf(o,s,a){const c=Object.keys(s);if(c.length!==Object.keys(o).length)return!0;for(let d=0;d<c.length;d++){const p=c[d];if(s[p]!==o[p]&&!fs(a,p))return!0}return!1}function wp({vnode:o,parent:s},a){for(;s;){const c=s.subTree;if(c.suspense&&c.suspense.activeBranch===o&&(c.el=o.el),c===o)(o=s.vnode).el=a,s=s.parent;else break}}const ic=o=>o.__isSuspense;function Cp(o,s){s&&s.pendingBranch?Ie(o)?s.effects.push(...o):s.effects.push(o):Hd(o)}const Ur=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),ml=Symbol.for("v-stc"),Vi=[];let nr=null;function Ge(o=!1){Vi.push(nr=o?null:[])}function Sp(){Vi.pop(),nr=Vi[Vi.length-1]||null}let eo=1;function nf(o,s=!1){eo+=o,o<0&&nr&&s&&(nr.hasOnce=!0)}function oc(o){return o.dynamicChildren=eo>0?nr||oi:null,Sp(),eo>0&&nr&&nr.push(o),o}function nt(o,s,a,c,d,p){return oc(U(o,s,a,c,d,p,!0))}function Jo(o,s,a,c,d){return oc(Re(o,s,a,c,d,!0))}function sc(o){return o?o.__v_isVNode===!0:!1}function Ui(o,s){return o.type===s.type&&o.key===s.key}const lc=({key:o})=>o??null,Vo=({ref:o,ref_key:s,ref_for:a})=>(typeof o=="number"&&(o=""+o),o!=null?Vt(o)||$o(o)||Oe(o)?{i:rr,r:o,k:s,f:!!a}:o:null);function U(o,s=null,a=null,c=0,d=null,p=o===Ur?0:1,y=!1,S=!1){const T={__v_isVNode:!0,__v_skip:!0,type:o,props:s,key:s&&lc(s),ref:s&&Vo(s),scopeId:If,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:c,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:rr};return S?(Kl(T,a),p&128&&o.normalize(T)):a&&(T.shapeFlag|=Vt(a)?8:16),eo>0&&!y&&nr&&(T.patchFlag>0||p&6)&&T.patchFlag!==32&&nr.push(T),T}const Re=kp;function kp(o,s=null,a=null,c=0,d=null,p=!1){if((!o||o===qd)&&(o=fn),sc(o)){const S=ai(o,s,!0);return a&&Kl(S,a),eo>0&&!p&&nr&&(S.shapeFlag&6?nr[nr.indexOf(o)]=S:nr.push(S)),S.patchFlag=-2,S}if(Pp(o)&&(o=o.__vccOpts),s){s=Lp(s);let{class:S,style:T}=s;S&&!Vt(S)&&(s.class=Tr(S)),sr(T)&&(Lf(T)&&!Ie(T)&&(T=Jt({},T)),s.style=Or(T))}const y=Vt(o)?1:ic(o)?128:Dd(o)?64:sr(o)?4:Oe(o)?2:0;return U(o,s,a,c,d,y,p,!0)}function Lp(o){return o?Lf(o)||Yf(o)?Jt({},o):o:null}function ai(o,s,a=!1,c=!1){const{props:d,ref:p,patchFlag:y,children:S,transition:T}=o,O=s?Tp(d||{},s):d,k={__v_isVNode:!0,__v_skip:!0,type:o.type,props:O,key:O&&lc(O),ref:s&&s.ref?a&&p?Ie(p)?p.concat(Vo(s)):[p,Vo(s)]:Vo(s):p,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:S,target:o.target,targetStart:o.targetStart,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:s&&o.type!==Ur?y===-1?16:y|16:y,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:T,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&ai(o.ssContent),ssFallback:o.ssFallback&&ai(o.ssFallback),placeholder:o.placeholder,el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce};return T&&c&&zl(k,T.clone(k)),k}function ac(o=" ",s=0){return Re(cs,null,o,s)}function pt(o="",s=!1){return s?(Ge(),Jo(fn,null,o)):Re(fn,null,o)}function Mr(o){return o==null||typeof o=="boolean"?Re(fn):Ie(o)?Re(Ur,null,o.slice()):sc(o)?sn(o):Re(cs,null,String(o))}function sn(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:ai(o)}function Kl(o,s){let a=0;const{shapeFlag:c}=o;if(s==null)s=null;else if(Ie(s))a=16;else if(typeof s=="object")if(c&65){const d=s.default;d&&(d._c&&(d._d=!1),Kl(o,d()),d._c&&(d._d=!0));return}else{a=32;const d=s._;!d&&!Yf(s)?s._ctx=rr:d===3&&rr&&(rr.slots._===1?s._=1:(s._=2,o.patchFlag|=1024))}else Oe(s)?(s={default:s,_ctx:rr},a=32):(s=String(s),c&64?(a=16,s=[ac(s)]):a=8);o.children=s,o.shapeFlag|=a}function Tp(...o){const s={};for(let a=0;a<o.length;a++){const c=o[a];for(const d in c)if(d==="class")s.class!==c.class&&(s.class=Tr([s.class,c.class]));else if(d==="style")s.style=Or([s.style,c.style]);else if(ls(d)){const p=s[d],y=c[d];y&&p!==y&&!(Ie(p)&&p.includes(y))&&(s[d]=p?[].concat(p,y):y)}else d!==""&&(s[d]=c[d])}return s}function kr(o,s,a,c=null){_r(o,s,7,[a,c])}const Mp=Kf();let Ap=0;function Op(o,s,a){const c=o.type,d=(s?s.appContext:o.appContext)||Mp,p={uid:Ap++,vnode:o,type:c,parent:s,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new gd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(d.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zf(c,d),emitsOptions:nc(c,d),emit:null,emitted:null,propsDefaults:je,inheritAttrs:c.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=s?s.root:p,p.emit=mp.bind(null,p),o.ce&&o.ce(p),p}let Dt=null;const _p=()=>Dt||rr;let ns,Dl;{const o=ss(),s=(a,c)=>{let d;return(d=o[a])||(d=o[a]=[]),d.push(c),p=>{d.length>1?d.forEach(y=>y(p)):d[0](p)}};ns=s("__VUE_INSTANCE_SETTERS__",a=>Dt=a),Dl=s("__VUE_SSR_SETTERS__",a=>to=a)}const so=o=>{const s=Dt;return ns(o),o.scope.on(),()=>{o.scope.off(),ns(s)}},of=()=>{Dt&&Dt.scope.off(),ns(null)};function uc(o){return o.vnode.shapeFlag&4}let to=!1;function Hp(o,s=!1,a=!1){s&&Dl(s);const{props:c,children:d}=o.vnode,p=uc(o);np(o,c,p,s),lp(o,d,a||s);const y=p?Np(o,s):void 0;return s&&Dl(!1),y}function Np(o,s){const a=o.type;o.accessCache=Object.create(null),o.proxy=new Proxy(o.ctx,jd);const{setup:c}=a;if(c){An();const d=o.setupContext=c.length>1?Dp(o):null,p=so(o),y=oo(c,o,0,[o.props,d]),S=Mf(y);if(On(),p(),(S||o.sp)&&!Zi(o)&&Pf(o),S){if(y.then(of,of),s)return y.then(T=>{sf(o,T)}).catch(T=>{as(T,o,0)});o.asyncDep=y}else sf(o,y)}else fc(o)}function sf(o,s,a){Oe(s)?o.type.__ssrInlineRender?o.ssrRender=s:o.render=s:sr(s)&&(o.setupState=Tf(s)),fc(o)}function fc(o,s,a){const c=o.type;o.render||(o.render=c.render||Gr);{const d=so(o);An();try{Zd(o)}finally{On(),d()}}}const Ep={get(o,s){return Of(o,"get",""),o[s]}};function Dp(o){const s=a=>{o.exposed=a||{}};return{attrs:new Proxy(o.attrs,Ep),slots:o.slots,emit:o.emit,expose:s}}function hs(o){return o.exposed?o.exposeProxy||(o.exposeProxy=new Proxy(Tf(pd(o.exposed)),{get(s,a){if(a in s)return s[a];if(a in Ji)return Ji[a](o)},has(s,a){return a in s||a in Ji}})):o.proxy}function Ip(o,s=!0){return Oe(o)?o.displayName||o.name:o.name||s&&o.__name}function Pp(o){return Oe(o)&&"__vccOpts"in o}const Fp=(o,s)=>wd(o,s,to),Wp="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Il;const lf=typeof window<"u"&&window.trustedTypes;if(lf)try{Il=lf.createPolicy("vue",{createHTML:o=>o})}catch{}const cc=Il?o=>Il.createHTML(o):o=>o,Rp="http://www.w3.org/2000/svg",Bp="http://www.w3.org/1998/Math/MathML",zr=typeof document<"u"?document:null,af=zr&&zr.createElement("template"),zp={insert:(o,s,a)=>{s.insertBefore(o,a||null)},remove:o=>{const s=o.parentNode;s&&s.removeChild(o)},createElement:(o,s,a,c)=>{const d=s==="svg"?zr.createElementNS(Rp,o):s==="mathml"?zr.createElementNS(Bp,o):a?zr.createElement(o,{is:a}):zr.createElement(o);return o==="select"&&c&&c.multiple!=null&&d.setAttribute("multiple",c.multiple),d},createText:o=>zr.createTextNode(o),createComment:o=>zr.createComment(o),setText:(o,s)=>{o.nodeValue=s},setElementText:(o,s)=>{o.textContent=s},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>zr.querySelector(o),setScopeId(o,s){o.setAttribute(s,"")},insertStaticContent(o,s,a,c,d,p){const y=a?a.previousSibling:s.lastChild;if(d&&(d===p||d.nextSibling))for(;s.insertBefore(d.cloneNode(!0),a),!(d===p||!(d=d.nextSibling)););else{af.innerHTML=cc(c==="svg"?`<svg>${o}</svg>`:c==="mathml"?`<math>${o}</math>`:o);const S=af.content;if(c==="svg"||c==="mathml"){const T=S.firstChild;for(;T.firstChild;)S.appendChild(T.firstChild);S.removeChild(T)}s.insertBefore(S,a)}return[y?y.nextSibling:s.firstChild,a?a.previousSibling:s.lastChild]}},Up=Symbol("_vtc");function Gp(o,s,a){const c=o[Up];c&&(s=(s?[s,...c]:[...c]).join(" ")),s==null?o.removeAttribute("class"):a?o.setAttribute("class",s):o.className=s}const is=Symbol("_vod"),hc=Symbol("_vsh"),Xi={beforeMount(o,{value:s},{transition:a}){o[is]=o.style.display==="none"?"":o.style.display,a&&s?a.beforeEnter(o):Gi(o,s)},mounted(o,{value:s},{transition:a}){a&&s&&a.enter(o)},updated(o,{value:s,oldValue:a},{transition:c}){!s!=!a&&(c?s?(c.beforeEnter(o),Gi(o,!0),c.enter(o)):c.leave(o,()=>{Gi(o,!1)}):Gi(o,s))},beforeUnmount(o,{value:s}){Gi(o,s)}};function Gi(o,s){o.style.display=s?o[is]:"none",o[hc]=!s}const Kp=Symbol(""),Xp=/(^|;)\s*display\s*:/;function qp(o,s,a){const c=o.style,d=Vt(a);let p=!1;if(a&&!d){if(s)if(Vt(s))for(const y of s.split(";")){const S=y.slice(0,y.indexOf(":")).trim();a[S]==null&&Qo(c,S,"")}else for(const y in s)a[y]==null&&Qo(c,y,"");for(const y in a)y==="display"&&(p=!0),Qo(c,y,a[y])}else if(d){if(s!==a){const y=c[Kp];y&&(a+=";"+y),c.cssText=a,p=Xp.test(a)}}else s&&o.removeAttribute("style");is in o&&(o[is]=p?c.display:"",o[hc]&&(c.display="none"))}const uf=/\s*!important$/;function Qo(o,s,a){if(Ie(a))a.forEach(c=>Qo(o,s,c));else if(a==null&&(a=""),s.startsWith("--"))o.setProperty(s,a);else{const c=Yp(o,s);uf.test(a)?o.setProperty(cn(c),a.replace(uf,""),"important"):o[c]=a}}const ff=["Webkit","Moz","ms"],yl={};function Yp(o,s){const a=yl[s];if(a)return a;let c=lr(s);if(c!=="filter"&&c in o)return yl[s]=c;c=Rl(c);for(let d=0;d<ff.length;d++){const p=ff[d]+c;if(p in o)return yl[s]=p}return s}const cf="http://www.w3.org/1999/xlink";function hf(o,s,a,c,d,p=Sd(s)){c&&s.startsWith("xlink:")?a==null?o.removeAttributeNS(cf,s.slice(6,s.length)):o.setAttributeNS(cf,s,a):a==null||p&&!_f(a)?o.removeAttribute(s):o.setAttribute(s,p?"":kd(a)?String(a):a)}function df(o,s,a,c,d){if(s==="innerHTML"||s==="textContent"){a!=null&&(o[s]=s==="innerHTML"?cc(a):a);return}const p=o.tagName;if(s==="value"&&p!=="PROGRESS"&&!p.includes("-")){const S=p==="OPTION"?o.getAttribute("value")||"":o.value,T=a==null?o.type==="checkbox"?"on":"":String(a);(S!==T||!("_value"in o))&&(o.value=T),a==null&&o.removeAttribute(s),o._value=a;return}let y=!1;if(a===""||a==null){const S=typeof o[s];S==="boolean"?a=_f(a):a==null&&S==="string"?(a="",y=!0):S==="number"&&(a=0,y=!0)}try{o[s]=a}catch{}y&&o.removeAttribute(d||s)}function ii(o,s,a,c){o.addEventListener(s,a,c)}function jp(o,s,a,c){o.removeEventListener(s,a,c)}const pf=Symbol("_vei");function Zp(o,s,a,c,d=null){const p=o[pf]||(o[pf]={}),y=p[s];if(c&&y)y.value=c;else{const[S,T]=Jp(s);if(c){const O=p[s]=$p(c,d);ii(o,S,O,T)}else y&&(jp(o,S,y,T),p[s]=void 0)}}const gf=/(?:Once|Passive|Capture)$/;function Jp(o){let s;if(gf.test(o)){s={};let c;for(;c=o.match(gf);)o=o.slice(0,o.length-c[0].length),s[c[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):cn(o.slice(2)),s]}let bl=0;const Vp=Promise.resolve(),Qp=()=>bl||(Vp.then(()=>bl=0),bl=Date.now());function $p(o,s){const a=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=a.attached)return;_r(eg(c,a.value),s,5,[c])};return a.value=o,a.attached=Qp(),a}function eg(o,s){if(Ie(s)){const a=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{a.call(o),o._stopped=!0},s.map(c=>d=>!d._stopped&&c&&c(d))}else return s}const vf=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)>96&&o.charCodeAt(2)<123,tg=(o,s,a,c,d,p)=>{const y=d==="svg";s==="class"?Gp(o,c,y):s==="style"?qp(o,a,c):ls(s)?Wl(s)||Zp(o,s,a,c,p):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):rg(o,s,c,y))?(df(o,s,c),!o.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&hf(o,s,c,y,p,s!=="value")):o._isVueCE&&(/[A-Z]/.test(s)||!Vt(c))?df(o,lr(s),c,p,s):(s==="true-value"?o._trueValue=c:s==="false-value"&&(o._falseValue=c),hf(o,s,c,y))};function rg(o,s,a,c){if(c)return!!(s==="innerHTML"||s==="textContent"||s in o&&vf(s)&&Oe(a));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="autocorrect"||s==="form"||s==="list"&&o.tagName==="INPUT"||s==="type"&&o.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const d=o.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return vf(s)&&Vt(a)?!1:s in o}const mf=o=>{const s=o.props["onUpdate:modelValue"]||!1;return Ie(s)?a=>Yo(s,a):s};function ng(o){o.target.composing=!0}function yf(o){const s=o.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const xl=Symbol("_assign"),Br={created(o,{modifiers:{lazy:s,trim:a,number:c}},d){o[xl]=mf(d);const p=c||d.props&&d.props.type==="number";ii(o,s?"change":"input",y=>{if(y.target.composing)return;let S=o.value;a&&(S=S.trim()),p&&(S=Ol(S)),o[xl](S)}),a&&ii(o,"change",()=>{o.value=o.value.trim()}),s||(ii(o,"compositionstart",ng),ii(o,"compositionend",yf),ii(o,"change",yf))},mounted(o,{value:s}){o.value=s??""},beforeUpdate(o,{value:s,oldValue:a,modifiers:{lazy:c,trim:d,number:p}},y){if(o[xl]=mf(y),o.composing)return;const S=(p||o.type==="number")&&!/^0\d/.test(o.value)?Ol(o.value):o.value,T=s??"";S!==T&&(document.activeElement===o&&o.type!=="range"&&(c&&s===a||d&&o.value.trim()===T)||(o.value=T))}},ig=["ctrl","shift","alt","meta"],og={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,s)=>ig.some(a=>o[`${a}Key`]&&!s.includes(a))},ln=(o,s)=>{const a=o._withMods||(o._withMods={}),c=s.join(".");return a[c]||(a[c]=(d,...p)=>{for(let y=0;y<s.length;y++){const S=og[s[y]];if(S&&S(d,s))return}return o(d,...p)})},sg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zo=(o,s)=>{const a=o._withKeys||(o._withKeys={}),c=s.join(".");return a[c]||(a[c]=d=>{if(!("key"in d))return;const p=cn(d.key);if(s.some(y=>y===p||sg[y]===p))return o(d)})},lg=Jt({patchProp:tg},zp);let bf;function ag(){return bf||(bf=up(lg))}const ug=(...o)=>{const s=ag().createApp(...o),{mount:a}=s;return s.mount=c=>{const d=cg(c);if(!d)return;const p=s._component;!Oe(p)&&!p.render&&!p.template&&(p.template=d.innerHTML),d.nodeType===1&&(d.textContent="");const y=a(d,!1,fg(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),y},s};function fg(o){if(o instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&o instanceof MathMLElement)return"mathml"}function cg(o){return Vt(o)?document.querySelector(o):o}var wl={exports:{}},xf;function Xl(){return xf||(xf=1,function(o,s){(function(a,c){o.exports=c()})(Ld,function(){var a=navigator.userAgent,c=navigator.platform,d=/gecko\/\d/i.test(a),p=/MSIE \d/.test(a),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a),S=/Edge\/(\d+)/.exec(a),T=p||y||S,O=T&&(p?document.documentMode||6:+(S||y)[1]),k=!S&&/WebKit\//.test(a),H=k&&/Qt\/\d+\.\d+/.test(a),B=!S&&/Chrome\/(\d+)/.exec(a),R=B&&+B[1],ie=/Opera\//.test(a),se=/Apple Computer/.test(navigator.vendor),ye=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(a),ce=/PhantomJS/.test(a),he=se&&(/Mobile\/\w+/.test(a)||navigator.maxTouchPoints>2),ge=/Android/.test(a),Te=he||ge||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),pe=he||/Mac/.test(c),Be=/\bCrOS\b/.test(a),st=/win/i.test(c),Ne=ie&&a.match(/Version\/(\d*\.\d*)/);Ne&&(Ne=Number(Ne[1])),Ne&&Ne>=15&&(ie=!1,k=!0);var Lt=pe&&(H||ie&&(Ne==null||Ne<12.11)),Ct=d||T&&O>=9;function ht(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var lt=function(e,t){var n=e.className,r=ht(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function I(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function te(e,t){return I(e).appendChild(t)}function C(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)i.appendChild(t[l]);return i}function Fe(e,t,n,r){var i=C(e,t,n,r);return i.setAttribute("role","presentation"),i}var be;document.createRange?be=function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:be=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function xe(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function ze(e){var t=e.ownerDocument||e,n;try{n=e.activeElement}catch{n=t.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function We(e,t){var n=e.className;ht(t).test(n)||(e.className+=(n?" ":"")+t)}function Ke(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!ht(n[r]).test(t)&&(t+=" "+n[r]);return t}var Xe=function(e){e.select()};he?Xe=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:T&&(Xe=function(e){try{e.select()}catch{}});function qe(e){return e.display.wrapper.ownerDocument}function St(e){return at(e.display.wrapper)}function at(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function de(e){return qe(e).defaultView}function fe(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function we(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function _e(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,u=i||0;;){var f=e.indexOf("	",l);if(f<0||f>=t)return u+(t-l);u+=f-l,u+=n-u%n,l=f+1}}var Ht=function(){this.id=null,this.f=null,this.time=0,this.handler=fe(this.onTimeout,this)};Ht.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ht.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function Ce(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var w=50,M={toString:function(){return"CodeMirror.Pass"}},E={scroll:!1},G={origin:"*mouse"},W={origin:"+move"};function z(e,t,n){for(var r=0,i=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var u=l-r;if(l==e.length||i+u>=t)return r+Math.min(u,t-i);if(i+=l-r,i+=n-i%n,r=l+1,i>=t)return r}}var J=[""];function Z(e){for(;J.length<=e;)J.push(F(J)+" ");return J[e]}function F(e){return e[e.length-1]}function K(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function le(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function $(){}function oe(e,t){var n;return Object.create?n=Object.create(e):($.prototype=e,n=new $),t&&we(t,n),n}var ve=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Le(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ve.test(e))}function Me(e,t){return t?t.source.indexOf("\\w")>-1&&Le(e)?!0:t.test(e):Le(e)}function He(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Je=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ae(e){return e.charCodeAt(0)>=768&&Je.test(e)}function gt(e,t,n){for(;(n<0?t>0:t<e.length)&&Ae(e.charAt(t));)t+=n;return t}function ut(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,l=r<0?Math.ceil(i):Math.floor(i);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function Kt(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,l=0;l<e.length;++l){var u=e[l];(u.from<n&&u.to>t||t==n&&u.to==t)&&(r(Math.max(u.from,t),Math.min(u.to,n),u.level==1?"rtl":"ltr",l),i=!0)}i||r(t,n,"ltr")}var yr=null;function it(e,t,n){var r;yr=null;for(var i=0;i<e.length;++i){var l=e[i];if(l.from<t&&l.to>t)return i;l.to==t&&(l.from!=l.to&&n=="before"?r=i:yr=i),l.from==t&&(l.from!=l.to&&n!="before"?r=i:yr=i)}return r??yr}var Xt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(g){return g<=247?e.charAt(g):1424<=g&&g<=1524?"R":1536<=g&&g<=1785?t.charAt(g-1536):1774<=g&&g<=2220?"r":8192<=g&&g<=8203?"w":g==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,l=/[LRr]/,u=/[Lb1n]/,f=/[1n]/;function h(g,m,x){this.level=g,this.from=m,this.to=x}return function(g,m){var x=m=="ltr"?"L":"R";if(g.length==0||m=="ltr"&&!r.test(g))return!1;for(var A=g.length,L=[],N=0;N<A;++N)L.push(n(g.charCodeAt(N)));for(var P=0,q=x;P<A;++P){var Y=L[P];Y=="m"?L[P]=q:q=Y}for(var Q=0,j=x;Q<A;++Q){var ee=L[Q];ee=="1"&&j=="r"?L[Q]="n":l.test(ee)&&(j=ee,ee=="r"&&(L[Q]="R"))}for(var ue=1,ne=L[0];ue<A-1;++ue){var Se=L[ue];Se=="+"&&ne=="1"&&L[ue+1]=="1"?L[ue]="1":Se==","&&ne==L[ue+1]&&(ne=="1"||ne=="n")&&(L[ue]=ne),ne=Se}for(var Ue=0;Ue<A;++Ue){var xt=L[Ue];if(xt==",")L[Ue]="N";else if(xt=="%"){var Ve=void 0;for(Ve=Ue+1;Ve<A&&L[Ve]=="%";++Ve);for(var jt=Ue&&L[Ue-1]=="!"||Ve<A&&L[Ve]=="1"?"1":"N",Rt=Ue;Rt<Ve;++Rt)L[Rt]=jt;Ue=Ve-1}}for(var ft=0,Bt=x;ft<A;++ft){var kt=L[ft];Bt=="L"&&kt=="1"?L[ft]="L":l.test(kt)&&(Bt=kt)}for(var dt=0;dt<A;++dt)if(i.test(L[dt])){var ct=void 0;for(ct=dt+1;ct<A&&i.test(L[ct]);++ct);for(var tt=(dt?L[dt-1]:x)=="L",zt=(ct<A?L[ct]:x)=="L",ti=tt==zt?tt?"L":"R":x,nn=dt;nn<ct;++nn)L[nn]=ti;dt=ct-1}for(var Ot=[],Sr,wt=0;wt<A;)if(u.test(L[wt])){var hl=wt;for(++wt;wt<A&&u.test(L[wt]);++wt);Ot.push(new h(0,hl,wt))}else{var Wr=wt,Cn=Ot.length,Sn=m=="rtl"?1:0;for(++wt;wt<A&&L[wt]!="L";++wt);for(var Et=Wr;Et<wt;)if(f.test(L[Et])){Wr<Et&&(Ot.splice(Cn,0,new h(1,Wr,Et)),Cn+=Sn);var ri=Et;for(++Et;Et<wt&&f.test(L[Et]);++Et);Ot.splice(Cn,0,new h(2,ri,Et)),Cn+=Sn,Wr=Et}else++Et;Wr<wt&&Ot.splice(Cn,0,new h(1,Wr,wt))}return m=="ltr"&&(Ot[0].level==1&&(Sr=g.match(/^\s+/))&&(Ot[0].from=Sr[0].length,Ot.unshift(new h(0,0,Sr[0].length))),F(Ot).level==1&&(Sr=g.match(/\s+$/))&&(F(Ot).to-=Sr[0].length,Ot.push(new h(0,A-Sr[0].length,A)))),m=="rtl"?Ot.reverse():Ot}}();function ke(e,t){var n=e.order;return n==null&&(n=e.order=Xt(e.text,t)),n}var hn=[],ae=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||hn).concat(n)}};function Hr(e,t){return e._handlers&&e._handlers[t]||hn}function Tt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var l=Ce(i,n);l>-1&&(r[t]=i.slice(0,l).concat(i.slice(l+1)))}}}function Qe(e,t){var n=Hr(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function $e(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Qe(e,n||t.type,e,t),It(t)||t.codemirrorIgnore}function ir(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)Ce(n,t[r])==-1&&n.push(t[r])}function qt(e,t){return Hr(e,t).length>0}function ar(e){e.prototype.on=function(t,n){ae(this,t,n)},e.prototype.off=function(t,n){Tt(this,t,n)}}function Mt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _n(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function It(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function Xr(e){Mt(e),_n(e)}function ci(e){return e.target||e.srcElement}function ur(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),pe&&e.ctrlKey&&t==1&&(t=3),t}var bs=function(){if(T&&O<9)return!1;var e=C("div");return"draggable"in e||"dragDrop"in e}(),Hn;function ao(e){if(Hn==null){var t=C("span","​");te(e,C("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Hn=t.offsetWidth<=1&&t.offsetHeight>2&&!(T&&O<8))}var n=Hn?C("span","​"):C("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var hi;function qr(e){if(hi!=null)return hi;var t=te(e,document.createTextNode("AخA")),n=be(t,0,1).getBoundingClientRect(),r=be(t,1,2).getBoundingClientRect();return I(e),!n||n.left==n.right?!1:hi=r.right-n.right<3}var or=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var l=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),u=l.indexOf("\r");u!=-1?(n.push(l.slice(0,u)),t+=u+1):(n.push(l),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Yr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},uo=function(){var e=C("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),fr=null;function xs(e){if(fr!=null)return fr;var t=te(e,C("span","x")),n=t.getBoundingClientRect(),r=be(t,0,1).getBoundingClientRect();return fr=Math.abs(n.left-r.left)>1}var Nn={},cr={};function hr(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Nn[e]=t}function dn(e,t){cr[e]=t}function En(e){if(typeof e=="string"&&cr.hasOwnProperty(e))e=cr[e];else if(e&&typeof e.name=="string"&&cr.hasOwnProperty(e.name)){var t=cr[e.name];typeof t=="string"&&(t={name:t}),e=oe(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return En("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return En("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Dn(e,t){t=En(t);var n=Nn[t.name];if(!n)return Dn(e,"text/plain");var r=n(e,t);if(jr.hasOwnProperty(t.name)){var i=jr[t.name];for(var l in i)i.hasOwnProperty(l)&&(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=i[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var u in t.modeProps)r[u]=t.modeProps[u];return r}var jr={};function In(e,t){var n=jr.hasOwnProperty(e)?jr[e]:jr[e]={};we(t,n)}function br(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function di(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Pn(e,t,n){return e.startState?e.startState(t,n):!0}var et=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};et.prototype.eol=function(){return this.pos>=this.string.length},et.prototype.sol=function(){return this.pos==this.lineStart},et.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},et.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},et.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},et.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},et.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},et.prototype.skipToEnd=function(){this.pos=this.string.length},et.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},et.prototype.backUp=function(e){this.pos-=e},et.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},et.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},et.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(u){return n?u.toLowerCase():u},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},et.prototype.current=function(){return this.string.slice(this.start,this.pos)},et.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},et.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},et.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function re(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],l=i.chunkSize();if(t<l){n=i;break}t-=l}return n.lines[t]}function Nr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(l){var u=l.text;i==n.line&&(u=u.slice(0,n.ch)),i==t.line&&(u=u.slice(t.ch)),r.push(u),++i}),r}function pi(e,t,n){var r=[];return e.iter(t,n,function(i){r.push(i.text)}),r}function Qt(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function v(e){if(e.parent==null)return null;for(var t=e.parent,n=Ce(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function b(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],l=i.height;if(t<l){e=i;continue e}t-=l,n+=i.chunkSize()}return n}while(!e.lines);for(var u=0;u<e.lines.length;++u){var f=e.lines[u],h=f.height;if(t<h)break;t-=h}return n+u}function D(e,t){return t>=e.first&&t<e.first+e.size}function X(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e,t,n){if(n===void 0&&(n=null),!(this instanceof _))return new _(e,t,n);this.line=e,this.ch=t,this.sticky=n}function V(e,t){return e.line-t.line||e.ch-t.ch}function Ee(e,t){return e.sticky==t.sticky&&V(e,t)==0}function vt(e){return _(e.line,e.ch)}function Pt(e,t){return V(e,t)<0?t:e}function Fn(e,t){return V(e,t)<0?e:t}function Yl(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return _(e.first,0);var n=e.first+e.size-1;return t.line>n?_(n,re(e,n).text.length):pc(t,re(e,t.line).text.length)}function pc(e,t){var n=e.ch;return n==null||n>t?_(e.line,t):n<0?_(e.line,0):e}function jl(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=me(e,t[r]);return n}var fo=function(e,t){this.state=e,this.lookAhead=t},xr=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};xr.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},xr.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},xr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},xr.fromSaved=function(e,t,n){return t instanceof fo?new xr(e,br(e.mode,t.state),n,t.lookAhead):new xr(e,br(e.mode,t),n)},xr.prototype.save=function(e){var t=e!==!1?br(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fo(t,this.maxLookAhead):t};function Zl(e,t,n,r){var i=[e.state.modeGen],l={};ta(e,t.text,e.doc.mode,n,function(g,m){return i.push(g,m)},l,r);for(var u=n.state,f=function(g){n.baseTokens=i;var m=e.state.overlays[g],x=1,A=0;n.state=!0,ta(e,t.text,m.mode,n,function(L,N){for(var P=x;A<L;){var q=i[x];q>L&&i.splice(x,1,L,i[x+1],q),x+=2,A=Math.min(L,q)}if(N)if(m.opaque)i.splice(P,x-P,L,"overlay "+N),x=P+2;else for(;P<x;P+=2){var Y=i[P+1];i[P+1]=(Y?Y+" ":"")+"overlay "+N}},l),n.state=u,n.baseTokens=null,n.baseTokenPos=1},h=0;h<e.state.overlays.length;++h)f(h);return{styles:i,classes:l.bgClass||l.textClass?l:null}}function Jl(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=gi(e,v(t)),i=t.text.length>e.options.maxHighlightLength&&br(e.doc.mode,r.state),l=Zl(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function gi(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new xr(r,!0,t);var l=gc(e,t,n),u=l>r.first&&re(r,l-1).stateAfter,f=u?xr.fromSaved(r,u,l):new xr(r,Pn(r.mode),l);return r.iter(l,t,function(h){ws(e,h.text,f);var g=f.line;h.stateAfter=g==t-1||g%5==0||g>=i.viewFrom&&g<i.viewTo?f.save():null,f.nextLine()}),n&&(r.modeFrontier=f.line),f}function ws(e,t,n,r){var i=e.doc.mode,l=new et(t,e.options.tabSize,n);for(l.start=l.pos=r||0,t==""&&Vl(i,n.state);!l.eol();)Cs(i,l,n.state),l.start=l.pos}function Vl(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=di(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function Cs(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=di(e,n).mode);var l=e.token(t,n);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var Ql=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function $l(e,t,n,r){var i=e.doc,l=i.mode,u;t=me(i,t);var f=re(i,t.line),h=gi(e,t.line,n),g=new et(f.text,e.options.tabSize,h),m;for(r&&(m=[]);(r||g.pos<t.ch)&&!g.eol();)g.start=g.pos,u=Cs(l,g,h.state),r&&m.push(new Ql(g,u,br(i.mode,h.state)));return r?m:new Ql(g,u,h.state)}function ea(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function ta(e,t,n,r,i,l,u){var f=n.flattenSpans;f==null&&(f=e.options.flattenSpans);var h=0,g=null,m=new et(t,e.options.tabSize,r),x,A=e.options.addModeClass&&[null];for(t==""&&ea(Vl(n,r.state),l);!m.eol();){if(m.pos>e.options.maxHighlightLength?(f=!1,u&&ws(e,t,r,m.pos),m.pos=t.length,x=null):x=ea(Cs(n,m,r.state,A),l),A){var L=A[0].name;L&&(x="m-"+(x?L+" "+x:L))}if(!f||g!=x){for(;h<m.start;)h=Math.min(m.start,h+5e3),i(h,g);g=x}m.start=m.pos}for(;h<m.pos;){var N=Math.min(m.pos,h+5e3);i(N,g),h=N}}function gc(e,t,n){for(var r,i,l=e.doc,u=n?-1:t-(e.doc.mode.innerMode?1e3:100),f=t;f>u;--f){if(f<=l.first)return l.first;var h=re(l,f-1),g=h.stateAfter;if(g&&(!n||f+(g instanceof fo?g.lookAhead:0)<=l.modeFrontier))return f;var m=_e(h.text,null,e.options.tabSize);(i==null||r>m)&&(i=f-1,r=m)}return i}function vc(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=re(e,r).stateAfter;if(i&&(!(i instanceof fo)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var ra=!1,Er=!1;function mc(){ra=!0}function yc(){Er=!0}function co(e,t,n){this.marker=e,this.from=t,this.to=n}function vi(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function bc(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function xc(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function wc(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var l=e[i],u=l.marker,f=l.from==null||(u.inclusiveLeft?l.from<=t:l.from<t);if(f||l.from==t&&u.type=="bookmark"&&(!n||!l.marker.insertLeft)){var h=l.to==null||(u.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new co(u,l.from,h?null:l.to))}}return r}function Cc(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var l=e[i],u=l.marker,f=l.to==null||(u.inclusiveRight?l.to>=t:l.to>t);if(f||l.from==t&&u.type=="bookmark"&&(!n||l.marker.insertLeft)){var h=l.from==null||(u.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new co(u,h?null:l.from-t,l.to==null?null:l.to-t))}}return r}function Ss(e,t){if(t.full)return null;var n=D(e,t.from.line)&&re(e,t.from.line).markedSpans,r=D(e,t.to.line)&&re(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,l=t.to.ch,u=V(t.from,t.to)==0,f=wc(n,i,u),h=Cc(r,l,u),g=t.text.length==1,m=F(t.text).length+(g?i:0);if(f)for(var x=0;x<f.length;++x){var A=f[x];if(A.to==null){var L=vi(h,A.marker);L?g&&(A.to=L.to==null?null:L.to+m):A.to=i}}if(h)for(var N=0;N<h.length;++N){var P=h[N];if(P.to!=null&&(P.to+=m),P.from==null){var q=vi(f,P.marker);q||(P.from=m,g&&(f||(f=[])).push(P))}else P.from+=m,g&&(f||(f=[])).push(P)}f&&(f=na(f)),h&&h!=f&&(h=na(h));var Y=[f];if(!g){var Q=t.text.length-2,j;if(Q>0&&f)for(var ee=0;ee<f.length;++ee)f[ee].to==null&&(j||(j=[])).push(new co(f[ee].marker,null,null));for(var ue=0;ue<Q;++ue)Y.push(j);Y.push(h)}return Y}function na(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Sc(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(L){if(L.markedSpans)for(var N=0;N<L.markedSpans.length;++N){var P=L.markedSpans[N].marker;P.readOnly&&(!r||Ce(r,P)==-1)&&(r||(r=[])).push(P)}}),!r)return null;for(var i=[{from:t,to:n}],l=0;l<r.length;++l)for(var u=r[l],f=u.find(0),h=0;h<i.length;++h){var g=i[h];if(!(V(g.to,f.from)<0||V(g.from,f.to)>0)){var m=[h,1],x=V(g.from,f.from),A=V(g.to,f.to);(x<0||!u.inclusiveLeft&&!x)&&m.push({from:g.from,to:f.from}),(A>0||!u.inclusiveRight&&!A)&&m.push({from:f.to,to:g.to}),i.splice.apply(i,m),h+=m.length-3}}return i}function ia(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function oa(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ho(e){return e.inclusiveLeft?-1:0}function po(e){return e.inclusiveRight?1:0}function ks(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),i=t.find(),l=V(r.from,i.from)||ho(e)-ho(t);if(l)return-l;var u=V(r.to,i.to)||po(e)-po(t);return u||t.id-e.id}function sa(e,t){var n=Er&&e.markedSpans,r;if(n)for(var i=void 0,l=0;l<n.length;++l)i=n[l],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||ks(r,i.marker)<0)&&(r=i.marker);return r}function la(e){return sa(e,!0)}function go(e){return sa(e,!1)}function kc(e,t){var n=Er&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var l=n[i];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||ks(r,l.marker)<0)&&(r=l.marker)}return r}function aa(e,t,n,r,i){var l=re(e,t),u=Er&&l.markedSpans;if(u)for(var f=0;f<u.length;++f){var h=u[f];if(h.marker.collapsed){var g=h.marker.find(0),m=V(g.from,n)||ho(h.marker)-ho(i),x=V(g.to,r)||po(h.marker)-po(i);if(!(m>=0&&x<=0||m<=0&&x>=0)&&(m<=0&&(h.marker.inclusiveRight&&i.inclusiveLeft?V(g.to,n)>=0:V(g.to,n)>0)||m>=0&&(h.marker.inclusiveRight&&i.inclusiveLeft?V(g.from,r)<=0:V(g.from,r)<0)))return!0}}}function dr(e){for(var t;t=la(e);)e=t.find(-1,!0).line;return e}function Lc(e){for(var t;t=go(e);)e=t.find(1,!0).line;return e}function Tc(e){for(var t,n;t=go(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ls(e,t){var n=re(e,t),r=dr(n);return n==r?t:v(r)}function ua(e,t){if(t>e.lastLine())return t;var n=re(e,t),r;if(!Zr(e,n))return t;for(;r=go(n);)n=r.find(1,!0).line;return v(n)+1}function Zr(e,t){var n=Er&&t.markedSpans;if(n){for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&Ts(e,t,r))return!0}}}function Ts(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return Ts(e,r.line,vi(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,l=0;l<t.markedSpans.length;++l)if(i=t.markedSpans[l],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ts(e,t,i))return!0}function Dr(e){e=dr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var l=n.parent;l;n=l,l=n.parent)for(var u=0;u<l.children.length;++u){var f=l.children[u];if(f==n)break;t+=f.height}return t}function vo(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=la(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=go(r);){var l=n.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function Ms(e){var t=e.display,n=e.doc;t.maxLine=re(n,n.first),t.maxLineLength=vo(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var i=vo(r);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=r)})}var Wn=function(e,t,n){this.text=e,oa(this,t),this.height=n?n(this):1};Wn.prototype.lineNo=function(){return v(this)},ar(Wn);function Mc(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),ia(e),oa(e,n);var i=r?r(e):1;i!=e.height&&Qt(e,i)}function Ac(e){e.parent=null,ia(e)}var Oc={},_c={};function fa(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?_c:Oc;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ca(e,t){var n=Fe("span",null,null,k?"padding-right: .1px":null),r={pre:Fe("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var l=i?t.rest[i-1]:t.line,u=void 0;r.pos=0,r.addToken=Nc,qr(e.display.measure)&&(u=ke(l,e.doc.direction))&&(r.addToken=Dc(r.addToken,u)),r.map=[];var f=t!=e.display.externalMeasured&&v(l);Ic(l,r,Jl(e,l,f)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=Ke(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=Ke(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(ao(e.display.measure))),i==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(k){var h=r.content.lastChild;(/\bcm-tab\b/.test(h.className)||h.querySelector&&h.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Qe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ke(r.pre.className,r.textClass||"")),r}function Hc(e){var t=C("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Nc(e,t,n,r,i,l,u){if(t){var f=e.splitSpaces?Ec(t,e.trailingSpace):t,h=e.cm.state.specialChars,g=!1,m;if(!h.test(t))e.col+=t.length,m=document.createTextNode(f),e.map.push(e.pos,e.pos+t.length,m),T&&O<9&&(g=!0),e.pos+=t.length;else{m=document.createDocumentFragment();for(var x=0;;){h.lastIndex=x;var A=h.exec(t),L=A?A.index-x:t.length-x;if(L){var N=document.createTextNode(f.slice(x,x+L));T&&O<9?m.appendChild(C("span",[N])):m.appendChild(N),e.map.push(e.pos,e.pos+L,N),e.col+=L,e.pos+=L}if(!A)break;x+=L+1;var P=void 0;if(A[0]=="	"){var q=e.cm.options.tabSize,Y=q-e.col%q;P=m.appendChild(C("span",Z(Y),"cm-tab")),P.setAttribute("role","presentation"),P.setAttribute("cm-text","	"),e.col+=Y}else A[0]=="\r"||A[0]==`
`?(P=m.appendChild(C("span",A[0]=="\r"?"␍":"␤","cm-invalidchar")),P.setAttribute("cm-text",A[0]),e.col+=1):(P=e.cm.options.specialCharPlaceholder(A[0]),P.setAttribute("cm-text",A[0]),T&&O<9?m.appendChild(C("span",[P])):m.appendChild(P),e.col+=1);e.map.push(e.pos,e.pos+1,P),e.pos++}}if(e.trailingSpace=f.charCodeAt(t.length-1)==32,n||r||i||g||l||u){var Q=n||"";r&&(Q+=r),i&&(Q+=i);var j=C("span",[m],Q,l);if(u)for(var ee in u)u.hasOwnProperty(ee)&&ee!="style"&&ee!="class"&&j.setAttribute(ee,u[ee]);return e.content.appendChild(j)}e.content.appendChild(m)}}function Ec(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var l=e.charAt(i);l==" "&&n&&(i==e.length-1||e.charCodeAt(i+1)==32)&&(l=" "),r+=l,n=l==" "}return r}function Dc(e,t){return function(n,r,i,l,u,f,h){i=i?i+" cm-force-border":"cm-force-border";for(var g=n.pos,m=g+r.length;;){for(var x=void 0,A=0;A<t.length&&(x=t[A],!(x.to>g&&x.from<=g));A++);if(x.to>=m)return e(n,r,i,l,u,f,h);e(n,r.slice(0,x.to-g),i,l,null,f,h),l=null,r=r.slice(x.to-g),g=x.to}}}function ha(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Ic(e,t,n){var r=e.markedSpans,i=e.text,l=0;if(!r){for(var u=1;u<n.length;u+=2)t.addToken(t,i.slice(l,l=n[u]),fa(n[u+1],t.cm.options));return}for(var f=i.length,h=0,g=1,m="",x,A,L=0,N,P,q,Y,Q;;){if(L==h){N=P=q=A="",Q=null,Y=null,L=1/0;for(var j=[],ee=void 0,ue=0;ue<r.length;++ue){var ne=r[ue],Se=ne.marker;if(Se.type=="bookmark"&&ne.from==h&&Se.widgetNode)j.push(Se);else if(ne.from<=h&&(ne.to==null||ne.to>h||Se.collapsed&&ne.to==h&&ne.from==h)){if(ne.to!=null&&ne.to!=h&&L>ne.to&&(L=ne.to,P=""),Se.className&&(N+=" "+Se.className),Se.css&&(A=(A?A+";":"")+Se.css),Se.startStyle&&ne.from==h&&(q+=" "+Se.startStyle),Se.endStyle&&ne.to==L&&(ee||(ee=[])).push(Se.endStyle,ne.to),Se.title&&((Q||(Q={})).title=Se.title),Se.attributes)for(var Ue in Se.attributes)(Q||(Q={}))[Ue]=Se.attributes[Ue];Se.collapsed&&(!Y||ks(Y.marker,Se)<0)&&(Y=ne)}else ne.from>h&&L>ne.from&&(L=ne.from)}if(ee)for(var xt=0;xt<ee.length;xt+=2)ee[xt+1]==L&&(P+=" "+ee[xt]);if(!Y||Y.from==h)for(var Ve=0;Ve<j.length;++Ve)ha(t,0,j[Ve]);if(Y&&(Y.from||0)==h){if(ha(t,(Y.to==null?f+1:Y.to)-h,Y.marker,Y.from==null),Y.to==null)return;Y.to==h&&(Y=!1)}}if(h>=f)break;for(var jt=Math.min(f,L);;){if(m){var Rt=h+m.length;if(!Y){var ft=Rt>jt?m.slice(0,jt-h):m;t.addToken(t,ft,x?x+N:N,q,h+ft.length==L?P:"",A,Q)}if(Rt>=jt){m=m.slice(jt-h),h=jt;break}h=Rt,q=""}m=i.slice(l,l=n[g++]),x=fa(n[g++],t.cm.options)}}}function da(e,t,n){this.line=t,this.rest=Tc(t),this.size=this.rest?v(F(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Zr(e,t)}function mo(e,t,n){for(var r=[],i,l=t;l<n;l=i){var u=new da(e.doc,re(e.doc,l),l);i=l+u.size,r.push(u)}return r}var Rn=null;function Pc(e){Rn?Rn.ops.push(e):e.ownsGroup=Rn={ops:[e],delayedCallbacks:[]}}function Fc(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Wc(e,t){var n=e.ownsGroup;if(n)try{Fc(n)}finally{Rn=null,t(n)}}var mi=null;function mt(e,t){var n=Hr(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),i;Rn?i=Rn.delayedCallbacks:mi?i=mi:(i=mi=[],setTimeout(Rc,0));for(var l=function(f){i.push(function(){return n[f].apply(null,r)})},u=0;u<n.length;++u)l(u)}}function Rc(){var e=mi;mi=null;for(var t=0;t<e.length;++t)e[t]()}function pa(e,t,n,r){for(var i=0;i<t.changes.length;i++){var l=t.changes[i];l=="text"?zc(e,t):l=="gutter"?va(e,t,n,r):l=="class"?As(e,t):l=="widget"&&Uc(e,t,r)}t.changes=null}function yi(e){return e.node==e.text&&(e.node=C("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),T&&O<8&&(e.node.style.zIndex=2)),e.node}function Bc(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=yi(t);t.background=r.insertBefore(C("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function ga(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ca(e,t)}function zc(e,t){var n=t.text.className,r=ga(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,As(e,t)):n&&(t.text.className=n)}function As(e,t){Bc(e,t),t.line.wrapClass?yi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function va(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=yi(t);t.gutterBackground=C("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var u=yi(t),f=t.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(f.setAttribute("aria-hidden","true"),e.display.input.setUneditable(f),u.insertBefore(f,t.text),t.line.gutterClass&&(f.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=f.appendChild(C("div",X(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var h=0;h<e.display.gutterSpecs.length;++h){var g=e.display.gutterSpecs[h].className,m=l.hasOwnProperty(g)&&l[g];m&&f.appendChild(C("div",[m],"CodeMirror-gutter-elt","left: "+r.gutterLeft[g]+"px; width: "+r.gutterWidth[g]+"px"))}}}function Uc(e,t,n){t.alignable&&(t.alignable=null);for(var r=ht("CodeMirror-linewidget"),i=t.node.firstChild,l=void 0;i;i=l)l=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);ma(e,t,n)}function Gc(e,t,n,r){var i=ga(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),As(e,t),va(e,t,n,r),ma(e,t,r),t.node}function ma(e,t,n){if(ya(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)ya(e,t.rest[r],t,n,!1)}function ya(e,t,n,r,i){if(t.widgets)for(var l=yi(n),u=0,f=t.widgets;u<f.length;++u){var h=f[u],g=C("div",[h.node],"CodeMirror-linewidget"+(h.className?" "+h.className:""));h.handleMouseEvents||g.setAttribute("cm-ignore-events","true"),Kc(h,g,n,r),e.display.input.setUneditable(g),i&&h.above?l.insertBefore(g,n.gutter||n.text):l.appendChild(g),mt(h,"redraw")}}function Kc(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function bi(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!xe(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),te(t.display.measure,C("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Ir(e,t){for(var n=ci(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function yo(e){return e.lineSpace.offsetTop}function Os(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ba(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=te(e.measure,C("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function wr(e){return w-e.display.nativeBarWidth}function pn(e){return e.display.scroller.clientWidth-wr(e)-e.display.barWidth}function _s(e){return e.display.scroller.clientHeight-wr(e)-e.display.barHeight}function Xc(e,t,n){var r=e.options.lineWrapping,i=r&&pn(e);if(!t.measure.heights||r&&t.measure.width!=i){var l=t.measure.heights=[];if(r){t.measure.width=i;for(var u=t.text.firstChild.getClientRects(),f=0;f<u.length-1;f++){var h=u[f],g=u[f+1];Math.abs(h.bottom-g.bottom)>2&&l.push((h.bottom+g.top)/2-n.top)}}l.push(n.bottom-n.top)}}function xa(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(v(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function qc(e,t){t=dr(t);var n=v(t),r=e.display.externalMeasured=new da(e.doc,t,n);r.lineN=n;var i=r.built=ca(e,r);return r.text=i.pre,te(e.display.lineMeasure,i.pre),r}function wa(e,t,n,r){return Cr(e,Bn(e,t),n,r)}function Hs(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[mn(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Bn(e,t){var n=v(t),r=Hs(e,n);r&&!r.text?r=null:r&&r.changes&&(pa(e,r,n,Ps(e)),e.curOp.forceUpdate=!0),r||(r=qc(e,t));var i=xa(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Cr(e,t,n,r,i){t.before&&(n=-1);var l=n+(r||""),u;return t.cache.hasOwnProperty(l)?u=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xc(e,t.view,t.rect),t.hasHeights=!0),u=jc(e,t,n,r),u.bogus||(t.cache[l]=u)),{left:u.left,right:u.right,top:i?u.rtop:u.top,bottom:i?u.rbottom:u.bottom}}var Ca={left:0,right:0,top:0,bottom:0};function Sa(e,t,n){for(var r,i,l,u,f,h,g=0;g<e.length;g+=3)if(f=e[g],h=e[g+1],t<f?(i=0,l=1,u="left"):t<h?(i=t-f,l=i+1):(g==e.length-3||t==h&&e[g+3]>t)&&(l=h-f,i=l-1,t>=h&&(u="right")),i!=null){if(r=e[g+2],f==h&&n==(r.insertLeft?"left":"right")&&(u=n),n=="left"&&i==0)for(;g&&e[g-2]==e[g-3]&&e[g-1].insertLeft;)r=e[(g-=3)+2],u="left";if(n=="right"&&i==h-f)for(;g<e.length-3&&e[g+3]==e[g+4]&&!e[g+5].insertLeft;)r=e[(g+=3)+2],u="right";break}return{node:r,start:i,end:l,collapse:u,coverStart:f,coverEnd:h}}function Yc(e,t){var n=Ca;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function jc(e,t,n,r){var i=Sa(t.map,n,r),l=i.node,u=i.start,f=i.end,h=i.collapse,g;if(l.nodeType==3){for(var m=0;m<4;m++){for(;u&&Ae(t.line.text.charAt(i.coverStart+u));)--u;for(;i.coverStart+f<i.coverEnd&&Ae(t.line.text.charAt(i.coverStart+f));)++f;if(T&&O<9&&u==0&&f==i.coverEnd-i.coverStart?g=l.parentNode.getBoundingClientRect():g=Yc(be(l,u,f).getClientRects(),r),g.left||g.right||u==0)break;f=u,u=u-1,h="right"}T&&O<11&&(g=Zc(e.display.measure,g))}else{u>0&&(h=r="right");var x;e.options.lineWrapping&&(x=l.getClientRects()).length>1?g=x[r=="right"?x.length-1:0]:g=l.getBoundingClientRect()}if(T&&O<9&&!u&&(!g||!g.left&&!g.right)){var A=l.parentNode.getClientRects()[0];A?g={left:A.left,right:A.left+Un(e.display),top:A.top,bottom:A.bottom}:g=Ca}for(var L=g.top-t.rect.top,N=g.bottom-t.rect.top,P=(L+N)/2,q=t.view.measure.heights,Y=0;Y<q.length-1&&!(P<q[Y]);Y++);var Q=Y?q[Y-1]:0,j=q[Y],ee={left:(h=="right"?g.right:g.left)-t.rect.left,right:(h=="left"?g.left:g.right)-t.rect.left,top:Q,bottom:j};return!g.left&&!g.right&&(ee.bogus=!0),e.options.singleCursorHeightPerLine||(ee.rtop=L,ee.rbottom=N),ee}function Zc(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!xs(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ka(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function La(e){e.display.externalMeasure=null,I(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ka(e.display.view[t])}function xi(e){La(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ta(e){return B&&ge?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Ma(e){return B&&ge?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Ns(e){var t=dr(e),n=t.widgets,r=0;if(n)for(var i=0;i<n.length;++i)n[i].above&&(r+=bi(n[i]));return r}function bo(e,t,n,r,i){if(!i){var l=Ns(t);n.top+=l,n.bottom+=l}if(r=="line")return n;r||(r="local");var u=Dr(t);if(r=="local"?u+=yo(e.display):u-=e.display.viewOffset,r=="page"||r=="window"){var f=e.display.lineSpace.getBoundingClientRect();u+=f.top+(r=="window"?0:Ma(qe(e)));var h=f.left+(r=="window"?0:Ta(qe(e)));n.left+=h,n.right+=h}return n.top+=u,n.bottom+=u,n}function Aa(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=Ta(qe(e)),i-=Ma(qe(e));else if(n=="local"||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,i+=l.top}var u=e.display.lineSpace.getBoundingClientRect();return{left:r-u.left,top:i-u.top}}function xo(e,t,n,r,i){return r||(r=re(e.doc,t.line)),bo(e,r,wa(e,r,t.ch,i),n)}function pr(e,t,n,r,i,l){r=r||re(e.doc,t.line),i||(i=Bn(e,r));function u(N,P){var q=Cr(e,i,N,P?"right":"left",l);return P?q.left=q.right:q.right=q.left,bo(e,r,q,n)}var f=ke(r,e.doc.direction),h=t.ch,g=t.sticky;if(h>=r.text.length?(h=r.text.length,g="before"):h<=0&&(h=0,g="after"),!f)return u(g=="before"?h-1:h,g=="before");function m(N,P,q){var Y=f[P],Q=Y.level==1;return u(q?N-1:N,Q!=q)}var x=it(f,h,g),A=yr,L=m(h,x,g=="before");return A!=null&&(L.other=m(h,A,g!="before")),L}function Oa(e,t){var n=0;t=me(e.doc,t),e.options.lineWrapping||(n=Un(e.display)*t.ch);var r=re(e.doc,t.line),i=Dr(r)+yo(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Es(e,t,n,r,i){var l=_(e,t,n);return l.xRel=i,r&&(l.outside=r),l}function Ds(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Es(r.first,0,null,-1,-1);var i=b(r,n),l=r.first+r.size-1;if(i>l)return Es(r.first+r.size-1,re(r,l).text.length,null,1,1);t<0&&(t=0);for(var u=re(r,i);;){var f=Jc(e,u,i,t,n),h=kc(u,f.ch+(f.xRel>0||f.outside>0?1:0));if(!h)return f;var g=h.find(1);if(g.line==i)return g;u=re(r,i=g.line)}}function _a(e,t,n,r){r-=Ns(t);var i=t.text.length,l=ut(function(u){return Cr(e,n,u-1).bottom<=r},i,0);return i=ut(function(u){return Cr(e,n,u).top>r},l,i),{begin:l,end:i}}function Ha(e,t,n,r){n||(n=Bn(e,t));var i=bo(e,t,Cr(e,n,r),"line").top;return _a(e,t,n,i)}function Is(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function Jc(e,t,n,r,i){i-=Dr(t);var l=Bn(e,t),u=Ns(t),f=0,h=t.text.length,g=!0,m=ke(t,e.doc.direction);if(m){var x=(e.options.lineWrapping?Qc:Vc)(e,t,n,l,m,r,i);g=x.level!=1,f=g?x.from:x.to-1,h=g?x.to:x.from-1}var A=null,L=null,N=ut(function(ue){var ne=Cr(e,l,ue);return ne.top+=u,ne.bottom+=u,Is(ne,r,i,!1)?(ne.top<=i&&ne.left<=r&&(A=ue,L=ne),!0):!1},f,h),P,q,Y=!1;if(L){var Q=r-L.left<L.right-r,j=Q==g;N=A+(j?0:1),q=j?"after":"before",P=Q?L.left:L.right}else{!g&&(N==h||N==f)&&N++,q=N==0?"after":N==t.text.length?"before":Cr(e,l,N-(g?1:0)).bottom+u<=i==g?"after":"before";var ee=pr(e,_(n,N,q),"line",t,l);P=ee.left,Y=i<ee.top?-1:i>=ee.bottom?1:0}return N=gt(t.text,N,1),Es(n,N,q,Y,r-P)}function Vc(e,t,n,r,i,l,u){var f=ut(function(x){var A=i[x],L=A.level!=1;return Is(pr(e,_(n,L?A.to:A.from,L?"before":"after"),"line",t,r),l,u,!0)},0,i.length-1),h=i[f];if(f>0){var g=h.level!=1,m=pr(e,_(n,g?h.from:h.to,g?"after":"before"),"line",t,r);Is(m,l,u,!0)&&m.top>u&&(h=i[f-1])}return h}function Qc(e,t,n,r,i,l,u){var f=_a(e,t,r,u),h=f.begin,g=f.end;/\s/.test(t.text.charAt(g-1))&&g--;for(var m=null,x=null,A=0;A<i.length;A++){var L=i[A];if(!(L.from>=g||L.to<=h)){var N=L.level!=1,P=Cr(e,r,N?Math.min(g,L.to)-1:Math.max(h,L.from)).right,q=P<l?l-P+1e9:P-l;(!m||x>q)&&(m=L,x=q)}}return m||(m=i[i.length-1]),m.from<h&&(m={from:h,to:m.to,level:m.level}),m.to>g&&(m={from:m.from,to:g,level:m.level}),m}var gn;function zn(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(gn==null){gn=C("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)gn.appendChild(document.createTextNode("x")),gn.appendChild(C("br"));gn.appendChild(document.createTextNode("x"))}te(e.measure,gn);var n=gn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),I(e.measure),n||1}function Un(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=C("span","xxxxxxxxxx"),n=C("pre",[t],"CodeMirror-line-like");te(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ps(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,l=t.gutters.firstChild,u=0;l;l=l.nextSibling,++u){var f=e.display.gutterSpecs[u].className;n[f]=l.offsetLeft+l.clientLeft+i,r[f]=l.clientWidth}return{fixedPos:Fs(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Fs(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Na(e){var t=zn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Un(e.display)-3);return function(i){if(Zr(e.doc,i))return 0;var l=0;if(i.widgets)for(var u=0;u<i.widgets.length;u++)i.widgets[u].height&&(l+=i.widgets[u].height);return n?l+(Math.ceil(i.text.length/r)||1)*t:l+t}}function Ws(e){var t=e.doc,n=Na(e);t.iter(function(r){var i=n(r);i!=r.height&&Qt(r,i)})}function vn(e,t,n,r){var i=e.display;if(!n&&ci(t).getAttribute("cm-not-content")=="true")return null;var l,u,f=i.lineSpace.getBoundingClientRect();try{l=t.clientX-f.left,u=t.clientY-f.top}catch{return null}var h=Ds(e,l,u),g;if(r&&h.xRel>0&&(g=re(e.doc,h.line).text).length==h.ch){var m=_e(g,g.length,e.options.tabSize)-g.length;h=_(h.line,Math.max(0,Math.round((l-ba(e.display).left)/Un(e.display))-m))}return h}function mn(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Ft(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Er&&Ls(e.doc,t)<i.viewTo&&Vr(e);else if(n<=i.viewFrom)Er&&ua(e.doc,n+r)>i.viewFrom?Vr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Vr(e);else if(t<=i.viewFrom){var l=wo(e,n,n+r,1);l?(i.view=i.view.slice(l.index),i.viewFrom=l.lineN,i.viewTo+=r):Vr(e)}else if(n>=i.viewTo){var u=wo(e,t,t,-1);u?(i.view=i.view.slice(0,u.index),i.viewTo=u.lineN):Vr(e)}else{var f=wo(e,t,t,-1),h=wo(e,n,n+r,1);f&&h?(i.view=i.view.slice(0,f.index).concat(mo(e,f.lineN,h.lineN)).concat(i.view.slice(h.index)),i.viewTo+=r):Vr(e)}var g=i.externalMeasured;g&&(n<g.lineN?g.lineN+=r:t<g.lineN+g.size&&(i.externalMeasured=null))}function Jr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[mn(e,t)];if(l.node!=null){var u=l.changes||(l.changes=[]);Ce(u,n)==-1&&u.push(n)}}}function Vr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wo(e,t,n,r){var i=mn(e,t),l,u=e.display.view;if(!Er||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var f=e.display.viewFrom,h=0;h<i;h++)f+=u[h].size;if(f!=t){if(r>0){if(i==u.length-1)return null;l=f+u[i].size-t,i++}else l=f-t;t+=l,n+=l}for(;Ls(e.doc,n)!=n;){if(i==(r<0?0:u.length-1))return null;n+=r*u[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function $c(e,t,n){var r=e.display,i=r.view;i.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=mo(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=mo(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(mn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(mo(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,mn(e,n)))),r.viewTo=n}function Ea(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];!i.hidden&&(!i.node||i.changes)&&++n}return n}function wi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Da(e,t){t===void 0&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),u=e.options.$customCursor;u&&(t=!0);for(var f=0;f<n.sel.ranges.length;f++)if(!(!t&&f==n.sel.primIndex)){var h=n.sel.ranges[f];if(!(h.from().line>=e.display.viewTo||h.to().line<e.display.viewFrom)){var g=h.empty();if(u){var m=u(e,h);m&&Rs(e,m,i)}else(g||e.options.showCursorWhenSelecting)&&Rs(e,h.head,i);g||eh(e,h,l)}}return r}function Rs(e,t,n){var r=pr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(C("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=xo(e,t,"div",null,null),u=l.right-l.left;i.style.width=(u>0?u:e.defaultCharWidth())+"px"}if(r.other){var f=n.appendChild(C("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=r.other.left+"px",f.style.top=r.other.top+"px",f.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Co(e,t){return e.top-t.top||e.left-t.left}function eh(e,t,n){var r=e.display,i=e.doc,l=document.createDocumentFragment(),u=ba(e.display),f=u.left,h=Math.max(r.sizerWidth,pn(e)-r.sizer.offsetLeft)-u.right,g=i.direction=="ltr";function m(j,ee,ue,ne){ee<0&&(ee=0),ee=Math.round(ee),ne=Math.round(ne),l.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+j+`px;
                             top: `+ee+"px; width: "+(ue??h-j)+`px;
                             height: `+(ne-ee)+"px"))}function x(j,ee,ue){var ne=re(i,j),Se=ne.text.length,Ue,xt;function Ve(ft,Bt){return xo(e,_(j,ft),"div",ne,Bt)}function jt(ft,Bt,kt){var dt=Ha(e,ne,null,ft),ct=Bt=="ltr"==(kt=="after")?"left":"right",tt=kt=="after"?dt.begin:dt.end-(/\s/.test(ne.text.charAt(dt.end-1))?2:1);return Ve(tt,ct)[ct]}var Rt=ke(ne,i.direction);return Kt(Rt,ee||0,ue??Se,function(ft,Bt,kt,dt){var ct=kt=="ltr",tt=Ve(ft,ct?"left":"right"),zt=Ve(Bt-1,ct?"right":"left"),ti=ee==null&&ft==0,nn=ue==null&&Bt==Se,Ot=dt==0,Sr=!Rt||dt==Rt.length-1;if(zt.top-tt.top<=3){var wt=(g?ti:nn)&&Ot,hl=(g?nn:ti)&&Sr,Wr=wt?f:(ct?tt:zt).left,Cn=hl?h:(ct?zt:tt).right;m(Wr,tt.top,Cn-Wr,tt.bottom)}else{var Sn,Et,ri,dl;ct?(Sn=g&&ti&&Ot?f:tt.left,Et=g?h:jt(ft,kt,"before"),ri=g?f:jt(Bt,kt,"after"),dl=g&&nn&&Sr?h:zt.right):(Sn=g?jt(ft,kt,"before"):f,Et=!g&&ti&&Ot?h:tt.right,ri=!g&&nn&&Sr?f:zt.left,dl=g?jt(Bt,kt,"after"):h),m(Sn,tt.top,Et-Sn,tt.bottom),tt.bottom<zt.top&&m(f,tt.bottom,null,zt.top),m(ri,zt.top,dl-ri,zt.bottom)}(!Ue||Co(tt,Ue)<0)&&(Ue=tt),Co(zt,Ue)<0&&(Ue=zt),(!xt||Co(tt,xt)<0)&&(xt=tt),Co(zt,xt)<0&&(xt=zt)}),{start:Ue,end:xt}}var A=t.from(),L=t.to();if(A.line==L.line)x(A.line,A.ch,L.ch);else{var N=re(i,A.line),P=re(i,L.line),q=dr(N)==dr(P),Y=x(A.line,A.ch,q?N.text.length+1:null).end,Q=x(L.line,q?0:null,L.ch).start;q&&(Y.top<Q.top-2?(m(Y.right,Y.top,null,Y.bottom),m(f,Q.top,Q.left,Q.bottom)):m(Y.right,Y.top,Q.left-Y.right,Y.bottom)),Y.bottom<Q.top&&m(f,Y.bottom,null,Q.top)}n.appendChild(l)}function Bs(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Gn(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ia(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Us(e))}function zs(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Gn(e))},100)}function Us(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(Qe(e,"focus",e,t),e.state.focused=!0,We(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),k&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Bs(e))}function Gn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Qe(e,"blur",e,t),e.state.focused=!1,lt(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function So(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,l=0,u=0;u<t.view.length;u++){var f=t.view[u],h=e.options.lineWrapping,g=void 0,m=0;if(!f.hidden){if(i+=f.line.height,T&&O<8){var x=f.node.offsetTop+f.node.offsetHeight;g=x-n,n=x}else{var A=f.node.getBoundingClientRect();g=A.bottom-A.top,!h&&f.text.firstChild&&(m=f.text.firstChild.getBoundingClientRect().right-A.left-1)}var L=f.line.height-g;if((L>.005||L<-.005)&&(i<r&&(l-=L),Qt(f.line,g),Pa(f.line),f.rest))for(var N=0;N<f.rest.length;N++)Pa(f.rest[N]);if(m>e.display.sizerWidth){var P=Math.ceil(m/Un(e.display));P>e.display.maxLineLength&&(e.display.maxLineLength=P,e.display.maxLine=f.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function Pa(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ko(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-yo(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,l=b(t,r),u=b(t,i);if(n&&n.ensure){var f=n.ensure.from.line,h=n.ensure.to.line;f<l?(l=f,u=b(t,Dr(re(t,f))+e.wrapper.clientHeight)):Math.min(h,t.lastLine())>=u&&(l=b(t,Dr(re(t,h))-e.wrapper.clientHeight),u=h)}return{from:l,to:Math.max(u,l+1)}}function th(e,t){if(!$e(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null,l=n.wrapper.ownerDocument;if(t.top+r.top<0?i=!0:t.bottom+r.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(i=!1),i!=null&&!ce){var u=C("div","​",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-yo(e.display))+`px;
                         height: `+(t.bottom-t.top+wr(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(u),u.scrollIntoView(i),e.display.lineSpace.removeChild(u)}}}function rh(e,t,n,r){r==null&&(r=0);var i;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?_(t.line,t.ch+1,"before"):t,t=t.ch?_(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var u=!1,f=pr(e,t),h=!n||n==t?f:pr(e,n);i={left:Math.min(f.left,h.left),top:Math.min(f.top,h.top)-r,right:Math.max(f.left,h.left),bottom:Math.max(f.bottom,h.bottom)+r};var g=Gs(e,i),m=e.doc.scrollTop,x=e.doc.scrollLeft;if(g.scrollTop!=null&&(Si(e,g.scrollTop),Math.abs(e.doc.scrollTop-m)>1&&(u=!0)),g.scrollLeft!=null&&(yn(e,g.scrollLeft),Math.abs(e.doc.scrollLeft-x)>1&&(u=!0)),!u)break}return i}function nh(e,t){var n=Gs(e,t);n.scrollTop!=null&&Si(e,n.scrollTop),n.scrollLeft!=null&&yn(e,n.scrollLeft)}function Gs(e,t){var n=e.display,r=zn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,l=_s(e),u={};t.bottom-t.top>l&&(t.bottom=t.top+l);var f=e.doc.height+Os(n),h=t.top<r,g=t.bottom>f-r;if(t.top<i)u.scrollTop=h?0:t.top;else if(t.bottom>i+l){var m=Math.min(t.top,(g?f:t.bottom)-l);m!=i&&(u.scrollTop=m)}var x=e.options.fixedGutter?0:n.gutters.offsetWidth,A=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-x,L=pn(e)-n.gutters.offsetWidth,N=t.right-t.left>L;return N&&(t.right=t.left+L),t.left<10?u.scrollLeft=0:t.left<A?u.scrollLeft=Math.max(0,t.left+x-(N?0:10)):t.right>L+A-3&&(u.scrollLeft=t.right+(N?0:10)-L),u}function Ks(e,t){t!=null&&(Lo(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Kn(e){Lo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ci(e,t,n){(t!=null||n!=null)&&Lo(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function ih(e,t){Lo(e),e.curOp.scrollToPos=t}function Lo(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Oa(e,t.from),r=Oa(e,t.to);Fa(e,n,r,t.margin)}}function Fa(e,t,n,r){var i=Gs(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Ci(e,i.scrollLeft,i.scrollTop)}function Si(e,t){Math.abs(e.doc.scrollTop-t)<2||(d||qs(e,{top:t}),Wa(e,t,!0),d&&qs(e),Ti(e,100))}function Wa(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function yn(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,Ga(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ki(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Os(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+wr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var bn=function(e,t,n){this.cm=n;var r=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),ae(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ae(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,T&&O<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};bn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},bn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},bn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},bn.prototype.zeroWidthHack=function(){var e=pe&&!ye?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ht,this.disableVert=new Ht},bn.prototype.enableZeroWidthBar=function(e,t,n){e.style.visibility="";function r(){var i=e.getBoundingClientRect(),l=n=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);l!=e?e.style.visibility="hidden":t.set(1e3,r)}t.set(1e3,r)},bn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Li=function(){};Li.prototype.update=function(){return{bottom:0,right:0}},Li.prototype.setScrollLeft=function(){},Li.prototype.setScrollTop=function(){},Li.prototype.clear=function(){};function Xn(e,t){t||(t=ki(e));var n=e.display.barWidth,r=e.display.barHeight;Ra(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&So(e),Ra(e,ki(e)),n=e.display.barWidth,r=e.display.barHeight}function Ra(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var Ba={native:bn,null:Li};function za(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&lt(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ba[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ae(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?yn(e,t):Si(e,t)},e),e.display.scrollbars.addClass&&We(e.display.wrapper,e.display.scrollbars.addClass)}var oh=0;function xn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++oh,markArrays:null},Pc(e.curOp)}function wn(e){var t=e.curOp;t&&Wc(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;sh(n)})}function sh(e){for(var t=e.ops,n=0;n<t.length;n++)lh(t[n]);for(var r=0;r<t.length;r++)ah(t[r]);for(var i=0;i<t.length;i++)uh(t[i]);for(var l=0;l<t.length;l++)fh(t[l]);for(var u=0;u<t.length;u++)ch(t[u])}function lh(e){var t=e.cm,n=t.display;dh(t),e.updateMaxLine&&Ms(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new To(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ah(e){e.updatedDisplay=e.mustUpdate&&Xs(e.cm,e.update)}function uh(e){var t=e.cm,n=t.display;e.updatedDisplay&&So(t),e.barMeasure=ki(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=wa(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+wr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-pn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function fh(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&yn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==ze(St(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Xn(t,e.barMeasure),e.updatedDisplay&&js(t,e.barMeasure),e.selectionChanged&&Bs(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ia(e.cm)}function ch(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Ua(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&Wa(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&yn(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=rh(t,me(r,e.scrollToPos.from),me(r,e.scrollToPos.to),e.scrollToPos.margin);th(t,i)}var l=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(l)for(var f=0;f<l.length;++f)l[f].lines.length||Qe(l[f],"hide");if(u)for(var h=0;h<u.length;++h)u[h].lines.length&&Qe(u[h],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Qe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Yt(e,t){if(e.curOp)return t();xn(e);try{return t()}finally{wn(e)}}function yt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xn(e);try{return t.apply(e,arguments)}finally{wn(e)}}}function Nt(e){return function(){if(this.curOp)return e.apply(this,arguments);xn(this);try{return e.apply(this,arguments)}finally{wn(this)}}}function bt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xn(t);try{return e.apply(this,arguments)}finally{wn(t)}}}function Ti(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,fe(hh,e))}function hh(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=gi(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var u=l.styles,f=l.text.length>e.options.maxHighlightLength?br(t.mode,r.state):null,h=Zl(e,l,r,!0);f&&(r.state=f),l.styles=h.styles;var g=l.styleClasses,m=h.classes;m?l.styleClasses=m:g&&(l.styleClasses=null);for(var x=!u||u.length!=l.styles.length||g!=m&&(!g||!m||g.bgClass!=m.bgClass||g.textClass!=m.textClass),A=0;!x&&A<u.length;++A)x=u[A]!=l.styles[A];x&&i.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&ws(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Ti(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Yt(e,function(){for(var l=0;l<i.length;l++)Jr(e,i[l],"text")})}}var To=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ko(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=pn(e),this.force=n,this.dims=Ps(e),this.events=[]};To.prototype.signal=function(e,t){qt(e,t)&&this.events.push(arguments)},To.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Qe.apply(null,this.events[e])};function dh(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=wr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=wr(e)+"px",t.scrollbarsClipped=!0)}function ph(e){if(e.hasFocus())return null;var t=ze(St(e));if(!t||!xe(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=de(e).getSelection();r.anchorNode&&r.extend&&xe(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function gh(e){if(!(!e||!e.activeElt||e.activeElt==ze(at(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&xe(document.body,e.anchorNode)&&xe(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Xs(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Vr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Ea(e)==0)return!1;Ka(e)&&(Vr(e),t.dims=Ps(e));var i=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),u=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>u&&n.viewTo-u<20&&(u=Math.min(i,n.viewTo)),Er&&(l=Ls(e.doc,l),u=ua(e.doc,u));var f=l!=n.viewFrom||u!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;$c(e,l,u),n.viewOffset=Dr(re(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var h=Ea(e);if(!f&&h==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var g=ph(e);return h>4&&(n.lineDiv.style.display="none"),vh(e,n.updateLineNumbers,t.dims),h>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,gh(g),I(n.cursorDiv),I(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,f&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ti(e,400)),n.updateLineNumbers=null,!0}function Ua(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==pn(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+Os(e.display)-_s(e),n.top)}),t.visible=ko(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=ko(e.display,e.doc,n));if(!Xs(e,t))break;So(e);var i=ki(e);wi(e),Xn(e,i),js(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function qs(e,t){var n=new To(e,t);if(Xs(e,n)){So(e),Ua(e,n);var r=ki(e);wi(e),Xn(e,r),js(e,r),n.finish()}}function vh(e,t,n){var r=e.display,i=e.options.lineNumbers,l=r.lineDiv,u=l.firstChild;function f(N){var P=N.nextSibling;return k&&pe&&e.display.currentWheelTarget==N?N.style.display="none":N.parentNode.removeChild(N),P}for(var h=r.view,g=r.viewFrom,m=0;m<h.length;m++){var x=h[m];if(!x.hidden)if(!x.node||x.node.parentNode!=l){var A=Gc(e,x,g,n);l.insertBefore(A,u)}else{for(;u!=x.node;)u=f(u);var L=i&&t!=null&&t<=g&&x.lineNumber;x.changes&&(Ce(x.changes,"gutter")>-1&&(L=!1),pa(e,x,g,n)),L&&(I(x.lineNumber),x.lineNumber.appendChild(document.createTextNode(X(e.options,g)))),u=x.node.nextSibling}g+=x.size}for(;u;)u=f(u)}function Ys(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",mt(e,"gutterChanged",e)}function js(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+wr(e)+"px"}function Ga(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=Fs(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,l=r+"px",u=0;u<n.length;u++)if(!n[u].hidden){e.options.fixedGutter&&(n[u].gutter&&(n[u].gutter.style.left=l),n[u].gutterBackground&&(n[u].gutterBackground.style.left=l));var f=n[u].alignable;if(f)for(var h=0;h<f.length;h++)f[h].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Ka(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=X(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(C("div",[C("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=i.firstChild.offsetWidth,u=i.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-u)+1,r.lineNumWidth=r.lineNumInnerWidth+u,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ys(e.display),!0}return!1}function Zs(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var l=e[i],u=null;if(typeof l!="string"&&(u=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:l,style:u})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Xa(e){var t=e.gutters,n=e.gutterSpecs;I(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],l=i.className,u=i.style,f=t.appendChild(C("div",null,"CodeMirror-gutter "+l));u&&(f.style.cssText=u),l=="CodeMirror-linenumbers"&&(e.lineGutter=f,f.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ys(e)}function Mi(e){Xa(e.display),Ft(e),Ga(e)}function mh(e,t,n,r){var i=this;this.input=n,i.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Fe("div",null,"CodeMirror-code"),i.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=C("div",null,"CodeMirror-cursors"),i.measure=C("div",null,"CodeMirror-measure"),i.lineMeasure=C("div",null,"CodeMirror-measure"),i.lineSpace=Fe("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var l=Fe("div",[i.lineSpace],"CodeMirror-lines");i.mover=C("div",[l],null,"position: relative"),i.sizer=C("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=C("div",null,null,"position: absolute; height: "+w+"px; width: 1px;"),i.gutters=C("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=C("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=C("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),B&&R===105&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),T&&O<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!k&&!(d&&Te)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Zs(r.gutters,r.lineNumbers),Xa(i),n.init(i)}var Mo=0,Pr=null;T?Pr=-.53:d?Pr=15:B?Pr=-.7:se&&(Pr=-1/3);function qa(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function yh(e){var t=qa(e);return t.x*=Pr,t.y*=Pr,t}function Ya(e,t){B&&R==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var n=qa(t),r=n.x,i=n.y,l=Pr;t.deltaMode===0&&(r=t.deltaX,i=t.deltaY,l=1);var u=e.display,f=u.scroller,h=f.scrollWidth>f.clientWidth,g=f.scrollHeight>f.clientHeight;if(r&&h||i&&g){if(i&&pe&&k){e:for(var m=t.target,x=u.view;m!=f;m=m.parentNode)for(var A=0;A<x.length;A++)if(x[A].node==m){e.display.currentWheelTarget=m;break e}}if(r&&!d&&!ie&&l!=null){i&&g&&Si(e,Math.max(0,f.scrollTop+i*l)),yn(e,Math.max(0,f.scrollLeft+r*l)),(!i||i&&g)&&Mt(t),u.wheelStartX=null;return}if(i&&l!=null){var L=i*l,N=e.doc.scrollTop,P=N+u.wrapper.clientHeight;L<0?N=Math.max(0,N+L-50):P=Math.min(e.doc.height,P+L+50),qs(e,{top:N,bottom:P})}Mo<20&&t.deltaMode!==0&&(u.wheelStartX==null?(u.wheelStartX=f.scrollLeft,u.wheelStartY=f.scrollTop,u.wheelDX=r,u.wheelDY=i,setTimeout(function(){if(u.wheelStartX!=null){var q=f.scrollLeft-u.wheelStartX,Y=f.scrollTop-u.wheelStartY,Q=Y&&u.wheelDY&&Y/u.wheelDY||q&&u.wheelDX&&q/u.wheelDX;u.wheelStartX=u.wheelStartY=null,Q&&(Pr=(Pr*Mo+Q)/(Mo+1),++Mo)}},200)):(u.wheelDX+=r,u.wheelDY+=i))}}var $t=function(e,t){this.ranges=e,this.primIndex=t};$t.prototype.primary=function(){return this.ranges[this.primIndex]},$t.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!Ee(n.anchor,r.anchor)||!Ee(n.head,r.head))return!1}return!0},$t.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new De(vt(this.ranges[t].anchor),vt(this.ranges[t].head));return new $t(e,this.primIndex)},$t.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},$t.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(V(t,r.from())>=0&&V(e,r.to())<=0)return n}return-1};var De=function(e,t){this.anchor=e,this.head=t};De.prototype.from=function(){return Fn(this.anchor,this.head)},De.prototype.to=function(){return Pt(this.anchor,this.head)},De.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function gr(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(A,L){return V(A.from(),L.from())}),n=Ce(t,i);for(var l=1;l<t.length;l++){var u=t[l],f=t[l-1],h=V(f.to(),u.from());if(r&&!u.empty()?h>0:h>=0){var g=Fn(f.from(),u.from()),m=Pt(f.to(),u.to()),x=f.empty()?u.from()==u.head:f.from()==f.head;l<=n&&--n,t.splice(--l,2,new De(x?m:g,x?g:m))}}return new $t(t,n)}function Qr(e,t){return new $t([new De(e,t||e)],0)}function $r(e){return e.text?_(e.from.line+e.text.length-1,F(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function ja(e,t){if(V(e,t.from)<0)return e;if(V(e,t.to)<=0)return $r(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=$r(t).ch-t.to.ch),_(n,r)}function Js(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new De(ja(i.anchor,t),ja(i.head,t)))}return gr(e.cm,n,e.sel.primIndex)}function Za(e,t,n){return e.line==t.line?_(n.line,e.ch-t.ch+n.ch):_(n.line+(e.line-t.line),e.ch)}function bh(e,t,n){for(var r=[],i=_(e.first,0),l=i,u=0;u<t.length;u++){var f=t[u],h=Za(f.from,i,l),g=Za($r(f),i,l);if(i=f.to,l=g,n=="around"){var m=e.sel.ranges[u],x=V(m.head,m.anchor)<0;r[u]=new De(x?g:h,x?h:g)}else r[u]=new De(h,h)}return new $t(r,e.sel.primIndex)}function Vs(e){e.doc.mode=Dn(e.options,e.doc.modeOption),Ai(e)}function Ai(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ti(e,100),e.state.modeGen++,e.curOp&&Ft(e)}function Ja(e,t){return t.from.ch==0&&t.to.ch==0&&F(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Qs(e,t,n,r){function i(Q){return n?n[Q]:null}function l(Q,j,ee){Mc(Q,j,ee,r),mt(Q,"change",Q,t)}function u(Q,j){for(var ee=[],ue=Q;ue<j;++ue)ee.push(new Wn(g[ue],i(ue),r));return ee}var f=t.from,h=t.to,g=t.text,m=re(e,f.line),x=re(e,h.line),A=F(g),L=i(g.length-1),N=h.line-f.line;if(t.full)e.insert(0,u(0,g.length)),e.remove(g.length,e.size-g.length);else if(Ja(e,t)){var P=u(0,g.length-1);l(x,x.text,L),N&&e.remove(f.line,N),P.length&&e.insert(f.line,P)}else if(m==x)if(g.length==1)l(m,m.text.slice(0,f.ch)+A+m.text.slice(h.ch),L);else{var q=u(1,g.length-1);q.push(new Wn(A+m.text.slice(h.ch),L,r)),l(m,m.text.slice(0,f.ch)+g[0],i(0)),e.insert(f.line+1,q)}else if(g.length==1)l(m,m.text.slice(0,f.ch)+g[0]+x.text.slice(h.ch),i(0)),e.remove(f.line+1,N);else{l(m,m.text.slice(0,f.ch)+g[0],i(0)),l(x,A+x.text.slice(h.ch),L);var Y=u(1,g.length-1);N>1&&e.remove(f.line+1,N-1),e.insert(f.line+1,Y)}mt(e,"change",e,t)}function en(e,t,n){function r(i,l,u){if(i.linked)for(var f=0;f<i.linked.length;++f){var h=i.linked[f];if(h.doc!=l){var g=u&&h.sharedHist;n&&!g||(t(h.doc,g),r(h.doc,i,g))}}}r(e,null,!0)}function Va(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ws(e),Vs(e),Qa(e),e.options.direction=t.direction,e.options.lineWrapping||Ms(e),e.options.mode=t.modeOption,Ft(e)}function Qa(e){(e.doc.direction=="rtl"?We:lt)(e.display.lineDiv,"CodeMirror-rtl")}function xh(e){Yt(e,function(){Qa(e),Ft(e)})}function Ao(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function $s(e,t){var n={from:vt(t.from),to:$r(t),text:Nr(e,t.from,t.to)};return tu(e,n,t.from.line,t.to.line+1),en(e,function(r){return tu(r,n,t.from.line,t.to.line+1)},!0),n}function $a(e){for(;e.length;){var t=F(e);if(t.ranges)e.pop();else break}}function wh(e,t){if(t)return $a(e.done),F(e.done);if(e.done.length&&!F(e.done).ranges)return F(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),F(e.done)}function eu(e,t,n,r){var i=e.history;i.undone.length=0;var l=+new Date,u,f;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(u=wh(i,i.lastOp==r)))f=F(u.changes),V(t.from,t.to)==0&&V(t.from,f.to)==0?f.to=$r(t):u.changes.push($s(e,t));else{var h=F(i.done);for((!h||!h.ranges)&&Oo(e.sel,i.done),u={changes:[$s(e,t)],generation:i.generation},i.done.push(u);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,f||Qe(e,"historyAdded")}function Ch(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Sh(e,t,n,r){var i=e.history,l=r&&r.origin;n==i.lastSelOp||l&&i.lastSelOrigin==l&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==l||Ch(e,l,F(i.done),t))?i.done[i.done.length-1]=t:Oo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=l,i.lastSelOp=n,r&&r.clearRedo!==!1&&$a(i.undone)}function Oo(e,t){var n=F(t);n&&n.ranges&&n.equals(e)||t.push(e)}function tu(e,t,n,r){var i=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(u){u.markedSpans&&((i||(i=t["spans_"+e.id]={}))[l]=u.markedSpans),++l})}function kh(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Lh(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(kh(n[i]));return r}function ru(e,t){var n=Lh(e,t),r=Ss(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var l=n[i],u=r[i];if(l&&u)e:for(var f=0;f<u.length;++f){for(var h=u[f],g=0;g<l.length;++g)if(l[g].marker==h.marker)continue e;l.push(h)}else u&&(n[i]=u)}return n}function qn(e,t,n){for(var r=[],i=0;i<e.length;++i){var l=e[i];if(l.ranges){r.push(n?$t.prototype.deepCopy.call(l):l);continue}var u=l.changes,f=[];r.push({changes:f});for(var h=0;h<u.length;++h){var g=u[h],m=void 0;if(f.push({from:g.from,to:g.to,text:g.text}),t)for(var x in g)(m=x.match(/^spans_(\d+)$/))&&Ce(t,Number(m[1]))>-1&&(F(f)[x]=g[x],delete g[x])}}return r}function el(e,t,n,r){if(r){var i=e.anchor;if(n){var l=V(t,i)<0;l!=V(n,i)<0?(i=t,t=n):l!=V(t,n)<0&&(t=n)}return new De(i,t)}else return new De(n||t,t)}function _o(e,t,n,r,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),At(e,new $t([el(e.sel.primary(),t,n,i)],0),r)}function nu(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=el(e.sel.ranges[l],t[l],null,i);var u=gr(e.cm,r,e.sel.primIndex);At(e,u,n)}function tl(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,At(e,gr(e.cm,i,e.sel.primIndex),r)}function iu(e,t,n,r){At(e,Qr(t,n),r)}function Th(e,t,n){var r={ranges:t.ranges,update:function(i){this.ranges=[];for(var l=0;l<i.length;l++)this.ranges[l]=new De(me(e,i[l].anchor),me(e,i[l].head))},origin:n&&n.origin};return Qe(e,"beforeSelectionChange",e,r),e.cm&&Qe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?gr(e.cm,r.ranges,r.ranges.length-1):t}function ou(e,t,n){var r=e.history.done,i=F(r);i&&i.ranges?(r[r.length-1]=t,Ho(e,t,n)):At(e,t,n)}function At(e,t,n){Ho(e,t,n),Sh(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ho(e,t,n){(qt(e,"beforeSelectionChange")||e.cm&&qt(e.cm,"beforeSelectionChange"))&&(t=Th(e,t,n));var r=n&&n.bias||(V(t.primary().head,e.sel.primary().head)<0?-1:1);su(e,au(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Kn(e.cm)}function su(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ir(e.cm)),mt(e,"cursorActivity",e))}function lu(e){su(e,au(e,e.sel,null,!1))}function au(e,t,n,r){for(var i,l=0;l<t.ranges.length;l++){var u=t.ranges[l],f=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],h=No(e,u.anchor,f&&f.anchor,n,r),g=u.head==u.anchor?h:No(e,u.head,f&&f.head,n,r);(i||h!=u.anchor||g!=u.head)&&(i||(i=t.ranges.slice(0,l)),i[l]=new De(h,g))}return i?gr(e.cm,i,t.primIndex):t}function Yn(e,t,n,r,i){var l=re(e,t.line);if(l.markedSpans)for(var u=0;u<l.markedSpans.length;++u){var f=l.markedSpans[u],h=f.marker,g="selectLeft"in h?!h.selectLeft:h.inclusiveLeft,m="selectRight"in h?!h.selectRight:h.inclusiveRight;if((f.from==null||(g?f.from<=t.ch:f.from<t.ch))&&(f.to==null||(m?f.to>=t.ch:f.to>t.ch))){if(i&&(Qe(h,"beforeCursorEnter"),h.explicitlyCleared))if(l.markedSpans){--u;continue}else break;if(!h.atomic)continue;if(n){var x=h.find(r<0?1:-1),A=void 0;if((r<0?m:g)&&(x=uu(e,x,-r,x&&x.line==t.line?l:null)),x&&x.line==t.line&&(A=V(x,n))&&(r<0?A<0:A>0))return Yn(e,x,t,r,i)}var L=h.find(r<0?-1:1);return(r<0?g:m)&&(L=uu(e,L,r,L.line==t.line?l:null)),L?Yn(e,L,t,r,i):null}}return t}function No(e,t,n,r,i){var l=r||1,u=Yn(e,t,n,l,i)||!i&&Yn(e,t,n,l,!0)||Yn(e,t,n,-l,i)||!i&&Yn(e,t,n,-l,!0);return u||(e.cantEdit=!0,_(e.first,0))}function uu(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?me(e,_(t.line-1)):null:n>0&&t.ch==(r||re(e,t.line)).text.length?t.line<e.first+e.size-1?_(t.line+1,0):null:new _(t.line,t.ch+n)}function fu(e){e.setSelection(_(e.firstLine(),0),_(e.lastLine()),E)}function cu(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(i,l,u,f){i&&(r.from=me(e,i)),l&&(r.to=me(e,l)),u&&(r.text=u),f!==void 0&&(r.origin=f)}),Qe(e,"beforeChange",e,r),e.cm&&Qe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function jn(e,t,n){if(e.cm){if(!e.cm.curOp)return yt(e.cm,jn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((qt(e,"beforeChange")||e.cm&&qt(e.cm,"beforeChange"))&&(t=cu(e,t,!0),!t))){var r=ra&&!n&&Sc(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)hu(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else hu(e,t)}}function hu(e,t){if(!(t.text.length==1&&t.text[0]==""&&V(t.from,t.to)==0)){var n=Js(e,t);eu(e,t,n,e.cm?e.cm.curOp.id:NaN),Oi(e,t,n,Ss(e,t));var r=[];en(e,function(i,l){!l&&Ce(r,i.history)==-1&&(vu(i.history,t),r.push(i.history)),Oi(i,t,null,Ss(i,t))})}}function Eo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var i=e.history,l,u=e.sel,f=t=="undo"?i.done:i.undone,h=t=="undo"?i.undone:i.done,g=0;g<f.length&&(l=f[g],!(n?l.ranges&&!l.equals(e.sel):!l.ranges));g++);if(g!=f.length){for(i.lastOrigin=i.lastSelOrigin=null;;)if(l=f.pop(),l.ranges){if(Oo(l,h),n&&!l.equals(e.sel)){At(e,l,{clearRedo:!1});return}u=l}else if(r){f.push(l);return}else break;var m=[];Oo(u,h),h.push({changes:m,generation:i.generation}),i.generation=l.generation||++i.maxGeneration;for(var x=qt(e,"beforeChange")||e.cm&&qt(e.cm,"beforeChange"),A=function(P){var q=l.changes[P];if(q.origin=t,x&&!cu(e,q,!1))return f.length=0,{};m.push($s(e,q));var Y=P?Js(e,q):F(f);Oi(e,q,Y,ru(e,q)),!P&&e.cm&&e.cm.scrollIntoView({from:q.from,to:$r(q)});var Q=[];en(e,function(j,ee){!ee&&Ce(Q,j.history)==-1&&(vu(j.history,q),Q.push(j.history)),Oi(j,q,null,ru(j,q))})},L=l.changes.length-1;L>=0;--L){var N=A(L);if(N)return N.v}}}}function du(e,t){if(t!=0&&(e.first+=t,e.sel=new $t(K(e.sel.ranges,function(i){return new De(_(i.anchor.line+t,i.anchor.ch),_(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){Ft(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Jr(e.cm,r,"gutter")}}function Oi(e,t,n,r){if(e.cm&&!e.cm.curOp)return yt(e.cm,Oi)(e,t,n,r);if(t.to.line<e.first){du(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);du(e,i),t={from:_(e.first,0),to:_(t.to.line+i,t.to.ch),text:[F(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:_(l,re(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Nr(e,t.from,t.to),n||(n=Js(e,t)),e.cm?Mh(e.cm,t,r):Qs(e,t,r),Ho(e,n,E),e.cantEdit&&No(e,_(e.firstLine(),0))&&(e.cantEdit=!1)}}function Mh(e,t,n){var r=e.doc,i=e.display,l=t.from,u=t.to,f=!1,h=l.line;e.options.lineWrapping||(h=v(dr(re(r,l.line))),r.iter(h,u.line+1,function(L){if(L==i.maxLine)return f=!0,!0})),r.sel.contains(t.from,t.to)>-1&&ir(e),Qs(r,t,n,Na(e)),e.options.lineWrapping||(r.iter(h,l.line+t.text.length,function(L){var N=vo(L);N>i.maxLineLength&&(i.maxLine=L,i.maxLineLength=N,i.maxLineChanged=!0,f=!1)}),f&&(e.curOp.updateMaxLine=!0)),vc(r,l.line),Ti(e,400);var g=t.text.length-(u.line-l.line)-1;t.full?Ft(e):l.line==u.line&&t.text.length==1&&!Ja(e.doc,t)?Jr(e,l.line,"text"):Ft(e,l.line,u.line+1,g);var m=qt(e,"changes"),x=qt(e,"change");if(x||m){var A={from:l,to:u,text:t.text,removed:t.removed,origin:t.origin};x&&mt(e,"change",e,A),m&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(A)}e.display.selForContextMenu=null}function Zn(e,t,n,r,i){var l;r||(r=n),V(r,n)<0&&(l=[r,n],n=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),jn(e,{from:n,to:r,text:t,origin:i})}function pu(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function gu(e,t,n,r){for(var i=0;i<e.length;++i){var l=e[i],u=!0;if(l.ranges){l.copied||(l=e[i]=l.deepCopy(),l.copied=!0);for(var f=0;f<l.ranges.length;f++)pu(l.ranges[f].anchor,t,n,r),pu(l.ranges[f].head,t,n,r);continue}for(var h=0;h<l.changes.length;++h){var g=l.changes[h];if(n<g.from.line)g.from=_(g.from.line+r,g.from.ch),g.to=_(g.to.line+r,g.to.ch);else if(t<=g.to.line){u=!1;break}}u||(e.splice(0,i+1),i=0)}}function vu(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;gu(e.done,n,r,i),gu(e.undone,n,r,i)}function _i(e,t,n,r){var i=t,l=t;return typeof t=="number"?l=re(e,Yl(e,t)):i=v(t),i==null?null:(r(l,i)&&e.cm&&Jr(e.cm,i,n),l)}function Hi(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}Hi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Ac(i),mt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Ni(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}Ni.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var l=Math.min(t,i-e),u=r.height;if(r.removeInner(e,l),this.height-=u-r.height,i==l&&(this.children.splice(n--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Hi))){var f=[];this.collapse(f),this.children=[new Hi(f)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],l=i.chunkSize();if(e<=l){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var u=i.lines.length%25+25,f=u;f<i.lines.length;){var h=new Hi(i.lines.slice(f,f+=25));i.height-=h.height,this.children.splice(++r,0,h),h.parent=this}i.lines=i.lines.slice(0,u),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ni(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Ce(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Ni(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],l=i.chunkSize();if(e<l){var u=Math.min(t,l-e);if(i.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=l}}};var Ei=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Ei.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=v(n);if(!(r==null||!t)){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var l=bi(this);Qt(n,Math.max(0,n.height-l)),e&&(Yt(e,function(){mu(e,n,-l),Jr(e,r,"widget")}),mt(e,"lineWidgetCleared",e,this,r))}},Ei.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=bi(this)-t;i&&(Zr(this.doc,r)||Qt(r,r.height+i),n&&Yt(n,function(){n.curOp.forceUpdate=!0,mu(n,r,i),mt(n,"lineWidgetChanged",n,e,v(r))}))},ar(Ei);function mu(e,t,n){Dr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ks(e,n)}function Ah(e,t,n,r){var i=new Ei(e,n,r),l=e.cm;return l&&i.noHScroll&&(l.display.alignWidgets=!0),_i(e,t,"widget",function(u){var f=u.widgets||(u.widgets=[]);if(i.insertAt==null?f.push(i):f.splice(Math.min(f.length,Math.max(0,i.insertAt)),0,i),i.line=u,l&&!Zr(e,u)){var h=Dr(u)<e.scrollTop;Qt(u,u.height+bi(i)),h&&Ks(l,i.height),l.curOp.forceUpdate=!0}return!0}),l&&mt(l,"lineWidgetAdded",l,i,typeof t=="number"?t:v(t)),i}var yu=0,tn=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yu};tn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xn(e),qt(this,"clear")){var n=this.find();n&&mt(this,"clear",n.from,n.to)}for(var r=null,i=null,l=0;l<this.lines.length;++l){var u=this.lines[l],f=vi(u.markedSpans,this);e&&!this.collapsed?Jr(e,v(u),"text"):e&&(f.to!=null&&(i=v(u)),f.from!=null&&(r=v(u))),u.markedSpans=bc(u.markedSpans,f),f.from==null&&this.collapsed&&!Zr(this.doc,u)&&e&&Qt(u,zn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var h=0;h<this.lines.length;++h){var g=dr(this.lines[h]),m=vo(g);m>e.display.maxLineLength&&(e.display.maxLine=g,e.display.maxLineLength=m,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&Ft(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&lu(e.doc)),e&&mt(e,"markerCleared",e,this,r,i),t&&wn(e),this.parent&&this.parent.clear()}},tn.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var l=this.lines[i],u=vi(l.markedSpans,this);if(u.from!=null&&(n=_(t?l:v(l),u.from),e==-1))return n;if(u.to!=null&&(r=_(t?l:v(l),u.to),e==1))return r}return n&&{from:n,to:r}},tn.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||Yt(r,function(){var i=t.line,l=v(t.line),u=Hs(r,l);if(u&&(ka(u),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Zr(n.doc,i)&&n.height!=null){var f=n.height;n.height=null;var h=bi(n)-f;h&&Qt(i,i.height+h)}mt(r,"markerChanged",r,e)})},tn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Ce(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},tn.prototype.detachLine=function(e){if(this.lines.splice(Ce(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ar(tn);function Jn(e,t,n,r,i){if(r&&r.shared)return Oh(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return yt(e.cm,Jn)(e,t,n,r,i);var l=new tn(e,i),u=V(t,n);if(r&&we(r,l,!1),u>0||u==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=Fe("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(aa(e,t.line,t,n,l)||t.line!=n.line&&aa(e,n.line,t,n,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");yc()}l.addToHistory&&eu(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var f=t.line,h=e.cm,g;if(e.iter(f,n.line+1,function(x){h&&l.collapsed&&!h.options.lineWrapping&&dr(x)==h.display.maxLine&&(g=!0),l.collapsed&&f!=t.line&&Qt(x,0),xc(x,new co(l,f==t.line?t.ch:null,f==n.line?n.ch:null),e.cm&&e.cm.curOp),++f}),l.collapsed&&e.iter(t.line,n.line+1,function(x){Zr(e,x)&&Qt(x,0)}),l.clearOnEnter&&ae(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(mc(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++yu,l.atomic=!0),h){if(g&&(h.curOp.updateMaxLine=!0),l.collapsed)Ft(h,t.line,n.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var m=t.line;m<=n.line;m++)Jr(h,m,"text");l.atomic&&lu(h.doc),mt(h,"markerAdded",h,l)}return l}var Di=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Di.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();mt(this,"clear")}},Di.prototype.find=function(e,t){return this.primary.find(e,t)},ar(Di);function Oh(e,t,n,r,i){r=we(r),r.shared=!1;var l=[Jn(e,t,n,r,i)],u=l[0],f=r.widgetNode;return en(e,function(h){f&&(r.widgetNode=f.cloneNode(!0)),l.push(Jn(h,me(h,t),me(h,n),r,i));for(var g=0;g<h.linked.length;++g)if(h.linked[g].isParent)return;u=F(l)}),new Di(l,u)}function bu(e){return e.findMarks(_(e.first,0),e.clipPos(_(e.lastLine())),function(t){return t.parent})}function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),l=e.clipPos(i.from),u=e.clipPos(i.to);if(V(l,u)){var f=Jn(e,l,u,r.primary,r.primary.type);r.markers.push(f),f.parent=r}}}function Hh(e){for(var t=function(r){var i=e[r],l=[i.primary.doc];en(i.primary.doc,function(h){return l.push(h)});for(var u=0;u<i.markers.length;u++){var f=i.markers[u];Ce(l,f.doc)==-1&&(f.parent=null,i.markers.splice(u--,1))}},n=0;n<e.length;n++)t(n)}var Nh=0,Wt=function(e,t,n,r,i){if(!(this instanceof Wt))return new Wt(e,t,n,r,i);n==null&&(n=0),Ni.call(this,[new Hi([new Wn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var l=_(n,0);this.sel=Qr(l),this.history=new Ao(null),this.id=++Nh,this.modeOption=t,this.lineSep=r,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Qs(this,{from:l,to:l,text:e}),At(this,Qr(l),E)};Wt.prototype=oe(Ni.prototype,{constructor:Wt,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=pi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:bt(function(e){var t=_(this.first,0),n=this.first+this.size-1;jn(this,{from:t,to:_(n,re(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ci(this.cm,0,0),At(this,Qr(t),E)}),replaceRange:function(e,t,n,r){t=me(this,t),n=n?me(this,n):t,Zn(this,e,t,n,r)},getRange:function(e,t,n){var r=Nr(this,me(this,e),me(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(D(this,e))return re(this,e)},getLineNumber:function(e){return v(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=re(this,e)),dr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:bt(function(e,t,n){iu(this,me(this,typeof e=="number"?_(e,t||0):e),null,n)}),setSelection:bt(function(e,t,n){iu(this,me(this,e),me(this,t||e),n)}),extendSelection:bt(function(e,t,n){_o(this,me(this,e),t&&me(this,t),n)}),extendSelections:bt(function(e,t){nu(this,jl(this,e),t)}),extendSelectionsBy:bt(function(e,t){var n=K(this.sel.ranges,e);nu(this,jl(this,n),t)}),setSelections:bt(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new De(me(this,e[i].anchor),me(this,e[i].head||e[i].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),At(this,gr(this.cm,r,t),n)}}),addSelection:bt(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new De(me(this,e),me(this,t||e))),At(this,gr(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=Nr(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Nr(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:bt(function(e,t,n){for(var r=[],i=this.sel,l=0;l<i.ranges.length;l++){var u=i.ranges[l];r[l]={from:u.from(),to:u.to(),text:this.splitLines(e[l]),origin:n}}for(var f=t&&t!="end"&&bh(this,r,t),h=r.length-1;h>=0;h--)jn(this,r[h]);f?ou(this,f):this.cm&&Kn(this.cm)}),undo:bt(function(){Eo(this,"undo")}),redo:bt(function(){Eo(this,"redo")}),undoSelection:bt(function(){Eo(this,"undo",!0)}),redoSelection:bt(function(){Eo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ao(this.history),en(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:qn(this.history.done),undone:qn(this.history.undone)}},setHistory:function(e){var t=this.history=new Ao(this.history);t.done=qn(e.done.slice(0),null,!0),t.undone=qn(e.undone.slice(0),null,!0)},setGutterMarker:bt(function(e,t,n){return _i(this,e,"gutter",function(r){var i=r.gutterMarkers||(r.gutterMarkers={});return i[t]=n,!n&&He(i)&&(r.gutterMarkers=null),!0})}),clearGutter:bt(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&_i(t,n,"gutter",function(){return n.gutterMarkers[e]=null,He(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!D(this,e)||(t=e,e=re(this,e),!e))return null}else if(t=v(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:bt(function(e,t,n){return _i(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[i])r[i]=n;else{if(ht(n).test(r[i]))return!1;r[i]+=" "+n}return!0})}),removeLineClass:bt(function(e,t,n){return _i(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[i];if(l)if(n==null)r[i]=null;else{var u=l.match(ht(n));if(!u)return!1;var f=u.index+u[0].length;r[i]=l.slice(0,u.index)+(!u.index||f==l.length?"":" ")+l.slice(f)||null}else return!1;return!0})}),addLineWidget:bt(function(e,t,n){return Ah(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Jn(this,me(this,e),me(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=me(this,e),Jn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=me(this,e);var t=[],n=re(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=me(this,e),t=me(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(l){var u=l.markedSpans;if(u)for(var f=0;f<u.length;f++){var h=u[f];!(h.to!=null&&i==e.line&&e.ch>=h.to||h.from==null&&i!=e.line||h.from!=null&&i==t.line&&h.from>=t.ch)&&(!n||n(h.marker))&&r.push(h.marker.parent||h.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var l=i.text.length+r;if(l>e)return t=e,!0;e-=l,++n}),me(this,_(n,t))},indexFromPos:function(e){e=me(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new Wt(pi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new Wt(pi(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],_h(r,bu(this)),r},unlinkDoc:function(e){if(e instanceof Ze&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Hh(bu(this));break}}if(e.history==this.history){var r=[e.id];en(e,function(i){return r.push(i.id)},!0),e.history=new Ao(null),e.history.done=qn(this.history.done,r),e.history.undone=qn(this.history.undone,r)}},iterLinkedDocs:function(e){en(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):or(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:bt(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&xh(this.cm))})}),Wt.prototype.eachLine=Wt.prototype.iter;var xu=0;function Eh(e){var t=this;if(wu(t),!($e(t,e)||Ir(t.display,e))){Mt(e),T&&(xu=+new Date);var n=vn(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,l=Array(i),u=0,f=function(){++u==i&&yt(t,function(){n=me(t.doc,n);var L={from:n,to:n,text:t.doc.splitLines(l.filter(function(N){return N!=null}).join(t.doc.lineSeparator())),origin:"paste"};jn(t.doc,L),ou(t.doc,Qr(me(t.doc,n),me(t.doc,$r(L))))})()},h=function(L,N){if(t.options.allowDropFileTypes&&Ce(t.options.allowDropFileTypes,L.type)==-1){f();return}var P=new FileReader;P.onerror=function(){return f()},P.onload=function(){var q=P.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(q)){f();return}l[N]=q,f()},P.readAsText(L)},g=0;g<r.length;g++)h(r[g],g);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var m=e.dataTransfer.getData("Text");if(m){var x;if(t.state.draggingText&&!t.state.draggingText.copy&&(x=t.listSelections()),Ho(t.doc,Qr(n,n)),x)for(var A=0;A<x.length;++A)Zn(t.doc,"",x[A].anchor,x[A].head,"drag");t.replaceSelection(m,"around","paste"),t.display.input.focus()}}catch{}}}}function Dh(e,t){if(T&&(!e.state.draggingText||+new Date-xu<100)){Xr(t);return}if(!($e(e,t)||Ir(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!se)){var n=C("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ie&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ie&&n.parentNode.removeChild(n)}}function Ih(e,t){var n=vn(e,t);if(n){var r=document.createDocumentFragment();Rs(e,n,r),e.display.dragCursor||(e.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),te(e.display.dragCursor,r)}}function wu(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Cu(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var l=0;l<n.length;l++)e(n[l])})}}var Su=!1;function Ph(){Su||(Fh(),Su=!0)}function Fh(){var e;ae(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Cu(Wh)},100))}),ae(window,"blur",function(){return Cu(Gn)})}function Wh(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var rn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ii=0;Ii<10;Ii++)rn[Ii+48]=rn[Ii+96]=String(Ii);for(var Do=65;Do<=90;Do++)rn[Do]=String.fromCharCode(Do);for(var Pi=1;Pi<=12;Pi++)rn[Pi+111]=rn[Pi+63235]="F"+Pi;var Fr={};Fr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fr.default=pe?Fr.macDefault:Fr.pcDefault;function Rh(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,l,u=0;u<t.length-1;u++){var f=t[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))i=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Bh(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var i=K(n.split(" "),Rh),l=0;l<i.length;l++){var u=void 0,f=void 0;l==i.length-1?(f=i.join(" "),u=r):(f=i.slice(0,l+1).join(" "),u="...");var h=t[f];if(!h)t[f]=u;else if(h!=u)throw new Error("Inconsistent bindings for "+f)}delete e[n]}for(var g in t)e[g]=t[g];return e}function Vn(e,t,n,r){t=Io(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&n(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Vn(e,t.fallthrough,n,r);for(var l=0;l<t.fallthrough.length;l++){var u=Vn(e,t.fallthrough[l],n,r);if(u)return u}}}function ku(e){var t=typeof e=="string"?e:rn[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Lu(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(Lt?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(Lt?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function Tu(e,t){if(ie&&e.keyCode==34&&e.char)return!1;var n=rn[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),Lu(n,e,t))}function Io(e){return typeof e=="string"?Fr[e]:e}function Qn(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var l=t(n[i]);r.length&&V(l.from,F(r).to)<=0;){var u=r.pop();if(V(u.from,l.from)<0){l.from=u.from;break}}r.push(l)}Yt(e,function(){for(var f=r.length-1;f>=0;f--)Zn(e.doc,"",r[f].from,r[f].to,"+delete");Kn(e)})}function rl(e,t,n){var r=gt(e.text,t+n,n);return r<0||r>e.text.length?null:r}function nl(e,t,n){var r=rl(e,t.ch,n);return r==null?null:new _(t.line,r,n<0?"after":"before")}function il(e,t,n,r,i){if(e){t.doc.direction=="rtl"&&(i=-i);var l=ke(n,t.doc.direction);if(l){var u=i<0?F(l):l[0],f=i<0==(u.level==1),h=f?"after":"before",g;if(u.level>0||t.doc.direction=="rtl"){var m=Bn(t,n);g=i<0?n.text.length-1:0;var x=Cr(t,m,g).top;g=ut(function(A){return Cr(t,m,A).top==x},i<0==(u.level==1)?u.from:u.to-1,g),h=="before"&&(g=rl(n,g,1))}else g=i<0?u.to:u.from;return new _(r,g,h)}}return new _(r,i<0?n.text.length:0,i<0?"before":"after")}function zh(e,t,n,r){var i=ke(t,e.doc.direction);if(!i)return nl(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var l=it(i,n.ch,n.sticky),u=i[l];if(e.doc.direction=="ltr"&&u.level%2==0&&(r>0?u.to>n.ch:u.from<n.ch))return nl(t,n,r);var f=function(Y,Q){return rl(t,Y instanceof _?Y.ch:Y,Q)},h,g=function(Y){return e.options.lineWrapping?(h=h||Bn(e,t),Ha(e,t,h,Y)):{begin:0,end:t.text.length}},m=g(n.sticky=="before"?f(n,-1):n.ch);if(e.doc.direction=="rtl"||u.level==1){var x=u.level==1==r<0,A=f(n,x?1:-1);if(A!=null&&(x?A<=u.to&&A<=m.end:A>=u.from&&A>=m.begin)){var L=x?"before":"after";return new _(n.line,A,L)}}var N=function(Y,Q,j){for(var ee=function(Ue,xt){return xt?new _(n.line,f(Ue,1),"before"):new _(n.line,Ue,"after")};Y>=0&&Y<i.length;Y+=Q){var ue=i[Y],ne=Q>0==(ue.level!=1),Se=ne?j.begin:f(j.end,-1);if(ue.from<=Se&&Se<ue.to||(Se=ne?ue.from:f(ue.to,-1),j.begin<=Se&&Se<j.end))return ee(Se,ne)}},P=N(l+r,r,m);if(P)return P;var q=r>0?m.end:f(m.begin,-1);return q!=null&&!(r>0&&q==t.text.length)&&(P=N(r>0?0:i.length-1,r,g(q)),P)?P:null}var Fi={selectAll:fu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),E)},killLine:function(e){return Qn(e,function(t){if(t.empty()){var n=re(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:_(t.head.line+1,0)}:{from:t.head,to:_(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Qn(e,function(t){return{from:_(t.from().line,0),to:me(e.doc,_(t.to().line+1,0))}})},delLineLeft:function(e){return Qn(e,function(t){return{from:_(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Qn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Qn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(_(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(_(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Mu(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Au(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Uh(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},W)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},W)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Au(e,t.head):r},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var l=n[i].from(),u=_e(e.getLine(l.line),l.ch,r);t.push(Z(r-u%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Yt(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,l=re(e.doc,i.line).text;if(l){if(i.ch==l.length&&(i=new _(i.line,i.ch-1)),i.ch>0)i=new _(i.line,i.ch+1),e.replaceRange(l.charAt(i.ch-1)+l.charAt(i.ch-2),_(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var u=re(e.doc,i.line-1).text;u&&(i=new _(i.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+u.charAt(u.length-1),_(i.line-1,u.length-1),i,"+transpose"))}}n.push(new De(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return Yt(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Kn(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Mu(e,t){var n=re(e.doc,t),r=dr(n);return r!=n&&(t=v(r)),il(!0,e,r,t,1)}function Uh(e,t){var n=re(e.doc,t),r=Lc(n);return r!=n&&(t=v(r)),il(!0,e,n,t,-1)}function Au(e,t){var n=Mu(e,t.line),r=re(e.doc,n.line),i=ke(r,e.doc.direction);if(!i||i[0].level==0){var l=Math.max(n.ch,r.text.search(/\S/)),u=t.line==n.line&&t.ch<=l&&t.ch;return _(n.line,u?0:l,n.sticky)}return n}function Po(e,t,n){if(typeof t=="string"&&(t=Fi[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=M}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Gh(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Vn(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Vn(t,e.options.extraKeys,n,e)||Vn(t,e.options.keyMap,n,e)}var Kh=new Ht;function Wi(e,t,n,r){var i=e.state.keySeq;if(i){if(ku(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Kh.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Ou(e,i+" "+t,n,r))return!0}return Ou(e,t,n,r)}function Ou(e,t,n,r){var i=Gh(e,t,r);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&mt(e,"keyHandled",e,t,n),(i=="handled"||i=="multi")&&(Mt(n),Bs(e)),!!i}function _u(e,t){var n=Tu(t,!0);return n?t.shiftKey&&!e.state.keySeq?Wi(e,"Shift-"+n,t,function(r){return Po(e,r,!0)})||Wi(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return Po(e,r)}):Wi(e,n,t,function(r){return Po(e,r)}):!1}function Xh(e,t,n){return Wi(e,"'"+n+"'",t,function(r){return Po(e,r,!0)})}var ol=null;function Hu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=ze(St(t)),!$e(t,e))){T&&O<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=_u(t,e);ie&&(ol=r?n:null,!r&&n==88&&!uo&&(pe?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),d&&!pe&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&qh(t)}}function qh(e){var t=e.display.lineDiv;We(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(lt(t,"CodeMirror-crosshair"),Tt(document,"keyup",n),Tt(document,"mouseover",n))}ae(document,"keyup",n),ae(document,"mouseover",n)}function Nu(e){e.keyCode==16&&(this.doc.sel.shift=!1),$e(this,e)}function Eu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Ir(t.display,e)||$e(t,e)||e.ctrlKey&&!e.altKey||pe&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(ie&&n==ol){ol=null,Mt(e);return}if(!(ie&&(!e.which||e.which<10)&&_u(t,e))){var i=String.fromCharCode(r??n);i!="\b"&&(Xh(t,e,i)||t.display.input.onKeyPress(e))}}}var Yh=400,sl=function(e,t,n){this.time=e,this.pos=t,this.button=n};sl.prototype.compare=function(e,t,n){return this.time+Yh>e&&V(t,this.pos)==0&&n==this.button};var Ri,Bi;function jh(e,t){var n=+new Date;return Bi&&Bi.compare(n,e,t)?(Ri=Bi=null,"triple"):Ri&&Ri.compare(n,e,t)?(Bi=new sl(n,e,t),Ri=null,"double"):(Ri=new sl(n,e,t),Bi=null,"single")}function Du(e){var t=this,n=t.display;if(!($e(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Ir(n,e)){k||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!ll(t,e)){var r=vn(t,e),i=ur(e),l=r?jh(r,i):"single";de(t).focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&Zh(t,i,r,l,e))&&(i==1?r?Vh(t,r,l,e):ci(e)==n.scroller&&Mt(e):i==2?(r&&_o(t.doc,r),setTimeout(function(){return n.input.focus()},20)):i==3&&(Ct?t.display.input.onContextMenu(e):zs(t)))}}}function Zh(e,t,n,r,i){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,Wi(e,Lu(l,i),i,function(u){if(typeof u=="string"&&(u=Fi[u]),!u)return!1;var f=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),f=u(e,n)!=M}finally{e.state.suppressEdits=!1}return f})}function Jh(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(i.unit==null){var l=Be?n.shiftKey&&n.metaKey:n.altKey;i.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(i.extend==null||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),i.addNew==null&&(i.addNew=pe?n.metaKey:n.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(pe?n.altKey:n.ctrlKey)),i}function Vh(e,t,n,r){T?setTimeout(fe(Ia,e),0):e.curOp.focus=ze(St(e));var i=Jh(e,n,r),l=e.doc.sel,u;e.options.dragDrop&&bs&&!e.isReadOnly()&&n=="single"&&(u=l.contains(t))>-1&&(V((u=l.ranges[u]).from(),t)<0||t.xRel>0)&&(V(u.to(),t)>0||t.xRel<0)?Qh(e,r,t,i):$h(e,r,t,i)}function Qh(e,t,n,r){var i=e.display,l=!1,u=yt(e,function(g){k&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:zs(e)),Tt(i.wrapper.ownerDocument,"mouseup",u),Tt(i.wrapper.ownerDocument,"mousemove",f),Tt(i.scroller,"dragstart",h),Tt(i.scroller,"drop",u),l||(Mt(g),r.addNew||_o(e.doc,n,null,null,r.extend),k&&!se||T&&O==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),f=function(g){l=l||Math.abs(t.clientX-g.clientX)+Math.abs(t.clientY-g.clientY)>=10},h=function(){return l=!0};k&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,ae(i.wrapper.ownerDocument,"mouseup",u),ae(i.wrapper.ownerDocument,"mousemove",f),ae(i.scroller,"dragstart",h),ae(i.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Iu(e,t,n){if(n=="char")return new De(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new De(_(t.line,0),me(e.doc,_(t.line+1,0)));var r=n(e,t);return new De(r.from,r.to)}function $h(e,t,n,r){T&&zs(e);var i=e.display,l=e.doc;Mt(t);var u,f,h=l.sel,g=h.ranges;if(r.addNew&&!r.extend?(f=l.sel.contains(n),f>-1?u=g[f]:u=new De(n,n)):(u=l.sel.primary(),f=l.sel.primIndex),r.unit=="rectangle")r.addNew||(u=new De(n,n)),n=vn(e,t,!0,!0),f=-1;else{var m=Iu(e,n,r.unit);r.extend?u=el(u,m.anchor,m.head,r.extend):u=m}r.addNew?f==-1?(f=g.length,At(l,gr(e,g.concat([u]),f),{scroll:!1,origin:"*mouse"})):g.length>1&&g[f].empty()&&r.unit=="char"&&!r.extend?(At(l,gr(e,g.slice(0,f).concat(g.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=l.sel):tl(l,f,u,G):(f=0,At(l,new $t([u],0),G),h=l.sel);var x=n;function A(j){if(V(x,j)!=0)if(x=j,r.unit=="rectangle"){for(var ee=[],ue=e.options.tabSize,ne=_e(re(l,n.line).text,n.ch,ue),Se=_e(re(l,j.line).text,j.ch,ue),Ue=Math.min(ne,Se),xt=Math.max(ne,Se),Ve=Math.min(n.line,j.line),jt=Math.min(e.lastLine(),Math.max(n.line,j.line));Ve<=jt;Ve++){var Rt=re(l,Ve).text,ft=z(Rt,Ue,ue);Ue==xt?ee.push(new De(_(Ve,ft),_(Ve,ft))):Rt.length>ft&&ee.push(new De(_(Ve,ft),_(Ve,z(Rt,xt,ue))))}ee.length||ee.push(new De(n,n)),At(l,gr(e,h.ranges.slice(0,f).concat(ee),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(j)}else{var Bt=u,kt=Iu(e,j,r.unit),dt=Bt.anchor,ct;V(kt.anchor,dt)>0?(ct=kt.head,dt=Fn(Bt.from(),kt.anchor)):(ct=kt.anchor,dt=Pt(Bt.to(),kt.head));var tt=h.ranges.slice(0);tt[f]=ed(e,new De(me(l,dt),ct)),At(l,gr(e,tt,f),G)}}var L=i.wrapper.getBoundingClientRect(),N=0;function P(j){var ee=++N,ue=vn(e,j,!0,r.unit=="rectangle");if(ue)if(V(ue,x)!=0){e.curOp.focus=ze(St(e)),A(ue);var ne=ko(i,l);(ue.line>=ne.to||ue.line<ne.from)&&setTimeout(yt(e,function(){N==ee&&P(j)}),150)}else{var Se=j.clientY<L.top?-20:j.clientY>L.bottom?20:0;Se&&setTimeout(yt(e,function(){N==ee&&(i.scroller.scrollTop+=Se,P(j))}),50)}}function q(j){e.state.selectingText=!1,N=1/0,j&&(Mt(j),i.input.focus()),Tt(i.wrapper.ownerDocument,"mousemove",Y),Tt(i.wrapper.ownerDocument,"mouseup",Q),l.history.lastSelOrigin=null}var Y=yt(e,function(j){j.buttons===0||!ur(j)?q(j):P(j)}),Q=yt(e,q);e.state.selectingText=Q,ae(i.wrapper.ownerDocument,"mousemove",Y),ae(i.wrapper.ownerDocument,"mouseup",Q)}function ed(e,t){var n=t.anchor,r=t.head,i=re(e.doc,n.line);if(V(n,r)==0&&n.sticky==r.sticky)return t;var l=ke(i);if(!l)return t;var u=it(l,n.ch,n.sticky),f=l[u];if(f.from!=n.ch&&f.to!=n.ch)return t;var h=u+(f.from==n.ch==(f.level!=1)?0:1);if(h==0||h==l.length)return t;var g;if(r.line!=n.line)g=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var m=it(l,r.ch,r.sticky),x=m-u||(r.ch-n.ch)*(f.level==1?-1:1);m==h-1||m==h?g=x<0:g=x>0}var A=l[h+(g?-1:0)],L=g==(A.level==1),N=L?A.from:A.to,P=L?"after":"before";return n.ch==N&&n.sticky==P?t:new De(new _(n.line,N,P),r)}function Pu(e,t,n,r){var i,l;if(t.touches)i=t.touches[0].clientX,l=t.touches[0].clientY;else try{i=t.clientX,l=t.clientY}catch{return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Mt(t);var u=e.display,f=u.lineDiv.getBoundingClientRect();if(l>f.bottom||!qt(e,n))return It(t);l-=f.top-u.viewOffset;for(var h=0;h<e.display.gutterSpecs.length;++h){var g=u.gutters.childNodes[h];if(g&&g.getBoundingClientRect().right>=i){var m=b(e.doc,l),x=e.display.gutterSpecs[h];return Qe(e,n,e,m,x.className,t),It(t)}}}function ll(e,t){return Pu(e,t,"gutterClick",!0)}function Fu(e,t){Ir(e.display,t)||td(e,t)||$e(e,t,"contextmenu")||Ct||e.display.input.onContextMenu(t)}function td(e,t){return qt(e,"gutterContextMenu")?Pu(e,t,"gutterContextMenu",!1):!1}function Wu(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),xi(e)}var $n={toString:function(){return"CodeMirror.Init"}},Ru={},Fo={};function rd(e){var t=e.optionHandlers;function n(r,i,l,u){e.defaults[r]=i,l&&(t[r]=u?function(f,h,g){g!=$n&&l(f,h,g)}:l)}e.defineOption=n,e.Init=$n,n("value","",function(r,i){return r.setValue(i)},!0),n("mode",null,function(r,i){r.doc.modeOption=i,Vs(r)},!0),n("indentUnit",2,Vs,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){Ai(r),xi(r),Ft(r)},!0),n("lineSeparator",null,function(r,i){if(r.doc.lineSep=i,!!i){var l=[],u=r.doc.first;r.doc.iter(function(h){for(var g=0;;){var m=h.text.indexOf(i,g);if(m==-1)break;g=m+i.length,l.push(_(u,m))}u++});for(var f=l.length-1;f>=0;f--)Zn(r.doc,i,l[f],_(l[f].line,l[f].ch+i.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(r,i,l){r.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),l!=$n&&r.refresh()}),n("specialCharPlaceholder",Hc,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",Te?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,i){return r.getInputField().spellcheck=i},!0),n("autocorrect",!1,function(r,i){return r.getInputField().autocorrect=i},!0),n("autocapitalize",!1,function(r,i){return r.getInputField().autocapitalize=i},!0),n("rtlMoveVisually",!st),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){Wu(r),Mi(r)},!0),n("keyMap","default",function(r,i,l){var u=Io(i),f=l!=$n&&Io(l);f&&f.detach&&f.detach(r,u),u.attach&&u.attach(r,f||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,id,!0),n("gutters",[],function(r,i){r.display.gutterSpecs=Zs(i,r.options.lineNumbers),Mi(r)},!0),n("fixedGutter",!0,function(r,i){r.display.gutters.style.left=i?Fs(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return Xn(r)},!0),n("scrollbarStyle","native",function(r){za(r),Xn(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,i){r.display.gutterSpecs=Zs(r.options.gutters,i),Mi(r)},!0),n("firstLineNumber",1,Mi,!0),n("lineNumberFormatter",function(r){return r},Mi,!0),n("showCursorWhenSelecting",!1,wi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,i){i=="nocursor"&&(Gn(r),r.display.input.blur()),r.display.input.readOnlyChanged(i)}),n("screenReaderLabel",null,function(r,i){i=i===""?null:i,r.display.input.screenReaderLabelChanged(i)}),n("disableInput",!1,function(r,i){i||r.display.input.reset()},!0),n("dragDrop",!0,nd),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,wi,!0),n("singleCursorHeightPerLine",!0,wi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ai,!0),n("addModeClass",!1,Ai,!0),n("pollInterval",100),n("undoDepth",200,function(r,i){return r.doc.history.undoDepth=i}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,Ai,!0),n("moveInputWithCursor",!0,function(r,i){i||r.display.input.resetPosition()}),n("tabindex",null,function(r,i){return r.display.input.getField().tabIndex=i||""}),n("autofocus",null),n("direction","ltr",function(r,i){return r.doc.setDirection(i)},!0),n("phrases",null)}function nd(e,t,n){var r=n&&n!=$n;if(!t!=!r){var i=e.display.dragFunctions,l=t?ae:Tt;l(e.display.scroller,"dragstart",i.start),l(e.display.scroller,"dragenter",i.enter),l(e.display.scroller,"dragover",i.over),l(e.display.scroller,"dragleave",i.leave),l(e.display.scroller,"drop",i.drop)}}function id(e){e.options.lineWrapping?(We(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(lt(e.display.wrapper,"CodeMirror-wrap"),Ms(e)),Ws(e),Ft(e),xi(e),setTimeout(function(){return Xn(e)},100)}function Ze(e,t){var n=this;if(!(this instanceof Ze))return new Ze(e,t);this.options=t=t?we(t):{},we(Ru,t,!1);var r=t.value;typeof r=="string"?r=new Wt(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ze.inputStyles[t.inputStyle](this),l=this.display=new mh(e,r,i,t);l.wrapper.CodeMirror=this,Wu(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),za(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ht,keySeq:null,specialChars:null},t.autofocus&&!Te&&l.input.focus(),T&&O<11&&setTimeout(function(){return n.display.input.reset(!0)},20),od(this),Ph(),xn(this),this.curOp.forceUpdate=!0,Va(this,r),t.autofocus&&!Te||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Us(n)},20):Gn(this);for(var u in Fo)Fo.hasOwnProperty(u)&&Fo[u](this,t[u],$n);Ka(this),t.finishInit&&t.finishInit(this);for(var f=0;f<al.length;++f)al[f](this);wn(this),k&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}Ze.defaults=Ru,Ze.optionHandlers=Fo;function od(e){var t=e.display;ae(t.scroller,"mousedown",yt(e,Du)),T&&O<11?ae(t.scroller,"dblclick",yt(e,function(h){if(!$e(e,h)){var g=vn(e,h);if(!(!g||ll(e,h)||Ir(e.display,h))){Mt(h);var m=e.findWordAt(g);_o(e.doc,m.anchor,m.head)}}})):ae(t.scroller,"dblclick",function(h){return $e(e,h)||Mt(h)}),ae(t.scroller,"contextmenu",function(h){return Fu(e,h)}),ae(t.input.getField(),"contextmenu",function(h){t.scroller.contains(h.target)||Fu(e,h)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(h){if(h.touches.length!=1)return!1;var g=h.touches[0];return g.radiusX<=1&&g.radiusY<=1}function u(h,g){if(g.left==null)return!0;var m=g.left-h.left,x=g.top-h.top;return m*m+x*x>20*20}ae(t.scroller,"touchstart",function(h){if(!$e(e,h)&&!l(h)&&!ll(e,h)){t.input.ensurePolled(),clearTimeout(n);var g=+new Date;t.activeTouch={start:g,moved:!1,prev:g-r.end<=300?r:null},h.touches.length==1&&(t.activeTouch.left=h.touches[0].pageX,t.activeTouch.top=h.touches[0].pageY)}}),ae(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ae(t.scroller,"touchend",function(h){var g=t.activeTouch;if(g&&!Ir(t,h)&&g.left!=null&&!g.moved&&new Date-g.start<300){var m=e.coordsChar(t.activeTouch,"page"),x;!g.prev||u(g,g.prev)?x=new De(m,m):!g.prev.prev||u(g,g.prev.prev)?x=e.findWordAt(m):x=new De(_(m.line,0),me(e.doc,_(m.line+1,0))),e.setSelection(x.anchor,x.head),e.focus(),Mt(h)}i()}),ae(t.scroller,"touchcancel",i),ae(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Si(e,t.scroller.scrollTop),yn(e,t.scroller.scrollLeft,!0),Qe(e,"scroll",e))}),ae(t.scroller,"mousewheel",function(h){return Ya(e,h)}),ae(t.scroller,"DOMMouseScroll",function(h){return Ya(e,h)}),ae(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(h){$e(e,h)||Xr(h)},over:function(h){$e(e,h)||(Ih(e,h),Xr(h))},start:function(h){return Dh(e,h)},drop:yt(e,Eh),leave:function(h){$e(e,h)||wu(e)}};var f=t.input.getField();ae(f,"keyup",function(h){return Nu.call(e,h)}),ae(f,"keydown",yt(e,Hu)),ae(f,"keypress",yt(e,Eu)),ae(f,"focus",function(h){return Us(e,h)}),ae(f,"blur",function(h){return Gn(e,h)})}var al=[];Ze.defineInitHook=function(e){return al.push(e)};function zi(e,t,n,r){var i=e.doc,l;n==null&&(n="add"),n=="smart"&&(i.mode.indent?l=gi(e,t).state:n="prev");var u=e.options.tabSize,f=re(i,t),h=_e(f.text,null,u);f.stateAfter&&(f.stateAfter=null);var g=f.text.match(/^\s*/)[0],m;if(!r&&!/\S/.test(f.text))m=0,n="not";else if(n=="smart"&&(m=i.mode.indent(l,f.text.slice(g.length),f.text),m==M||m>150)){if(!r)return;n="prev"}n=="prev"?t>i.first?m=_e(re(i,t-1).text,null,u):m=0:n=="add"?m=h+e.options.indentUnit:n=="subtract"?m=h-e.options.indentUnit:typeof n=="number"&&(m=h+n),m=Math.max(0,m);var x="",A=0;if(e.options.indentWithTabs)for(var L=Math.floor(m/u);L;--L)A+=u,x+="	";if(A<m&&(x+=Z(m-A)),x!=g)return Zn(i,x,_(t,0),_(t,g.length),"+input"),f.stateAfter=null,!0;for(var N=0;N<i.sel.ranges.length;N++){var P=i.sel.ranges[N];if(P.head.line==t&&P.head.ch<g.length){var q=_(t,g.length);tl(i,N,new De(q,q));break}}}var vr=null;function Wo(e){vr=e}function ul(e,t,n,r,i){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var u=+new Date-200,f=i=="paste"||e.state.pasteIncoming>u,h=or(t),g=null;if(f&&r.ranges.length>1)if(vr&&vr.text.join(`
`)==t){if(r.ranges.length%vr.text.length==0){g=[];for(var m=0;m<vr.text.length;m++)g.push(l.splitLines(vr.text[m]))}}else h.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(g=K(h,function(Y){return[Y]}));for(var x=e.curOp.updateInput,A=r.ranges.length-1;A>=0;A--){var L=r.ranges[A],N=L.from(),P=L.to();L.empty()&&(n&&n>0?N=_(N.line,N.ch-n):e.state.overwrite&&!f?P=_(P.line,Math.min(re(l,P.line).text.length,P.ch+F(h).length)):f&&vr&&vr.lineWise&&vr.text.join(`
`)==h.join(`
`)&&(N=P=_(N.line,0)));var q={from:N,to:P,text:g?g[A%g.length]:h,origin:i||(f?"paste":e.state.cutIncoming>u?"cut":"+input")};jn(e.doc,q),mt(e,"inputRead",e,q)}t&&!f&&zu(e,t),Kn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=x),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Bu(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&Yt(t,function(){return ul(t,n,0,null,"paste")}),!0}function zu(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var l=e.getModeAt(i.head),u=!1;if(l.electricChars){for(var f=0;f<l.electricChars.length;f++)if(t.indexOf(l.electricChars.charAt(f))>-1){u=zi(e,i.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(re(e.doc,i.head.line).text.slice(0,i.head.ch))&&(u=zi(e,i.head.line,"smart"));u&&mt(e,"electricInput",e,i.head.line)}}}function Uu(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,l={anchor:_(i,0),head:_(i+1,0)};n.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:n}}function fl(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function Gu(){var e=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=C("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return k?e.style.width="1000px":e.setAttribute("wrap","off"),he&&(e.style.border="1px solid black"),t}function sd(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){de(this).focus(),this.display.input.focus()},setOption:function(r,i){var l=this.options,u=l[r];l[r]==i&&r!="mode"||(l[r]=i,t.hasOwnProperty(r)&&yt(this,t[r])(this,i,u),Qe(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,i){this.state.keyMaps[i?"push":"unshift"](Io(r))},removeKeyMap:function(r){for(var i=this.state.keyMaps,l=0;l<i.length;++l)if(i[l]==r||i[l].name==r)return i.splice(l,1),!0},addOverlay:Nt(function(r,i){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");le(this.state.overlays,{mode:l,modeSpec:r,opaque:i&&i.opaque,priority:i&&i.priority||0},function(u){return u.priority}),this.state.modeGen++,Ft(this)}),removeOverlay:Nt(function(r){for(var i=this.state.overlays,l=0;l<i.length;++l){var u=i[l].modeSpec;if(u==r||typeof r=="string"&&u.name==r){i.splice(l,1),this.state.modeGen++,Ft(this);return}}}),indentLine:Nt(function(r,i,l){typeof i!="string"&&typeof i!="number"&&(i==null?i=this.options.smartIndent?"smart":"prev":i=i?"add":"subtract"),D(this.doc,r)&&zi(this,r,i,l)}),indentSelection:Nt(function(r){for(var i=this.doc.sel.ranges,l=-1,u=0;u<i.length;u++){var f=i[u];if(f.empty())f.head.line>l&&(zi(this,f.head.line,r,!0),l=f.head.line,u==this.doc.sel.primIndex&&Kn(this));else{var h=f.from(),g=f.to(),m=Math.max(l,h.line);l=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var x=m;x<l;++x)zi(this,x,r);var A=this.doc.sel.ranges;h.ch==0&&i.length==A.length&&A[u].from().ch>0&&tl(this.doc,u,new De(h,A[u].to()),E)}}}),getTokenAt:function(r,i){return $l(this,r,i)},getLineTokens:function(r,i){return $l(this,_(r),i,!0)},getTokenTypeAt:function(r){r=me(this.doc,r);var i=Jl(this,re(this.doc,r.line)),l=0,u=(i.length-1)/2,f=r.ch,h;if(f==0)h=i[2];else for(;;){var g=l+u>>1;if((g?i[g*2-1]:0)>=f)u=g;else if(i[g*2+1]<f)l=g+1;else{h=i[g*2+2];break}}var m=h?h.indexOf("overlay "):-1;return m<0?h:m==0?null:h.slice(0,m-1)},getModeAt:function(r){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(r).state).mode:i},getHelper:function(r,i){return this.getHelpers(r,i)[0]},getHelpers:function(r,i){var l=[];if(!n.hasOwnProperty(i))return l;var u=n[i],f=this.getModeAt(r);if(typeof f[i]=="string")u[f[i]]&&l.push(u[f[i]]);else if(f[i])for(var h=0;h<f[i].length;h++){var g=u[f[i][h]];g&&l.push(g)}else f.helperType&&u[f.helperType]?l.push(u[f.helperType]):u[f.name]&&l.push(u[f.name]);for(var m=0;m<u._global.length;m++){var x=u._global[m];x.pred(f,this)&&Ce(l,x.val)==-1&&l.push(x.val)}return l},getStateAfter:function(r,i){var l=this.doc;return r=Yl(l,r??l.first+l.size-1),gi(this,r+1,i).state},cursorCoords:function(r,i){var l,u=this.doc.sel.primary();return r==null?l=u.head:typeof r=="object"?l=me(this.doc,r):l=r?u.from():u.to(),pr(this,l,i||"page")},charCoords:function(r,i){return xo(this,me(this.doc,r),i||"page")},coordsChar:function(r,i){return r=Aa(this,r,i||"page"),Ds(this,r.left,r.top)},lineAtHeight:function(r,i){return r=Aa(this,{top:r,left:0},i||"page").top,b(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,i,l){var u=!1,f;if(typeof r=="number"){var h=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>h&&(r=h,u=!0),f=re(this.doc,r)}else f=r;return bo(this,f,{top:0,left:0},i||"page",l||u).top+(u?this.doc.height-Dr(f):0)},defaultTextHeight:function(){return zn(this.display)},defaultCharWidth:function(){return Un(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,i,l,u,f){var h=this.display;r=pr(this,me(this.doc,r));var g=r.bottom,m=r.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),h.sizer.appendChild(i),u=="over")g=r.top;else if(u=="above"||u=="near"){var x=Math.max(h.wrapper.clientHeight,this.doc.height),A=Math.max(h.sizer.clientWidth,h.lineSpace.clientWidth);(u=="above"||r.bottom+i.offsetHeight>x)&&r.top>i.offsetHeight?g=r.top-i.offsetHeight:r.bottom+i.offsetHeight<=x&&(g=r.bottom),m+i.offsetWidth>A&&(m=A-i.offsetWidth)}i.style.top=g+"px",i.style.left=i.style.right="",f=="right"?(m=h.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(f=="left"?m=0:f=="middle"&&(m=(h.sizer.clientWidth-i.offsetWidth)/2),i.style.left=m+"px"),l&&nh(this,{left:m,top:g,right:m+i.offsetWidth,bottom:g+i.offsetHeight})},triggerOnKeyDown:Nt(Hu),triggerOnKeyPress:Nt(Eu),triggerOnKeyUp:Nu,triggerOnMouseDown:Nt(Du),execCommand:function(r){if(Fi.hasOwnProperty(r))return Fi[r].call(null,this)},triggerElectric:Nt(function(r){zu(this,r)}),findPosH:function(r,i,l,u){var f=1;i<0&&(f=-1,i=-i);for(var h=me(this.doc,r),g=0;g<i&&(h=cl(this.doc,h,f,l,u),!h.hitSide);++g);return h},moveH:Nt(function(r,i){var l=this;this.extendSelectionsBy(function(u){return l.display.shift||l.doc.extend||u.empty()?cl(l.doc,u.head,r,i,l.options.rtlMoveVisually):r<0?u.from():u.to()},W)}),deleteH:Nt(function(r,i){var l=this.doc.sel,u=this.doc;l.somethingSelected()?u.replaceSelection("",null,"+delete"):Qn(this,function(f){var h=cl(u,f.head,r,i,!1);return r<0?{from:h,to:f.head}:{from:f.head,to:h}})}),findPosV:function(r,i,l,u){var f=1,h=u;i<0&&(f=-1,i=-i);for(var g=me(this.doc,r),m=0;m<i;++m){var x=pr(this,g,"div");if(h==null?h=x.left:x.left=h,g=Ku(this,x,f,l),g.hitSide)break}return g},moveV:Nt(function(r,i){var l=this,u=this.doc,f=[],h=!this.display.shift&&!u.extend&&u.sel.somethingSelected();if(u.extendSelectionsBy(function(m){if(h)return r<0?m.from():m.to();var x=pr(l,m.head,"div");m.goalColumn!=null&&(x.left=m.goalColumn),f.push(x.left);var A=Ku(l,x,r,i);return i=="page"&&m==u.sel.primary()&&Ks(l,xo(l,A,"div").top-x.top),A},W),f.length)for(var g=0;g<u.sel.ranges.length;g++)u.sel.ranges[g].goalColumn=f[g]}),findWordAt:function(r){var i=this.doc,l=re(i,r.line).text,u=r.ch,f=r.ch;if(l){var h=this.getHelper(r,"wordChars");(r.sticky=="before"||f==l.length)&&u?--u:++f;for(var g=l.charAt(u),m=Me(g,h)?function(x){return Me(x,h)}:/\s/.test(g)?function(x){return/\s/.test(x)}:function(x){return!/\s/.test(x)&&!Me(x)};u>0&&m(l.charAt(u-1));)--u;for(;f<l.length&&m(l.charAt(f));)++f}return new De(_(r.line,u),_(r.line,f))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?We(this.display.cursorDiv,"CodeMirror-overwrite"):lt(this.display.cursorDiv,"CodeMirror-overwrite"),Qe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ze(St(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Nt(function(r,i){Ci(this,r,i)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-wr(this)-this.display.barHeight,width:r.scrollWidth-wr(this)-this.display.barWidth,clientHeight:_s(this),clientWidth:pn(this)}},scrollIntoView:Nt(function(r,i){r==null?(r={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof r=="number"?r={from:_(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=i||0,r.from.line!=null?ih(this,r):Fa(this,r.from,r.to,r.margin)}),setSize:Nt(function(r,i){var l=this,u=function(h){return typeof h=="number"||/^\d+$/.test(String(h))?h+"px":h};r!=null&&(this.display.wrapper.style.width=u(r)),i!=null&&(this.display.wrapper.style.height=u(i)),this.options.lineWrapping&&La(this);var f=this.display.viewFrom;this.doc.iter(f,this.display.viewTo,function(h){if(h.widgets){for(var g=0;g<h.widgets.length;g++)if(h.widgets[g].noHScroll){Jr(l,f,"widget");break}}++f}),this.curOp.forceUpdate=!0,Qe(this,"refresh",this)}),operation:function(r){return Yt(this,r)},startOperation:function(){return xn(this)},endOperation:function(){return wn(this)},refresh:Nt(function(){var r=this.display.cachedTextHeight;Ft(this),this.curOp.forceUpdate=!0,xi(this),Ci(this,this.doc.scrollLeft,this.doc.scrollTop),Ys(this.display),(r==null||Math.abs(r-zn(this.display))>.5||this.options.lineWrapping)&&Ws(this),Qe(this,"refresh",this)}),swapDoc:Nt(function(r){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),Va(this,r),xi(this),this.display.input.reset(),Ci(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,mt(this,"swapDoc",this,i),i}),phrase:function(r){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,r)?i[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ar(e),e.registerHelper=function(r,i,l){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][i]=l},e.registerGlobalHelper=function(r,i,l,u){e.registerHelper(r,i,u),n[r]._global.push({pred:l,val:u})}}function cl(e,t,n,r,i){var l=t,u=n,f=re(e,t.line),h=i&&e.direction=="rtl"?-n:n;function g(){var Q=t.line+h;return Q<e.first||Q>=e.first+e.size?!1:(t=new _(Q,t.ch,t.sticky),f=re(e,Q))}function m(Q){var j;if(r=="codepoint"){var ee=f.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(ee))j=null;else{var ue=n>0?ee>=55296&&ee<56320:ee>=56320&&ee<57343;j=new _(t.line,Math.max(0,Math.min(f.text.length,t.ch+n*(ue?2:1))),-n)}}else i?j=zh(e.cm,f,t,n):j=nl(f,t,n);if(j==null)if(!Q&&g())t=il(i,e.cm,f,t.line,h);else return!1;else t=j;return!0}if(r=="char"||r=="codepoint")m();else if(r=="column")m(!0);else if(r=="word"||r=="group")for(var x=null,A=r=="group",L=e.cm&&e.cm.getHelper(t,"wordChars"),N=!0;!(n<0&&!m(!N));N=!1){var P=f.text.charAt(t.ch)||`
`,q=Me(P,L)?"w":A&&P==`
`?"n":!A||/\s/.test(P)?null:"p";if(A&&!N&&!q&&(q="s"),x&&x!=q){n<0&&(n=1,m(),t.sticky="after");break}if(q&&(x=q),n>0&&!m(!N))break}var Y=No(e,t,l,u,!0);return Ee(l,Y)&&(Y.hitSide=!0),Y}function Ku(e,t,n,r){var i=e.doc,l=t.left,u;if(r=="page"){var f=Math.min(e.display.wrapper.clientHeight,de(e).innerHeight||i(e).documentElement.clientHeight),h=Math.max(f-.5*zn(e.display),3);u=(n>0?t.bottom:t.top)+n*h}else r=="line"&&(u=n>0?t.bottom+3:t.top-3);for(var g;g=Ds(e,l,u),!!g.outside;){if(n<0?u<=0:u>=i.height){g.hitSide=!0;break}u+=n*5}return g}var Pe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ht,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Pe.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;i.contentEditable=!0,fl(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(f){for(var h=f.target;h;h=h.parentNode){if(h==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(h.className))break}return!1}ae(i,"paste",function(f){!l(f)||$e(r,f)||Bu(f,r)||O<=11&&setTimeout(yt(r,function(){return t.updateFromDOM()}),20)}),ae(i,"compositionstart",function(f){t.composing={data:f.data,done:!1}}),ae(i,"compositionupdate",function(f){t.composing||(t.composing={data:f.data,done:!1})}),ae(i,"compositionend",function(f){t.composing&&(f.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ae(i,"touchstart",function(){return n.forceCompositionEnd()}),ae(i,"input",function(){t.composing||t.readFromDOMSoon()});function u(f){if(!(!l(f)||$e(r,f))){if(r.somethingSelected())Wo({lineWise:!1,text:r.getSelections()}),f.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var h=Uu(r);Wo({lineWise:!0,text:h.text}),f.type=="cut"&&r.operation(function(){r.setSelections(h.ranges,0,E),r.replaceSelection("",null,"cut")})}else return;if(f.clipboardData){f.clipboardData.clearData();var g=vr.text.join(`
`);if(f.clipboardData.setData("Text",g),f.clipboardData.getData("Text")==g){f.preventDefault();return}}var m=Gu(),x=m.firstChild;fl(x),r.display.lineSpace.insertBefore(m,r.display.lineSpace.firstChild),x.value=vr.text.join(`
`);var A=ze(at(i));Xe(x),setTimeout(function(){r.display.lineSpace.removeChild(m),A.focus(),A==i&&n.showPrimarySelection()},50)}}ae(i,"copy",u),ae(i,"cut",u)},Pe.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Pe.prototype.prepareSelection=function(){var e=Da(this.cm,!1);return e.focus=ze(at(this.div))==this.div,e},Pe.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Pe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Pe.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom){e.removeAllRanges();return}var l=Ro(t,e.anchorNode,e.anchorOffset),u=Ro(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&u&&!u.bad&&V(Fn(l,u),r)==0&&V(Pt(l,u),i)==0)){var f=t.display.view,h=r.line>=t.display.viewFrom&&Xu(t,r)||{node:f[0].measure.map[2],offset:0},g=i.line<t.display.viewTo&&Xu(t,i);if(!g){var m=f[f.length-1].measure,x=m.maps?m.maps[m.maps.length-1]:m.map;g={node:x[x.length-1],offset:x[x.length-2]-x[x.length-3]}}if(!h||!g){e.removeAllRanges();return}var A=e.rangeCount&&e.getRangeAt(0),L;try{L=be(h.node,h.offset,g.offset,g.node)}catch{}L&&(!d&&t.state.focused?(e.collapse(h.node,h.offset),L.collapsed||(e.removeAllRanges(),e.addRange(L))):(e.removeAllRanges(),e.addRange(L)),A&&e.anchorNode==null?e.addRange(A):d&&this.startGracePeriod()),this.rememberSelection()}},Pe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Pe.prototype.showMultipleSelections=function(e){te(this.cm.display.cursorDiv,e.cursors),te(this.cm.display.selectionDiv,e.selection)},Pe.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Pe.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return xe(this.div,t)},Pe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ze(at(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Pe.prototype.blur=function(){this.div.blur()},Pe.prototype.getField=function(){return this.div},Pe.prototype.supportsTouch=function(){return!0},Pe.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Yt(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Pe.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Pe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(ge&&B&&this.cm.display.gutterSpecs.length&&ld(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Ro(t,e.anchorNode,e.anchorOffset),r=Ro(t,e.focusNode,e.focusOffset);n&&r&&Yt(t,function(){At(t.doc,Qr(n,r),E),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Pe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=_(r.line-1,re(e.doc,r.line-1).length)),i.ch==re(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=_(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var l,u,f;r.line==t.viewFrom||(l=mn(e,r.line))==0?(u=v(t.view[0].line),f=t.view[0].node):(u=v(t.view[l].line),f=t.view[l-1].node.nextSibling);var h=mn(e,i.line),g,m;if(h==t.view.length-1?(g=t.viewTo-1,m=t.lineDiv.lastChild):(g=v(t.view[h+1].line)-1,m=t.view[h+1].node.previousSibling),!f)return!1;for(var x=e.doc.splitLines(ad(e,f,m,u,g)),A=Nr(e.doc,_(u,0),_(g,re(e.doc,g).text.length));x.length>1&&A.length>1;)if(F(x)==F(A))x.pop(),A.pop(),g--;else if(x[0]==A[0])x.shift(),A.shift(),u++;else break;for(var L=0,N=0,P=x[0],q=A[0],Y=Math.min(P.length,q.length);L<Y&&P.charCodeAt(L)==q.charCodeAt(L);)++L;for(var Q=F(x),j=F(A),ee=Math.min(Q.length-(x.length==1?L:0),j.length-(A.length==1?L:0));N<ee&&Q.charCodeAt(Q.length-N-1)==j.charCodeAt(j.length-N-1);)++N;if(x.length==1&&A.length==1&&u==r.line)for(;L&&L>r.ch&&Q.charCodeAt(Q.length-N-1)==j.charCodeAt(j.length-N-1);)L--,N++;x[x.length-1]=Q.slice(0,Q.length-N).replace(/^\u200b+/,""),x[0]=x[0].slice(L).replace(/\u200b+$/,"");var ue=_(u,L),ne=_(g,A.length?F(A).length-N:0);if(x.length>1||x[0]||V(ue,ne))return Zn(e.doc,x,ue,ne,"+input"),!0},Pe.prototype.ensurePolled=function(){this.forceCompositionEnd()},Pe.prototype.reset=function(){this.forceCompositionEnd()},Pe.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Pe.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Pe.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Yt(this.cm,function(){return Ft(e.cm)})},Pe.prototype.setUneditable=function(e){e.contentEditable="false"},Pe.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||yt(this.cm,ul)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Pe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Pe.prototype.onContextMenu=function(){},Pe.prototype.resetPosition=function(){},Pe.prototype.needsContentAttribute=!0;function Xu(e,t){var n=Hs(e,t.line);if(!n||n.hidden)return null;var r=re(e.doc,t.line),i=xa(n,r,t.line),l=ke(r,e.doc.direction),u="left";if(l){var f=it(l,t.ch);u=f%2?"right":"left"}var h=Sa(i.map,t.ch,u);return h.offset=h.collapse=="right"?h.end:h.start,h}function ld(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ei(e,t){return t&&(e.bad=!0),e}function ad(e,t,n,r,i){var l="",u=!1,f=e.doc.lineSeparator(),h=!1;function g(L){return function(N){return N.id==L}}function m(){u&&(l+=f,h&&(l+=f),u=h=!1)}function x(L){L&&(m(),l+=L)}function A(L){if(L.nodeType==1){var N=L.getAttribute("cm-text");if(N){x(N);return}var P=L.getAttribute("cm-marker"),q;if(P){var Y=e.findMarks(_(r,0),_(i+1,0),g(+P));Y.length&&(q=Y[0].find(0))&&x(Nr(e.doc,q.from,q.to).join(f));return}if(L.getAttribute("contenteditable")=="false")return;var Q=/^(pre|div|p|li|table|br)$/i.test(L.nodeName);if(!/^br$/i.test(L.nodeName)&&L.textContent.length==0)return;Q&&m();for(var j=0;j<L.childNodes.length;j++)A(L.childNodes[j]);/^(pre|p)$/i.test(L.nodeName)&&(h=!0),Q&&(u=!0)}else L.nodeType==3&&x(L.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;A(t),t!=n;)t=t.nextSibling,h=!1;return l}function Ro(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return ei(e.clipPos(_(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var l=e.display.view[i];if(l.node==r)return ud(l,t,n)}}function ud(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!xe(r,t))return ei(_(v(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var l=e.rest?F(e.rest):e.line;return ei(_(v(l),l.text.length),i)}var u=t.nodeType==3?t:null,f=t;for(!u&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(u=t.firstChild,n&&(n=u.nodeValue.length));f.parentNode!=r;)f=f.parentNode;var h=e.measure,g=h.maps;function m(q,Y,Q){for(var j=-1;j<(g?g.length:0);j++)for(var ee=j<0?h.map:g[j],ue=0;ue<ee.length;ue+=3){var ne=ee[ue+2];if(ne==q||ne==Y){var Se=v(j<0?e.line:e.rest[j]),Ue=ee[ue]+Q;return(Q<0||ne!=q)&&(Ue=ee[ue+(Q?1:0)]),_(Se,Ue)}}}var x=m(u,f,n);if(x)return ei(x,i);for(var A=f.nextSibling,L=u?u.nodeValue.length-n:0;A;A=A.nextSibling){if(x=m(A,A.firstChild,0),x)return ei(_(x.line,x.ch-L),i);L+=A.textContent.length}for(var N=f.previousSibling,P=n;N;N=N.previousSibling){if(x=m(N,N.firstChild,-1),x)return ei(_(x.line,x.ch+P),i);P+=N.textContent.length}}var ot=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ht,this.hasSelection=!1,this.composing=null,this.resetting=!1};ot.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),he&&(i.style.width="0px"),ae(i,"input",function(){T&&O>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ae(i,"paste",function(u){$e(r,u)||Bu(u,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function l(u){if(!$e(r,u)){if(r.somethingSelected())Wo({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var f=Uu(r);Wo({lineWise:!0,text:f.text}),u.type=="cut"?r.setSelections(f.ranges,null,E):(n.prevInput="",i.value=f.text.join(`
`),Xe(i))}else return;u.type=="cut"&&(r.state.cutIncoming=+new Date)}}ae(i,"cut",l),ae(i,"copy",l),ae(e.scroller,"paste",function(u){if(!(Ir(e,u)||$e(r,u))){if(!i.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var f=new Event("paste");f.clipboardData=u.clipboardData,i.dispatchEvent(f)}}),ae(e.lineSpace,"selectstart",function(u){Ir(e,u)||Mt(u)}),ae(i,"compositionstart",function(){var u=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:u,range:r.markText(u,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ae(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ot.prototype.createField=function(e){this.wrapper=Gu(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;fl(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},ot.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ot.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Da(e);if(e.options.moveInputWithCursor){var i=pr(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),u=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+u.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+u.left-l.left))}return r},ot.prototype.showSelection=function(e){var t=this.cm,n=t.display;te(n.cursorDiv,e.cursors),te(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ot.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Xe(this.textarea),T&&O>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",T&&O>=9&&(this.hasSelection=null));this.resetting=!1}},ot.prototype.getField=function(){return this.textarea},ot.prototype.supportsTouch=function(){return!1},ot.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Te||ze(at(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},ot.prototype.blur=function(){this.textarea.blur()},ot.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ot.prototype.receivedFocus=function(){this.slowPoll()},ot.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ot.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},ot.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Yr(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(T&&O>=9&&this.hasSelection===i||pe&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=i.charCodeAt(0);if(l==8203&&!r&&(r="​"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var u=0,f=Math.min(r.length,i.length);u<f&&r.charCodeAt(u)==i.charCodeAt(u);)++u;return Yt(t,function(){ul(t,i.slice(u),r.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ot.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ot.prototype.onKeyPress=function(){T&&O>=9&&(this.hasSelection=null),this.fastPoll()},ot.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=vn(n,e),u=r.scroller.scrollTop;if(!l||ie)return;var f=n.options.resetSelectionOnContextMenu;f&&n.doc.sel.contains(l)==-1&&yt(n,At)(n.doc,Qr(l),E);var h=i.style.cssText,g=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+`px;
      z-index: 1000; background: `+(T?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var x;k&&(x=i.ownerDocument.defaultView.scrollY),r.input.focus(),k&&i.ownerDocument.defaultView.scrollTo(null,x),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=L,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function A(){if(i.selectionStart!=null){var P=n.somethingSelected(),q="​"+(P?i.value:"");i.value="⇚",i.value=q,t.prevInput=P?"":"​",i.selectionStart=1,i.selectionEnd=q.length,r.selForContextMenu=n.doc.sel}}function L(){if(t.contextMenuPending==L&&(t.contextMenuPending=!1,t.wrapper.style.cssText=g,i.style.cssText=h,T&&O<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),i.selectionStart!=null)){(!T||T&&O<9)&&A();var P=0,q=function(){r.selForContextMenu==n.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="​"?yt(n,fu)(n):P++<10?r.detectingSelectAll=setTimeout(q,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(q,200)}}if(T&&O>=9&&A(),Ct){Xr(e);var N=function(){Tt(window,"mouseup",N),setTimeout(L,20)};ae(window,"mouseup",N)}else setTimeout(L,50)},ot.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},ot.prototype.setUneditable=function(){},ot.prototype.needsContentAttribute=!1;function fd(e,t){if(t=t?we(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=ze(at(e));t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=f.getValue()}var i;if(e.form&&(ae(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;i=l.submit;try{var u=l.submit=function(){r(),l.submit=i,l.submit(),l.submit=u}}catch{}}t.finishInit=function(h){h.save=r,h.getTextArea=function(){return e},h.toTextArea=function(){h.toTextArea=isNaN,r(),e.parentNode.removeChild(h.getWrapperElement()),e.style.display="",e.form&&(Tt(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";var f=Ze(function(h){return e.parentNode.insertBefore(h,e.nextSibling)},t);return f}function cd(e){e.off=Tt,e.on=ae,e.wheelEventPixels=yh,e.Doc=Wt,e.splitLines=or,e.countColumn=_e,e.findColumn=z,e.isWordChar=Le,e.Pass=M,e.signal=Qe,e.Line=Wn,e.changeEnd=$r,e.scrollbarModel=Ba,e.Pos=_,e.cmpPos=V,e.modes=Nn,e.mimeModes=cr,e.resolveMode=En,e.getMode=Dn,e.modeExtensions=jr,e.extendMode=In,e.copyState=br,e.startState=Pn,e.innerMode=di,e.commands=Fi,e.keyMap=Fr,e.keyName=Tu,e.isModifierKey=ku,e.lookupKey=Vn,e.normalizeKeyMap=Bh,e.StringStream=et,e.SharedTextMarker=Di,e.TextMarker=tn,e.LineWidget=Ei,e.e_preventDefault=Mt,e.e_stopPropagation=_n,e.e_stop=Xr,e.addClass=We,e.contains=xe,e.rmClass=lt,e.keyNames=rn}rd(Ze),sd(Ze);var hd="iter insert remove copy getEditor constructor".split(" ");for(var Bo in Wt.prototype)Wt.prototype.hasOwnProperty(Bo)&&Ce(hd,Bo)<0&&(Ze.prototype[Bo]=function(e){return function(){return e.apply(this.doc,arguments)}}(Wt.prototype[Bo]));return ar(Wt),Ze.inputStyles={textarea:ot,contenteditable:Pe},Ze.defineMode=function(e){!Ze.defaults.mode&&e!="null"&&(Ze.defaults.mode=e),hr.apply(this,arguments)},Ze.defineMIME=dn,Ze.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ze.defineMIME("text/plain","null"),Ze.defineExtension=function(e,t){Ze.prototype[e]=t},Ze.defineDocExtension=function(e,t){Wt.prototype[e]=t},Ze.fromTextArea=fd,cd(Ze),Ze.version="5.65.20",Ze})}(wl)),wl.exports}var hg=Xl();const dg=Td(hg);(function(o,s){(function(a){a(Xl())})(function(a){a.defineMode("javascript",function(c,d){var p=c.indentUnit,y=d.statementIndent,S=d.jsonld,T=d.json||S,O=d.trackScope!==!1,k=d.typescript,H=d.wordCharacters||/[\w$\xa1-\uffff]/,B=function(){function v(vt){return{type:vt,style:"keyword"}}var b=v("keyword a"),D=v("keyword b"),X=v("keyword c"),_=v("keyword d"),V=v("operator"),Ee={type:"atom",style:"atom"};return{if:v("if"),while:b,with:b,else:D,do:D,try:D,finally:D,return:_,break:_,continue:_,new:v("new"),delete:X,void:X,throw:X,debugger:v("debugger"),var:v("var"),const:v("var"),let:v("var"),function:v("function"),catch:v("catch"),for:v("for"),switch:v("switch"),case:v("case"),default:v("default"),in:V,typeof:V,instanceof:V,true:Ee,false:Ee,null:Ee,undefined:Ee,NaN:Ee,Infinity:Ee,this:v("this"),class:v("class"),super:v("atom"),yield:X,export:v("export"),import:v("import"),extends:X,await:X}}(),R=/[+\-*&%=<>!?|~^@]/,ie=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function se(v){for(var b=!1,D,X=!1;(D=v.next())!=null;){if(!b){if(D=="/"&&!X)return;D=="["?X=!0:X&&D=="]"&&(X=!1)}b=!b&&D=="\\"}}var ye,ce;function he(v,b,D){return ye=v,ce=D,b}function ge(v,b){var D=v.next();if(D=='"'||D=="'")return b.tokenize=Te(D),b.tokenize(v,b);if(D=="."&&v.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return he("number","number");if(D=="."&&v.match(".."))return he("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(D))return he(D);if(D=="="&&v.eat(">"))return he("=>","operator");if(D=="0"&&v.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return he("number","number");if(/\d/.test(D))return v.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),he("number","number");if(D=="/")return v.eat("*")?(b.tokenize=pe,pe(v,b)):v.eat("/")?(v.skipToEnd(),he("comment","comment")):Qt(v,b,1)?(se(v),v.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),he("regexp","string-2")):(v.eat("="),he("operator","operator",v.current()));if(D=="`")return b.tokenize=Be,Be(v,b);if(D=="#"&&v.peek()=="!")return v.skipToEnd(),he("meta","meta");if(D=="#"&&v.eatWhile(H))return he("variable","property");if(D=="<"&&v.match("!--")||D=="-"&&v.match("->")&&!/\S/.test(v.string.slice(0,v.start)))return v.skipToEnd(),he("comment","comment");if(R.test(D))return(D!=">"||!b.lexical||b.lexical.type!=">")&&(v.eat("=")?(D=="!"||D=="=")&&v.eat("="):/[<>*+\-|&?]/.test(D)&&(v.eat(D),D==">"&&v.eat(D))),D=="?"&&v.eat(".")?he("."):he("operator","operator",v.current());if(H.test(D)){v.eatWhile(H);var X=v.current();if(b.lastType!="."){if(B.propertyIsEnumerable(X)){var _=B[X];return he(_.type,_.style,X)}if(X=="async"&&v.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return he("async","keyword",X)}return he("variable","variable",X)}}function Te(v){return function(b,D){var X=!1,_;if(S&&b.peek()=="@"&&b.match(ie))return D.tokenize=ge,he("jsonld-keyword","meta");for(;(_=b.next())!=null&&!(_==v&&!X);)X=!X&&_=="\\";return X||(D.tokenize=ge),he("string","string")}}function pe(v,b){for(var D=!1,X;X=v.next();){if(X=="/"&&D){b.tokenize=ge;break}D=X=="*"}return he("comment","comment")}function Be(v,b){for(var D=!1,X;(X=v.next())!=null;){if(!D&&(X=="`"||X=="$"&&v.eat("{"))){b.tokenize=ge;break}D=!D&&X=="\\"}return he("quasi","string-2",v.current())}var st="([{}])";function Ne(v,b){b.fatArrowAt&&(b.fatArrowAt=null);var D=v.string.indexOf("=>",v.start);if(!(D<0)){if(k){var X=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(v.string.slice(v.start,D));X&&(D=X.index)}for(var _=0,V=!1,Ee=D-1;Ee>=0;--Ee){var vt=v.string.charAt(Ee),Pt=st.indexOf(vt);if(Pt>=0&&Pt<3){if(!_){++Ee;break}if(--_==0){vt=="("&&(V=!0);break}}else if(Pt>=3&&Pt<6)++_;else if(H.test(vt))V=!0;else if(/["'\/`]/.test(vt))for(;;--Ee){if(Ee==0)return;var Fn=v.string.charAt(Ee-1);if(Fn==vt&&v.string.charAt(Ee-2)!="\\"){Ee--;break}}else if(V&&!_){++Ee;break}}V&&!_&&(b.fatArrowAt=Ee)}}var Lt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Ct(v,b,D,X,_,V){this.indented=v,this.column=b,this.type=D,this.prev=_,this.info=V,X!=null&&(this.align=X)}function ht(v,b){if(!O)return!1;for(var D=v.localVars;D;D=D.next)if(D.name==b)return!0;for(var X=v.context;X;X=X.prev)for(var D=X.vars;D;D=D.next)if(D.name==b)return!0}function lt(v,b,D,X,_){var V=v.cc;for(I.state=v,I.stream=_,I.marked=null,I.cc=V,I.style=b,v.lexical.hasOwnProperty("align")||(v.lexical.align=!0);;){var Ee=V.length?V.pop():T?Ce:_e;if(Ee(D,X)){for(;V.length&&V[V.length-1].lex;)V.pop()();return I.marked?I.marked:D=="variable"&&ht(v,X)?"variable-2":b}}}var I={state:null,marked:null,cc:null};function te(){for(var v=arguments.length-1;v>=0;v--)I.cc.push(arguments[v])}function C(){return te.apply(null,arguments),!0}function Fe(v,b){for(var D=b;D;D=D.next)if(D.name==v)return!0;return!1}function be(v){var b=I.state;if(I.marked="def",!!O){if(b.context){if(b.lexical.info=="var"&&b.context&&b.context.block){var D=xe(v,b.context);if(D!=null){b.context=D;return}}else if(!Fe(v,b.localVars)){b.localVars=new Ke(v,b.localVars);return}}d.globalVars&&!Fe(v,b.globalVars)&&(b.globalVars=new Ke(v,b.globalVars))}}function xe(v,b){if(b)if(b.block){var D=xe(v,b.prev);return D?D==b.prev?b:new We(D,b.vars,!0):null}else return Fe(v,b.vars)?b:new We(b.prev,new Ke(v,b.vars),!1);else return null}function ze(v){return v=="public"||v=="private"||v=="protected"||v=="abstract"||v=="readonly"}function We(v,b,D){this.prev=v,this.vars=b,this.block=D}function Ke(v,b){this.name=v,this.next=b}var Xe=new Ke("this",new Ke("arguments",null));function qe(){I.state.context=new We(I.state.context,I.state.localVars,!1),I.state.localVars=Xe}function St(){I.state.context=new We(I.state.context,I.state.localVars,!0),I.state.localVars=null}qe.lex=St.lex=!0;function at(){I.state.localVars=I.state.context.vars,I.state.context=I.state.context.prev}at.lex=!0;function de(v,b){var D=function(){var X=I.state,_=X.indented;if(X.lexical.type=="stat")_=X.lexical.indented;else for(var V=X.lexical;V&&V.type==")"&&V.align;V=V.prev)_=V.indented;X.lexical=new Ct(_,I.stream.column(),v,null,X.lexical,b)};return D.lex=!0,D}function fe(){var v=I.state;v.lexical.prev&&(v.lexical.type==")"&&(v.indented=v.lexical.indented),v.lexical=v.lexical.prev)}fe.lex=!0;function we(v){function b(D){return D==v?C():v==";"||D=="}"||D==")"||D=="]"?te():C(b)}return b}function _e(v,b){return v=="var"?C(de("vardef",b),_n,we(";"),fe):v=="keyword a"?C(de("form"),M,_e,fe):v=="keyword b"?C(de("form"),_e,fe):v=="keyword d"?I.stream.match(/^\s*$/,!1)?C():C(de("stat"),G,we(";"),fe):v=="debugger"?C(we(";")):v=="{"?C(de("}"),St,ut,fe,at):v==";"?C():v=="if"?(I.state.lexical.info=="else"&&I.state.cc[I.state.cc.length-1]==fe&&I.state.cc.pop()(),C(de("form"),M,_e,fe,Hn)):v=="function"?C(or):v=="for"?C(de("form"),St,ao,_e,at,fe):v=="class"||k&&b=="interface"?(I.marked="keyword",C(de("form",v=="class"?v:b),Nn,fe)):v=="variable"?k&&b=="declare"?(I.marked="keyword",C(_e)):k&&(b=="module"||b=="enum"||b=="type")&&I.stream.match(/^\s*\w/,!1)?(I.marked="keyword",b=="enum"?C(re):b=="type"?C(uo,we("operator"),ke,we(";")):C(de("form"),It,we("{"),de("}"),ut,fe,fe)):k&&b=="namespace"?(I.marked="keyword",C(de("form"),Ce,_e,fe)):k&&b=="abstract"?(I.marked="keyword",C(_e)):C(de("stat"),ve):v=="switch"?C(de("form"),M,we("{"),de("}","switch"),St,ut,fe,fe,at):v=="case"?C(Ce,we(":")):v=="default"?C(we(":")):v=="catch"?C(de("form"),qe,Ht,_e,fe,at):v=="export"?C(de("stat"),En,fe):v=="import"?C(de("stat"),jr,fe):v=="async"?C(_e):b=="@"?C(Ce,_e):te(de("stat"),Ce,we(";"),fe)}function Ht(v){if(v=="(")return C(fr,we(")"))}function Ce(v,b){return E(v,b,!1)}function w(v,b){return E(v,b,!0)}function M(v){return v!="("?te():C(de(")"),G,we(")"),fe)}function E(v,b,D){if(I.state.fatArrowAt==I.stream.start){var X=D?K:F;if(v=="(")return C(qe,de(")"),Ae(fr,")"),fe,we("=>"),X,at);if(v=="variable")return te(qe,It,we("=>"),X,at)}var _=D?z:W;return Lt.hasOwnProperty(v)?C(_):v=="function"?C(or,_):v=="class"||k&&b=="interface"?(I.marked="keyword",C(de("form"),xs,fe)):v=="keyword c"||v=="async"?C(D?w:Ce):v=="("?C(de(")"),G,we(")"),fe,_):v=="operator"||v=="spread"?C(D?w:Ce):v=="["?C(de("]"),et,fe,_):v=="{"?gt(Me,"}",null,_):v=="quasi"?te(J,_):v=="new"?C(le(D)):C()}function G(v){return v.match(/[;\}\)\],]/)?te():te(Ce)}function W(v,b){return v==","?C(G):z(v,b,!1)}function z(v,b,D){var X=D==!1?W:z,_=D==!1?Ce:w;if(v=="=>")return C(qe,D?K:F,at);if(v=="operator")return/\+\+|--/.test(b)||k&&b=="!"?C(X):k&&b=="<"&&I.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?C(de(">"),Ae(ke,">"),fe,X):b=="?"?C(Ce,we(":"),_):C(_);if(v=="quasi")return te(J,X);if(v!=";"){if(v=="(")return gt(w,")","call",X);if(v==".")return C(Le,X);if(v=="[")return C(de("]"),G,we("]"),fe,X);if(k&&b=="as")return I.marked="keyword",C(ke,X);if(v=="regexp")return I.state.lastType=I.marked="operator",I.stream.backUp(I.stream.pos-I.stream.start-1),C(_)}}function J(v,b){return v!="quasi"?te():b.slice(b.length-2)!="${"?C(J):C(G,Z)}function Z(v){if(v=="}")return I.marked="string-2",I.state.tokenize=Be,C(J)}function F(v){return Ne(I.stream,I.state),te(v=="{"?_e:Ce)}function K(v){return Ne(I.stream,I.state),te(v=="{"?_e:w)}function le(v){return function(b){return b=="."?C(v?oe:$):b=="variable"&&k?C(qt,v?z:W):te(v?w:Ce)}}function $(v,b){if(b=="target")return I.marked="keyword",C(W)}function oe(v,b){if(b=="target")return I.marked="keyword",C(z)}function ve(v){return v==":"?C(fe,_e):te(W,we(";"),fe)}function Le(v){if(v=="variable")return I.marked="property",C()}function Me(v,b){if(v=="async")return I.marked="property",C(Me);if(v=="variable"||I.style=="keyword"){if(I.marked="property",b=="get"||b=="set")return C(He);var D;return k&&I.state.fatArrowAt==I.stream.start&&(D=I.stream.match(/^\s*:\s*/,!1))&&(I.state.fatArrowAt=I.stream.pos+D[0].length),C(Je)}else{if(v=="number"||v=="string")return I.marked=S?"property":I.style+" property",C(Je);if(v=="jsonld-keyword")return C(Je);if(k&&ze(b))return I.marked="keyword",C(Me);if(v=="[")return C(Ce,Kt,we("]"),Je);if(v=="spread")return C(w,Je);if(b=="*")return I.marked="keyword",C(Me);if(v==":")return te(Je)}}function He(v){return v!="variable"?te(Je):(I.marked="property",C(or))}function Je(v){if(v==":")return C(w);if(v=="(")return te(or)}function Ae(v,b,D){function X(_,V){if(D?D.indexOf(_)>-1:_==","){var Ee=I.state.lexical;return Ee.info=="call"&&(Ee.pos=(Ee.pos||0)+1),C(function(vt,Pt){return vt==b||Pt==b?te():te(v)},X)}return _==b||V==b?C():D&&D.indexOf(";")>-1?te(v):C(we(b))}return function(_,V){return _==b||V==b?C():te(v,X)}}function gt(v,b,D){for(var X=3;X<arguments.length;X++)I.cc.push(arguments[X]);return C(de(b,D),Ae(v,b),fe)}function ut(v){return v=="}"?C():te(_e,ut)}function Kt(v,b){if(k){if(v==":")return C(ke);if(b=="?")return C(Kt)}}function yr(v,b){if(k&&(v==":"||b=="in"))return C(ke)}function it(v){if(k&&v==":")return I.stream.match(/^\s*\w+\s+is\b/,!1)?C(Ce,Xt,ke):C(ke)}function Xt(v,b){if(b=="is")return I.marked="keyword",C()}function ke(v,b){if(b=="keyof"||b=="typeof"||b=="infer"||b=="readonly")return I.marked="keyword",C(b=="typeof"?w:ke);if(v=="variable"||b=="void")return I.marked="type",C(ir);if(b=="|"||b=="&")return C(ke);if(v=="string"||v=="number"||v=="atom")return C(ir);if(v=="[")return C(de("]"),Ae(ke,"]",","),fe,ir);if(v=="{")return C(de("}"),ae,fe,ir);if(v=="(")return C(Ae($e,")"),hn,ir);if(v=="<")return C(Ae(ke,">"),ke);if(v=="quasi")return te(Tt,ir)}function hn(v){if(v=="=>")return C(ke)}function ae(v){return v.match(/[\}\)\]]/)?C():v==","||v==";"?C(ae):te(Hr,ae)}function Hr(v,b){if(v=="variable"||I.style=="keyword")return I.marked="property",C(Hr);if(b=="?"||v=="number"||v=="string")return C(Hr);if(v==":")return C(ke);if(v=="[")return C(we("variable"),yr,we("]"),Hr);if(v=="(")return te(Yr,Hr);if(!v.match(/[;\}\)\],]/))return C()}function Tt(v,b){return v!="quasi"?te():b.slice(b.length-2)!="${"?C(Tt):C(ke,Qe)}function Qe(v){if(v=="}")return I.marked="string-2",I.state.tokenize=Be,C(Tt)}function $e(v,b){return v=="variable"&&I.stream.match(/^\s*[?:]/,!1)||b=="?"?C($e):v==":"?C(ke):v=="spread"?C($e):te(ke)}function ir(v,b){if(b=="<")return C(de(">"),Ae(ke,">"),fe,ir);if(b=="|"||v=="."||b=="&")return C(ke);if(v=="[")return C(ke,we("]"),ir);if(b=="extends"||b=="implements")return I.marked="keyword",C(ke);if(b=="?")return C(ke,we(":"),ke)}function qt(v,b){if(b=="<")return C(de(">"),Ae(ke,">"),fe,ir)}function ar(){return te(ke,Mt)}function Mt(v,b){if(b=="=")return C(ke)}function _n(v,b){return b=="enum"?(I.marked="keyword",C(re)):te(It,Kt,ur,bs)}function It(v,b){if(k&&ze(b))return I.marked="keyword",C(It);if(v=="variable")return be(b),C();if(v=="spread")return C(It);if(v=="[")return gt(ci,"]");if(v=="{")return gt(Xr,"}")}function Xr(v,b){return v=="variable"&&!I.stream.match(/^\s*:/,!1)?(be(b),C(ur)):(v=="variable"&&(I.marked="property"),v=="spread"?C(It):v=="}"?te():v=="["?C(Ce,we("]"),we(":"),Xr):C(we(":"),It,ur))}function ci(){return te(It,ur)}function ur(v,b){if(b=="=")return C(w)}function bs(v){if(v==",")return C(_n)}function Hn(v,b){if(v=="keyword b"&&b=="else")return C(de("form","else"),_e,fe)}function ao(v,b){if(b=="await")return C(ao);if(v=="(")return C(de(")"),hi,fe)}function hi(v){return v=="var"?C(_n,qr):v=="variable"?C(qr):te(qr)}function qr(v,b){return v==")"?C():v==";"?C(qr):b=="in"||b=="of"?(I.marked="keyword",C(Ce,qr)):te(Ce,qr)}function or(v,b){if(b=="*")return I.marked="keyword",C(or);if(v=="variable")return be(b),C(or);if(v=="(")return C(qe,de(")"),Ae(fr,")"),fe,it,_e,at);if(k&&b=="<")return C(de(">"),Ae(ar,">"),fe,or)}function Yr(v,b){if(b=="*")return I.marked="keyword",C(Yr);if(v=="variable")return be(b),C(Yr);if(v=="(")return C(qe,de(")"),Ae(fr,")"),fe,it,at);if(k&&b=="<")return C(de(">"),Ae(ar,">"),fe,Yr)}function uo(v,b){if(v=="keyword"||v=="variable")return I.marked="type",C(uo);if(b=="<")return C(de(">"),Ae(ar,">"),fe)}function fr(v,b){return b=="@"&&C(Ce,fr),v=="spread"?C(fr):k&&ze(b)?(I.marked="keyword",C(fr)):k&&v=="this"?C(Kt,ur):te(It,Kt,ur)}function xs(v,b){return v=="variable"?Nn(v,b):cr(v,b)}function Nn(v,b){if(v=="variable")return be(b),C(cr)}function cr(v,b){if(b=="<")return C(de(">"),Ae(ar,">"),fe,cr);if(b=="extends"||b=="implements"||k&&v==",")return b=="implements"&&(I.marked="keyword"),C(k?ke:Ce,cr);if(v=="{")return C(de("}"),hr,fe)}function hr(v,b){if(v=="async"||v=="variable"&&(b=="static"||b=="get"||b=="set"||k&&ze(b))&&I.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return I.marked="keyword",C(hr);if(v=="variable"||I.style=="keyword")return I.marked="property",C(dn,hr);if(v=="number"||v=="string")return C(dn,hr);if(v=="[")return C(Ce,Kt,we("]"),dn,hr);if(b=="*")return I.marked="keyword",C(hr);if(k&&v=="(")return te(Yr,hr);if(v==";"||v==",")return C(hr);if(v=="}")return C();if(b=="@")return C(Ce,hr)}function dn(v,b){if(b=="!"||b=="?")return C(dn);if(v==":")return C(ke,ur);if(b=="=")return C(w);var D=I.state.lexical.prev,X=D&&D.info=="interface";return te(X?Yr:or)}function En(v,b){return b=="*"?(I.marked="keyword",C(Pn,we(";"))):b=="default"?(I.marked="keyword",C(Ce,we(";"))):v=="{"?C(Ae(Dn,"}"),Pn,we(";")):te(_e)}function Dn(v,b){if(b=="as")return I.marked="keyword",C(we("variable"));if(v=="variable")return te(w,Dn)}function jr(v){return v=="string"?C():v=="("?te(Ce):v=="."?te(W):te(In,br,Pn)}function In(v,b){return v=="{"?gt(In,"}"):(v=="variable"&&be(b),b=="*"&&(I.marked="keyword"),C(di))}function br(v){if(v==",")return C(In,br)}function di(v,b){if(b=="as")return I.marked="keyword",C(In)}function Pn(v,b){if(b=="from")return I.marked="keyword",C(Ce)}function et(v){return v=="]"?C():te(Ae(w,"]"))}function re(){return te(de("form"),It,we("{"),de("}"),Ae(Nr,"}"),fe,fe)}function Nr(){return te(It,ur)}function pi(v,b){return v.lastType=="operator"||v.lastType==","||R.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}function Qt(v,b,D){return b.tokenize==ge&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||b.lastType=="quasi"&&/\{\s*$/.test(v.string.slice(0,v.pos-(D||0)))}return{startState:function(v){var b={tokenize:ge,lastType:"sof",cc:[],lexical:new Ct((v||0)-p,0,"block",!1),localVars:d.localVars,context:d.localVars&&new We(null,null,!1),indented:v||0};return d.globalVars&&typeof d.globalVars=="object"&&(b.globalVars=d.globalVars),b},token:function(v,b){if(v.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=v.indentation(),Ne(v,b)),b.tokenize!=pe&&v.eatSpace())return null;var D=b.tokenize(v,b);return ye=="comment"?D:(b.lastType=ye=="operator"&&(ce=="++"||ce=="--")?"incdec":ye,lt(b,D,ye,ce,v))},indent:function(v,b){if(v.tokenize==pe||v.tokenize==Be)return a.Pass;if(v.tokenize!=ge)return 0;var D=b&&b.charAt(0),X=v.lexical,_;if(!/^\s*else\b/.test(b))for(var V=v.cc.length-1;V>=0;--V){var Ee=v.cc[V];if(Ee==fe)X=X.prev;else if(Ee!=Hn&&Ee!=at)break}for(;(X.type=="stat"||X.type=="form")&&(D=="}"||(_=v.cc[v.cc.length-1])&&(_==W||_==z)&&!/^[,\.=+\-*:?[\(]/.test(b));)X=X.prev;y&&X.type==")"&&X.prev.type=="stat"&&(X=X.prev);var vt=X.type,Pt=D==vt;return vt=="vardef"?X.indented+(v.lastType=="operator"||v.lastType==","?X.info.length+1:0):vt=="form"&&D=="{"?X.indented:vt=="form"?X.indented+p:vt=="stat"?X.indented+(pi(v,b)?y||p:0):X.info=="switch"&&!Pt&&d.doubleIndentSwitch!=!1?X.indented+(/^(?:case|default)\b/.test(b)?p:2*p):X.align?X.column+(Pt?0:1):X.indented+(Pt?0:p)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:T?null:"/*",blockCommentEnd:T?null:"*/",blockCommentContinue:T?null:" * ",lineComment:T?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:T?"json":"javascript",jsonldMode:S,jsonMode:T,expressionAllowed:Qt,skipExpression:function(v){lt(v,"atom","atom","true",new a.StringStream("",2,null))}}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/manifest+json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(o,s){(function(a){a(Xl())})(function(a){var c={},d=/[^\s\u00a0]/,p=a.Pos,y=a.cmpPos;function S(k){var H=k.search(d);return H==-1?0:H}a.commands.toggleComment=function(k){k.toggleComment()},a.defineExtension("toggleComment",function(k){k||(k=c);for(var H=this,B=1/0,R=this.listSelections(),ie=null,se=R.length-1;se>=0;se--){var ye=R[se].from(),ce=R[se].to();ye.line>=B||(ce.line>=B&&(ce=p(B,0)),B=ye.line,ie==null?H.uncomment(ye,ce,k)?ie="un":(H.lineComment(ye,ce,k),ie="line"):ie=="un"?H.uncomment(ye,ce,k):H.lineComment(ye,ce,k))}});function T(k,H,B){return/\bstring\b/.test(k.getTokenTypeAt(p(H.line,0)))&&!/^[\'\"\`]/.test(B)}function O(k,H){var B=k.getMode();return B.useInnerComments===!1||!B.innerMode?B:k.getModeAt(H)}a.defineExtension("lineComment",function(k,H,B){B||(B=c);var R=this,ie=O(R,k),se=R.getLine(k.line);if(!(se==null||T(R,k,se))){var ye=B.lineComment||ie.lineComment;if(!ye){(B.blockCommentStart||ie.blockCommentStart)&&(B.fullLines=!0,R.blockComment(k,H,B));return}var ce=Math.min(H.ch!=0||H.line==k.line?H.line+1:H.line,R.lastLine()+1),he=B.padding==null?" ":B.padding,ge=B.commentBlankLines||k.line==H.line;R.operation(function(){if(B.indent){for(var Te=null,pe=k.line;pe<ce;++pe){var Be=R.getLine(pe),st=Be.search(d)===-1?Be:Be.slice(0,S(Be));(Te==null||Te.length>st.length)&&(Te=st)}for(var pe=k.line;pe<ce;++pe){var Be=R.getLine(pe),Ne=Te.length;!ge&&!d.test(Be)||(Be.slice(0,Ne)!=Te&&(Ne=S(Be)),R.replaceRange(Te+ye+he,p(pe,0),p(pe,Ne)))}}else for(var pe=k.line;pe<ce;++pe)(ge||d.test(R.getLine(pe)))&&R.replaceRange(ye+he,p(pe,0))})}}),a.defineExtension("blockComment",function(k,H,B){B||(B=c);var R=this,ie=O(R,k),se=B.blockCommentStart||ie.blockCommentStart,ye=B.blockCommentEnd||ie.blockCommentEnd;if(!se||!ye){(B.lineComment||ie.lineComment)&&B.fullLines!=!1&&R.lineComment(k,H,B);return}if(!/\bcomment\b/.test(R.getTokenTypeAt(p(k.line,0)))){var ce=Math.min(H.line,R.lastLine());ce!=k.line&&H.ch==0&&d.test(R.getLine(ce))&&--ce;var he=B.padding==null?" ":B.padding;k.line>ce||R.operation(function(){if(B.fullLines!=!1){var ge=d.test(R.getLine(ce));R.replaceRange(he+ye,p(ce)),R.replaceRange(se+he,p(k.line,0));var Te=B.blockCommentLead||ie.blockCommentLead;if(Te!=null)for(var pe=k.line+1;pe<=ce;++pe)(pe!=ce||ge)&&R.replaceRange(Te+he,p(pe,0))}else{var Be=y(R.getCursor("to"),H)==0,st=!R.somethingSelected();R.replaceRange(ye,H),Be&&R.setSelection(st?H:R.getCursor("from"),H),R.replaceRange(se,k)}})}}),a.defineExtension("uncomment",function(k,H,B){B||(B=c);var R=this,ie=O(R,k),se=Math.min(H.ch!=0||H.line==k.line?H.line:H.line-1,R.lastLine()),ye=Math.min(k.line,se),ce=B.lineComment||ie.lineComment,he=[],ge=B.padding==null?" ":B.padding,Te;e:{if(!ce)break e;for(var pe=ye;pe<=se;++pe){var Be=R.getLine(pe),st=Be.indexOf(ce);if(st>-1&&!/comment/.test(R.getTokenTypeAt(p(pe,st+1)))&&(st=-1),st==-1&&d.test(Be)||st>-1&&d.test(Be.slice(0,st)))break e;he.push(Be)}if(R.operation(function(){for(var We=ye;We<=se;++We){var Ke=he[We-ye],Xe=Ke.indexOf(ce),qe=Xe+ce.length;Xe<0||(Ke.slice(qe,qe+ge.length)==ge&&(qe+=ge.length),Te=!0,R.replaceRange("",p(We,Xe),p(We,qe)))}}),Te)return!0}var Ne=B.blockCommentStart||ie.blockCommentStart,Lt=B.blockCommentEnd||ie.blockCommentEnd;if(!Ne||!Lt)return!1;var Ct=B.blockCommentLead||ie.blockCommentLead,ht=R.getLine(ye),lt=ht.indexOf(Ne);if(lt==-1)return!1;var I=se==ye?ht:R.getLine(se),te=I.indexOf(Lt,se==ye?lt+Ne.length:0),C=p(ye,lt+1),Fe=p(se,te+1);if(te==-1||!/comment/.test(R.getTokenTypeAt(C))||!/comment/.test(R.getTokenTypeAt(Fe))||R.getRange(C,Fe,`
`).indexOf(Lt)>-1)return!1;var be=ht.lastIndexOf(Ne,k.ch),xe=be==-1?-1:ht.slice(0,k.ch).indexOf(Lt,be+Ne.length);if(be!=-1&&xe!=-1&&xe+Lt.length!=k.ch)return!1;xe=I.indexOf(Lt,H.ch);var ze=I.slice(H.ch).lastIndexOf(Ne,xe-H.ch);return be=xe==-1||ze==-1?-1:H.ch+ze,xe!=-1&&be!=-1&&be!=H.ch?!1:(R.operation(function(){R.replaceRange("",p(se,te-(ge&&I.slice(te-ge.length,te)==ge?ge.length:0)),p(se,te+Lt.length));var We=lt+Ne.length;if(ge&&ht.slice(We,We+ge.length)==ge&&(We+=ge.length),R.replaceRange("",p(ye,lt),p(ye,We)),Ct)for(var Ke=ye+1;Ke<=se;++Ke){var Xe=R.getLine(Ke),qe=Xe.indexOf(Ct);if(!(qe==-1||d.test(Xe.slice(0,qe)))){var St=qe+Ct.length;ge&&Xe.slice(St,St+ge.length)==ge&&(St+=ge.length),R.replaceRange("",p(Ke,qe),p(Ke,St))}}}),!0)})})})();const ds=(o,s)=>{const a=o.__vccOpts||o;for(const[c,d]of s)a[c]=d;return a},pg={name:"CodeEditor",props:["model"],setup(o){const s=Md(null);let a,c;function d(){o.model.setCode(o.model.code)}const p=y=>{!y&&a&&setTimeout(()=>a.refresh(),30)};return Rf(()=>{a=dg(s.value,{value:o.model.code,mode:"javascript",theme:"material",lineNumbers:!0,viewportMargin:1/0}),a.on("change",()=>{o.model.code=a.getValue()}),a.setOption("extraKeys",{"Cmd-/":y=>y.toggleComment({indent:!0,lineComment:"//"}),"Ctrl-/":y=>y.toggleComment({indent:!0,lineComment:"//"})}),Yi.on("settings-collapsed",p),setTimeout(()=>a&&a.refresh(),50)}),Bf(()=>{Yi.off("settings-collapsed",p)}),Zo(()=>o.model.code,()=>{c&&clearTimeout(c),c=setTimeout(()=>{d(),c=0},300),a&&a.getValue()!==o.model.code&&a.setValue(o.model.code)}),{editor:s}}},gg={class:"code-editor"},vg={ref:"editor",class:"cm-container"},mg={class:"error-container"},yg={key:0,class:"error hl"};function bg(o,s,a,c,d,p){return Ge(),nt("div",gg,[U("div",vg,null,512),U("div",mg,[a.model.error?(Ge(),nt("pre",yg,Qi(a.model.error),1)):pt("",!0)])])}const xg=ds(pg,[["render",bg]]),wg="";function ui(o,s){s===void 0&&(s={});var a=s.insertAt;if(!(!o||typeof document>"u")){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",a==="top"&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=o:d.appendChild(document.createTextNode(o))}}const fi=function(o,s){const{componentPrefix:a=wg}=s||{};o.component(`${a}${this.name}`,this)},Cl={};var lo={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle(){return{"background-image":`url(${Sg(this.white,this.grey,this.size)})`}}}};function Cg(o,s,a){if(typeof document>"u")return null;const c=document.createElement("canvas");c.width=c.height=a*2;const d=c.getContext("2d");return d?(d.fillStyle=o,d.fillRect(0,0,c.width,c.height),d.fillStyle=s,d.fillRect(0,0,a,a),d.translate(a,a),d.fillRect(0,0,a,a),c.toDataURL()):null}function Sg(o,s,a){const c=`${o},${s},${a}`;if(Cl[c])return Cl[c];const d=Cg(o,s,a);return Cl[c]=d,d}function kg(o,s,a,c,d,p){return Ge(),nt("div",{class:"vc-checkerboard",style:Or(p.bgStyle)},null,4)}var Lg=".vc-checkerboard{background-size:contain;bottom:0;left:0;position:absolute;right:0;top:0}";ui(Lg);lo.render=kg;lo.__file="src/components/checkboard/checkboard.vue";lo.install=fi;var ps={name:"Alpha",components:{Checkboard:lo},props:{value:Object,onChange:Function},computed:{colors(){return this.value},gradientColor(){const{rgba:o}=this.colors,s=[o.r,o.g,o.b].join(",");return`linear-gradient(to right, rgba(${s}, 0) 0%, rgba(${s}, 1) 100%)`}},methods:{handleChange(o,s){!s&&o.preventDefault();const{container:a}=this.$refs;if(!a)return;const c=a.clientWidth,d=a.getBoundingClientRect().left+window.pageXOffset,y=(o.pageX||(o.touches?o.touches[0].pageX:0))-d;let S;y<0?S=0:y>c?S=1:S=Math.round(y*100/c)/100,this.colors.a!==S&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:S,source:"rgba"})},handleMouseDown(o){this.handleChange(o,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Tg={class:"vc-alpha"},Mg={class:"vc-alpha-checkboard-wrap"},Ag=U("div",{class:"vc-alpha-picker"},null,-1),Og=[Ag];function _g(o,s,a,c,d,p){const y=Ar("Checkboard");return Ge(),nt("div",Tg,[U("div",Mg,[Re(y)]),U("div",{class:"vc-alpha-gradient",style:Or({background:p.gradientColor})},null,4),U("div",{ref:"container",class:"vc-alpha-container",onMousedown:s[0]||(s[0]=(...S)=>p.handleMouseDown&&p.handleMouseDown(...S)),onTouchmove:s[1]||(s[1]=(...S)=>p.handleChange&&p.handleChange(...S)),onTouchstart:s[2]||(s[2]=(...S)=>p.handleChange&&p.handleChange(...S))},[U("div",{class:"vc-alpha-pointer",style:Or({left:`${p.colors.a*100}%`})},Og,4)],544)])}var Hg=".vc-alpha,.vc-alpha-checkboard-wrap{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-checkboard-wrap{overflow:hidden}.vc-alpha-gradient{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-container{cursor:pointer;height:100%;margin:0 3px;position:relative;z-index:2}.vc-alpha-pointer{position:absolute;z-index:2}.vc-alpha-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";ui(Hg);ps.render=_g;ps.__file="src/components/alpha/alpha.vue";ps.install=fi;function _t(o,s){Ng(o)&&(o="100%");var a=Eg(o);return o=s===360?o:Math.min(s,Math.max(0,parseFloat(o))),a&&(o=parseInt(String(o*s),10)/100),Math.abs(o-s)<1e-6?1:(s===360?o=(o<0?o%s+s:o%s)/parseFloat(String(s)):o=o%s/parseFloat(String(s)),o)}function Uo(o){return Math.min(1,Math.max(0,o))}function Ng(o){return typeof o=="string"&&o.indexOf(".")!==-1&&parseFloat(o)===1}function Eg(o){return typeof o=="string"&&o.indexOf("%")!==-1}function dc(o){return o=parseFloat(o),(isNaN(o)||o<0||o>1)&&(o=1),o}function Go(o){return o<=1?"".concat(Number(o)*100,"%"):o}function Mn(o){return o.length===1?"0"+o:String(o)}function Dg(o,s,a){return{r:_t(o,255)*255,g:_t(s,255)*255,b:_t(a,255)*255}}function wf(o,s,a){o=_t(o,255),s=_t(s,255),a=_t(a,255);var c=Math.max(o,s,a),d=Math.min(o,s,a),p=0,y=0,S=(c+d)/2;if(c===d)y=0,p=0;else{var T=c-d;switch(y=S>.5?T/(2-c-d):T/(c+d),c){case o:p=(s-a)/T+(s<a?6:0);break;case s:p=(a-o)/T+2;break;case a:p=(o-s)/T+4;break}p/=6}return{h:p,s:y,l:S}}function Sl(o,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(s-o)*(6*a):a<1/2?s:a<2/3?o+(s-o)*(2/3-a)*6:o}function Ig(o,s,a){var c,d,p;if(o=_t(o,360),s=_t(s,100),a=_t(a,100),s===0)d=a,p=a,c=a;else{var y=a<.5?a*(1+s):a+s-a*s,S=2*a-y;c=Sl(S,y,o+1/3),d=Sl(S,y,o),p=Sl(S,y,o-1/3)}return{r:c*255,g:d*255,b:p*255}}function Cf(o,s,a){o=_t(o,255),s=_t(s,255),a=_t(a,255);var c=Math.max(o,s,a),d=Math.min(o,s,a),p=0,y=c,S=c-d,T=c===0?0:S/c;if(c===d)p=0;else{switch(c){case o:p=(s-a)/S+(s<a?6:0);break;case s:p=(a-o)/S+2;break;case a:p=(o-s)/S+4;break}p/=6}return{h:p,s:T,v:y}}function Pg(o,s,a){o=_t(o,360)*6,s=_t(s,100),a=_t(a,100);var c=Math.floor(o),d=o-c,p=a*(1-s),y=a*(1-d*s),S=a*(1-(1-d)*s),T=c%6,O=[a,y,p,p,S,a][T],k=[S,a,a,y,p,p][T],H=[p,p,S,a,a,y][T];return{r:O*255,g:k*255,b:H*255}}function Sf(o,s,a,c){var d=[Mn(Math.round(o).toString(16)),Mn(Math.round(s).toString(16)),Mn(Math.round(a).toString(16))];return c&&d[0].startsWith(d[0].charAt(1))&&d[1].startsWith(d[1].charAt(1))&&d[2].startsWith(d[2].charAt(1))?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0):d.join("")}function Fg(o,s,a,c,d){var p=[Mn(Math.round(o).toString(16)),Mn(Math.round(s).toString(16)),Mn(Math.round(a).toString(16)),Mn(Wg(c))];return d&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function Wg(o){return Math.round(parseFloat(o)*255).toString(16)}function kf(o){return er(o)/255}function er(o){return parseInt(o,16)}function Rg(o){return{r:o>>16,g:(o&65280)>>8,b:o&255}}var Pl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Bg(o){var s={r:0,g:0,b:0},a=1,c=null,d=null,p=null,y=!1,S=!1;return typeof o=="string"&&(o=Gg(o)),typeof o=="object"&&(Rr(o.r)&&Rr(o.g)&&Rr(o.b)?(s=Dg(o.r,o.g,o.b),y=!0,S=String(o.r).substr(-1)==="%"?"prgb":"rgb"):Rr(o.h)&&Rr(o.s)&&Rr(o.v)?(c=Go(o.s),d=Go(o.v),s=Pg(o.h,c,d),y=!0,S="hsv"):Rr(o.h)&&Rr(o.s)&&Rr(o.l)&&(c=Go(o.s),p=Go(o.l),s=Ig(o.h,c,p),y=!0,S="hsl"),Object.prototype.hasOwnProperty.call(o,"a")&&(a=o.a)),a=dc(a),{ok:y,format:o.format||S,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a}}var zg="[-\\+]?\\d+%?",Ug="[-\\+]?\\d*\\.\\d+%?",un="(?:".concat(Ug,")|(?:").concat(zg,")"),kl="[\\s|\\(]+(".concat(un,")[,|\\s]+(").concat(un,")[,|\\s]+(").concat(un,")\\s*\\)?"),Ll="[\\s|\\(]+(".concat(un,")[,|\\s]+(").concat(un,")[,|\\s]+(").concat(un,")[,|\\s]+(").concat(un,")\\s*\\)?"),mr={CSS_UNIT:new RegExp(un),rgb:new RegExp("rgb"+kl),rgba:new RegExp("rgba"+Ll),hsl:new RegExp("hsl"+kl),hsla:new RegExp("hsla"+Ll),hsv:new RegExp("hsv"+kl),hsva:new RegExp("hsva"+Ll),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Gg(o){if(o=o.trim().toLowerCase(),o.length===0)return!1;var s=!1;if(Pl[o])o=Pl[o],s=!0;else if(o==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var a=mr.rgb.exec(o);return a?{r:a[1],g:a[2],b:a[3]}:(a=mr.rgba.exec(o),a?{r:a[1],g:a[2],b:a[3],a:a[4]}:(a=mr.hsl.exec(o),a?{h:a[1],s:a[2],l:a[3]}:(a=mr.hsla.exec(o),a?{h:a[1],s:a[2],l:a[3],a:a[4]}:(a=mr.hsv.exec(o),a?{h:a[1],s:a[2],v:a[3]}:(a=mr.hsva.exec(o),a?{h:a[1],s:a[2],v:a[3],a:a[4]}:(a=mr.hex8.exec(o),a?{r:er(a[1]),g:er(a[2]),b:er(a[3]),a:kf(a[4]),format:s?"name":"hex8"}:(a=mr.hex6.exec(o),a?{r:er(a[1]),g:er(a[2]),b:er(a[3]),format:s?"name":"hex"}:(a=mr.hex4.exec(o),a?{r:er(a[1]+a[1]),g:er(a[2]+a[2]),b:er(a[3]+a[3]),a:kf(a[4]+a[4]),format:s?"name":"hex8"}:(a=mr.hex3.exec(o),a?{r:er(a[1]+a[1]),g:er(a[2]+a[2]),b:er(a[3]+a[3]),format:s?"name":"hex"}:!1)))))))))}function Rr(o){return!!mr.CSS_UNIT.exec(String(o))}var Kg=function(){function o(s,a){s===void 0&&(s=""),a===void 0&&(a={});var c;if(s instanceof o)return s;typeof s=="number"&&(s=Rg(s)),this.originalInput=s;var d=Bg(s);this.originalInput=s,this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.roundA=Math.round(100*this.a)/100,this.format=(c=a.format)!==null&&c!==void 0?c:d.format,this.gradientType=a.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=d.ok}return o.prototype.isDark=function(){return this.getBrightness()<128},o.prototype.isLight=function(){return!this.isDark()},o.prototype.getBrightness=function(){var s=this.toRgb();return(s.r*299+s.g*587+s.b*114)/1e3},o.prototype.getLuminance=function(){var s=this.toRgb(),a,c,d,p=s.r/255,y=s.g/255,S=s.b/255;return p<=.03928?a=p/12.92:a=Math.pow((p+.055)/1.055,2.4),y<=.03928?c=y/12.92:c=Math.pow((y+.055)/1.055,2.4),S<=.03928?d=S/12.92:d=Math.pow((S+.055)/1.055,2.4),.2126*a+.7152*c+.0722*d},o.prototype.getAlpha=function(){return this.a},o.prototype.setAlpha=function(s){return this.a=dc(s),this.roundA=Math.round(100*this.a)/100,this},o.prototype.isMonochrome=function(){var s=this.toHsl().s;return s===0},o.prototype.toHsv=function(){var s=Cf(this.r,this.g,this.b);return{h:s.h*360,s:s.s,v:s.v,a:this.a}},o.prototype.toHsvString=function(){var s=Cf(this.r,this.g,this.b),a=Math.round(s.h*360),c=Math.round(s.s*100),d=Math.round(s.v*100);return this.a===1?"hsv(".concat(a,", ").concat(c,"%, ").concat(d,"%)"):"hsva(".concat(a,", ").concat(c,"%, ").concat(d,"%, ").concat(this.roundA,")")},o.prototype.toHsl=function(){var s=wf(this.r,this.g,this.b);return{h:s.h*360,s:s.s,l:s.l,a:this.a}},o.prototype.toHslString=function(){var s=wf(this.r,this.g,this.b),a=Math.round(s.h*360),c=Math.round(s.s*100),d=Math.round(s.l*100);return this.a===1?"hsl(".concat(a,", ").concat(c,"%, ").concat(d,"%)"):"hsla(".concat(a,", ").concat(c,"%, ").concat(d,"%, ").concat(this.roundA,")")},o.prototype.toHex=function(s){return s===void 0&&(s=!1),Sf(this.r,this.g,this.b,s)},o.prototype.toHexString=function(s){return s===void 0&&(s=!1),"#"+this.toHex(s)},o.prototype.toHex8=function(s){return s===void 0&&(s=!1),Fg(this.r,this.g,this.b,this.a,s)},o.prototype.toHex8String=function(s){return s===void 0&&(s=!1),"#"+this.toHex8(s)},o.prototype.toHexShortString=function(s){return s===void 0&&(s=!1),this.a===1?this.toHexString(s):this.toHex8String(s)},o.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},o.prototype.toRgbString=function(){var s=Math.round(this.r),a=Math.round(this.g),c=Math.round(this.b);return this.a===1?"rgb(".concat(s,", ").concat(a,", ").concat(c,")"):"rgba(".concat(s,", ").concat(a,", ").concat(c,", ").concat(this.roundA,")")},o.prototype.toPercentageRgb=function(){var s=function(a){return"".concat(Math.round(_t(a,255)*100),"%")};return{r:s(this.r),g:s(this.g),b:s(this.b),a:this.a}},o.prototype.toPercentageRgbString=function(){var s=function(a){return Math.round(_t(a,255)*100)};return this.a===1?"rgb(".concat(s(this.r),"%, ").concat(s(this.g),"%, ").concat(s(this.b),"%)"):"rgba(".concat(s(this.r),"%, ").concat(s(this.g),"%, ").concat(s(this.b),"%, ").concat(this.roundA,")")},o.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var s="#"+Sf(this.r,this.g,this.b,!1),a=0,c=Object.entries(Pl);a<c.length;a++){var d=c[a],p=d[0],y=d[1];if(s===y)return p}return!1},o.prototype.toString=function(s){var a=!!s;s=s??this.format;var c=!1,d=this.a<1&&this.a>=0,p=!a&&d&&(s.startsWith("hex")||s==="name");return p?s==="name"&&this.a===0?this.toName():this.toRgbString():(s==="rgb"&&(c=this.toRgbString()),s==="prgb"&&(c=this.toPercentageRgbString()),(s==="hex"||s==="hex6")&&(c=this.toHexString()),s==="hex3"&&(c=this.toHexString(!0)),s==="hex4"&&(c=this.toHex8String(!0)),s==="hex8"&&(c=this.toHex8String()),s==="name"&&(c=this.toName()),s==="hsl"&&(c=this.toHslString()),s==="hsv"&&(c=this.toHsvString()),c||this.toHexString())},o.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},o.prototype.clone=function(){return new o(this.toString())},o.prototype.lighten=function(s){s===void 0&&(s=10);var a=this.toHsl();return a.l+=s/100,a.l=Uo(a.l),new o(a)},o.prototype.brighten=function(s){s===void 0&&(s=10);var a=this.toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(255*-(s/100)))),a.g=Math.max(0,Math.min(255,a.g-Math.round(255*-(s/100)))),a.b=Math.max(0,Math.min(255,a.b-Math.round(255*-(s/100)))),new o(a)},o.prototype.darken=function(s){s===void 0&&(s=10);var a=this.toHsl();return a.l-=s/100,a.l=Uo(a.l),new o(a)},o.prototype.tint=function(s){return s===void 0&&(s=10),this.mix("white",s)},o.prototype.shade=function(s){return s===void 0&&(s=10),this.mix("black",s)},o.prototype.desaturate=function(s){s===void 0&&(s=10);var a=this.toHsl();return a.s-=s/100,a.s=Uo(a.s),new o(a)},o.prototype.saturate=function(s){s===void 0&&(s=10);var a=this.toHsl();return a.s+=s/100,a.s=Uo(a.s),new o(a)},o.prototype.greyscale=function(){return this.desaturate(100)},o.prototype.spin=function(s){var a=this.toHsl(),c=(a.h+s)%360;return a.h=c<0?360+c:c,new o(a)},o.prototype.mix=function(s,a){a===void 0&&(a=50);var c=this.toRgb(),d=new o(s).toRgb(),p=a/100,y={r:(d.r-c.r)*p+c.r,g:(d.g-c.g)*p+c.g,b:(d.b-c.b)*p+c.b,a:(d.a-c.a)*p+c.a};return new o(y)},o.prototype.analogous=function(s,a){s===void 0&&(s=6),a===void 0&&(a=30);var c=this.toHsl(),d=360/a,p=[this];for(c.h=(c.h-(d*s>>1)+720)%360;--s;)c.h=(c.h+d)%360,p.push(new o(c));return p},o.prototype.complement=function(){var s=this.toHsl();return s.h=(s.h+180)%360,new o(s)},o.prototype.monochromatic=function(s){s===void 0&&(s=6);for(var a=this.toHsv(),c=a.h,d=a.s,p=a.v,y=[],S=1/s;s--;)y.push(new o({h:c,s:d,v:p})),p=(p+S)%1;return y},o.prototype.splitcomplement=function(){var s=this.toHsl(),a=s.h;return[this,new o({h:(a+72)%360,s:s.s,l:s.l}),new o({h:(a+216)%360,s:s.s,l:s.l})]},o.prototype.onBackground=function(s){var a=this.toRgb(),c=new o(s).toRgb(),d=a.a+c.a*(1-a.a);return new o({r:(a.r*a.a+c.r*c.a*(1-a.a))/d,g:(a.g*a.a+c.g*c.a*(1-a.a))/d,b:(a.b*a.a+c.b*c.a*(1-a.a))/d,a:d})},o.prototype.triad=function(){return this.polyad(3)},o.prototype.tetrad=function(){return this.polyad(4)},o.prototype.polyad=function(s){for(var a=this.toHsl(),c=a.h,d=[this],p=360/s,y=1;y<s;y++)d.push(new o({h:(c+y*p)%360,s:a.s,l:a.l}));return d},o.prototype.equals=function(s){return this.toRgbString()===new o(s).toRgbString()},o}();function an(...o){return new Kg(...o)}function Tl(o,s){const a=o&&o.a;let c;o&&o.hsl?c=an(o.hsl):o&&o.hex&&o.hex.length>0?c=an(o.hex):o&&o.hsv?c=an(o.hsv):o&&o.rgba?c=an(o.rgba):o&&o.rgb?c=an(o.rgb):c=an(o),c&&(c._a===void 0||c._a===null)&&c.setAlpha(a||c.getAlpha());const d=c.toHsl(),p=c.toHsv();return d.s===0&&(p.h=d.h=o.h||o.hsl&&o.hsl.h||s||0),p.v<.0164&&(p.h=o.h||o.hsv&&o.hsv.h||0,p.s=o.s||o.hsv&&o.hsv.s||0),d.l<.01&&(d.h=o.h||o.hsl&&o.hsl.h||0,d.s=o.s||o.hsl&&o.hsl.s||0),{hsl:d,hex:c.toHexString().toUpperCase(),hex8:c.toHex8String().toUpperCase(),rgba:c.toRgb(),hsv:p,oldHue:o.h||s||d.h,source:o.source,a:c.getAlpha()}}var Xg={model:{prop:"modelValue",event:"update:modelValue"},props:["modelValue"],data(){return{val:Tl(this.modelValue)}},computed:{colors:{get(){return this.val},set(o){this.val=o,this.$emit("update:modelValue",o)}}},watch:{modelValue(o){this.val=Tl(o)}},methods:{colorChange(o,s){this.oldHue=this.colors.hsl.h,this.colors=Tl(o,s||this.oldHue)},isValidHex(o){return an(o).isValid},simpleCheckForValidColor(o){const s=["r","g","b","a","h","s","l","v"];let a=0,c=0;for(let d=0;d<s.length;d++){const p=s[d];o[p]&&(a++,isNaN(o[p])||c++)}if(a===c)return o},paletteUpperCase(o){return o.map(s=>s.toUpperCase())},isTransparent(o){return an(o).getAlpha()===0}}},gs={name:"EditableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get(){return this.value},set(o){if(this.max!==void 0&&+o>this.max)this.$refs.input.value=this.max;else return o}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(o){this.handleChange(o.target.value)},handleChange(o){const s={};s[this.label]=o,s.hex===void 0&&s["#"]===void 0?this.$emit("change",s):o.length>5&&this.$emit("change",s)},handleKeyDown(o){let{val:s}=this;const a=Number(s);if(a){const c=this.arrowOffset||1;o.keyCode===38&&(s=a+c,this.handleChange(s),o.preventDefault()),o.keyCode===40&&(s=a-c,this.handleChange(s),o.preventDefault())}}}};const qg={class:"vc-editable-input"},Yg=["aria-labelledby"],jg=["id","for"],Zg={class:"vc-input__desc"};function Jg(o,s,a,c,d,p){return Ge(),nt("div",qg,[Zt(U("input",{ref:"input","onUpdate:modelValue":s[0]||(s[0]=y=>p.val=y),"aria-labelledby":p.labelId,class:"vc-input__input",onKeydown:s[1]||(s[1]=(...y)=>p.handleKeyDown&&p.handleKeyDown(...y)),onInput:s[2]||(s[2]=(...y)=>p.update&&p.update(...y))},null,40,Yg),[[Br,p.val]]),U("span",{id:p.labelId,for:a.label,class:"vc-input__label"},Qi(p.labelSpanText),9,jg),U("span",Zg,Qi(a.desc),1)])}var Vg=".vc-editable-input{position:relative}.vc-input__input{border:0;outline:none;padding:0}.vc-input__label{text-transform:capitalize}";ui(Vg);gs.render=Jg;gs.__file="src/components/editable-input/editable-input.vue";gs.install=fi;function Ml(o,s,a){return s<a?o<s?s:o>a?a:o:o<a?a:o>s?s:o}var vs={name:"Saturation",props:{value:Object},computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{handleChange(o,s){!s&&o.preventDefault();const{container:a}=this.$refs;if(!a)return;const c=a.clientWidth,d=a.clientHeight,p=a.getBoundingClientRect().left+window.pageXOffset,y=a.getBoundingClientRect().top+window.pageYOffset,S=o.pageX||(o.touches?o.touches[0].pageX:0),T=o.pageY||(o.touches?o.touches[0].pageY:0),O=Ml(S-p,0,c),k=Ml(T-y,0,d),H=O/c,B=Ml(-(k/d)+1,0,1);this.onChange({h:this.colors.hsv.h,s:H,v:B,a:this.colors.hsv.a,source:"hsva"})},onChange(o){this.$emit("change",o)},handleMouseDown(o){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(o){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Qg=U("div",{class:"vc-saturation--white"},null,-1),$g=U("div",{class:"vc-saturation--black"},null,-1),ev=U("div",{class:"vc-saturation-circle"},null,-1),tv=[ev];function rv(o,s,a,c,d,p){return Ge(),nt("div",{ref:"container",class:"vc-saturation",style:Or({background:p.bgColor}),onMousedown:s[0]||(s[0]=(...y)=>p.handleMouseDown&&p.handleMouseDown(...y)),onTouchmove:s[1]||(s[1]=(...y)=>p.handleChange&&p.handleChange(...y)),onTouchstart:s[2]||(s[2]=(...y)=>p.handleChange&&p.handleChange(...y))},[Qg,$g,U("div",{class:"vc-saturation-pointer",style:Or({top:p.pointerTop,left:p.pointerLeft})},tv,4)],36)}var nv=".vc-saturation,.vc-saturation--black,.vc-saturation--white{bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.vc-saturation--white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.vc-saturation--black{background:linear-gradient(0deg,#000,transparent)}.vc-saturation-pointer{cursor:pointer;position:absolute}.vc-saturation-circle{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);cursor:head;height:4px;transform:translate(-2px,-2px);width:4px}";ui(nv);vs.render=rv;vs.__file="src/components/saturation/saturation.vue";vs.install=fi;var ms={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data(){return{oldHue:0,pullDirection:""}},computed:{colors(){return this.value},directionClass(){return{"vc-hue--horizontal":this.direction==="horizontal","vc-hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:`${-(this.colors.hsl.h*100/360)+100}%`:0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},watch:{value:{handler(o,s){const{h:a}=o.hsl;a!==0&&a-this.oldHue>0&&(this.pullDirection="right"),a!==0&&a-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=a},deep:!0,immediate:!0}},methods:{handleChange(o,s){!s&&o.preventDefault();const{container:a}=this.$refs;if(!a)return;const c=a.clientWidth,d=a.clientHeight,p=a.getBoundingClientRect().left+window.pageXOffset,y=a.getBoundingClientRect().top+window.pageYOffset,S=o.pageX||(o.touches?o.touches[0].pageX:0),T=o.pageY||(o.touches?o.touches[0].pageY:0),O=S-p,k=T-y;let H,B;this.direction==="vertical"?(k<0?H=360:k>d?H=0:(B=-(k*100/d)+100,H=360*B/100),this.colors.hsl.h!==H&&this.$emit("change",{h:H,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(O<0?H=0:O>c?H=360:(B=O*100/c,H=360*B/100),this.colors.hsl.h!==H&&this.$emit("change",{h:H,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(o){this.handleChange(o,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(o){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const iv=["aria-valuenow"],ov=U("div",{class:"vc-hue-picker"},null,-1),sv=[ov];function lv(o,s,a,c,d,p){return Ge(),nt("div",{class:Tr(["vc-hue",[p.directionClass]])},[U("div",{ref:"container",class:"vc-hue-container",role:"slider","aria-valuenow":p.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",onMousedown:s[0]||(s[0]=(...y)=>p.handleMouseDown&&p.handleMouseDown(...y)),onTouchmove:s[1]||(s[1]=(...y)=>p.handleChange&&p.handleChange(...y)),onTouchstart:s[2]||(s[2]=(...y)=>p.handleChange&&p.handleChange(...y))},[U("div",{class:"vc-hue-pointer",style:Or({top:p.pointerTop,left:p.pointerLeft}),role:"presentation"},sv,4)],40,iv)],2)}var av=".vc-hue{border-radius:2px;bottom:0;left:0;position:absolute;right:0;top:0}.vc-hue--horizontal{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue--vertical{background:linear-gradient(0deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue-container{cursor:pointer;height:100%;margin:0 2px;position:relative}.vc-hue-pointer{position:absolute;z-index:2}.vc-hue-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";ui(av);ms.render=lv;ms.__file="src/components/hue/hue.vue";ms.install=fi;var ys={name:"Chrome",components:{Saturation:vs,Hue:ms,Alpha:ps,EdIn:gs,Checkboard:lo},mixins:[Xg],props:{disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1},format:{type:String,default:"hex"}},data(){return{fieldsIndex:"hex",highlight:!1}},computed:{hsl(){const{h:o,s,l:a}=this.colors.hsl;return{h:o.toFixed(),s:`${(s*100).toFixed()}%`,l:`${(a*100).toFixed()}%`}},activeColor(){const{rgba:o}=this.colors;return`rgba(${[o.r,o.g,o.b,o.a].join(",")})`},hasAlpha(){return this.colors.a<1}},watch:{format:{handler(o){this.fieldsIndex=o},immediate:!0}},methods:{childChange(o){this.colorChange(o)},inputChange(o){if(o){if(o.hex)this.isValidHex(o.hex)&&this.colorChange({hex:o.hex,source:"hex"});else if(o.r||o.g||o.b||o.a)this.colorChange({r:o.r||this.colors.rgba.r,g:o.g||this.colors.rgba.g,b:o.b||this.colors.rgba.b,a:o.a||this.colors.rgba.a,source:"rgba"});else if(o.h||o.s||o.l){const s=o.s?o.s.replace("%","")/100:this.colors.hsl.s,a=o.l?o.l.replace("%","")/100:this.colors.hsl.l;this.colorChange({h:o.h||this.colors.hsl.h,s,l:a,source:"hsl"})}}},toggleViews(){switch(this.fieldsIndex){case"hex":this.fieldsIndex=`rgb${this.disableAlpha?"":"a"}`;break;case"rgb":case"rgba":this.fieldsIndex=`hsl${this.disableAlpha?"":"a"}`;break;default:this.fieldsIndex="hex";break}this.$emit("update:format",this.fieldsIndex)},showHighlight(){this.highlight=!0},hideHighlight(){this.highlight=!1}}};const uv={class:"vc-chrome-saturation-wrap"},fv={class:"vc-chrome-body"},cv={class:"vc-chrome-controls"},hv={class:"vc-chrome-color-wrap"},dv=["aria-label"],pv={class:"vc-chrome-sliders"},gv={class:"vc-chrome-hue-wrap"},vv={key:0,class:"vc-chrome-alpha-wrap"},mv={key:0,class:"vc-chrome-fields-wrap"},yv={class:"vc-chrome-fields"},bv={class:"vc-chrome-field"},xv={class:"vc-chrome-fields"},wv={class:"vc-chrome-field"},Cv={class:"vc-chrome-field"},Sv={class:"vc-chrome-field"},kv={key:0,class:"vc-chrome-field"},Lv={class:"vc-chrome-fields"},Tv={class:"vc-chrome-field"},Mv={class:"vc-chrome-field"},Av={class:"vc-chrome-field"},Ov={key:0,class:"vc-chrome-field"},_v={class:"vc-chrome-toggle-icon"},Hv=U("path",{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"},null,-1),Nv=[Hv],Ev={class:"vc-chrome-toggle-icon-highlight"};function Dv(o,s,a,c,d,p){const y=Ar("Saturation"),S=Ar("Checkboard"),T=Ar("Hue"),O=Ar("Alpha"),k=Ar("EdIn");return Ge(),nt("div",{role:"application","aria-label":"Chrome color picker",class:Tr(["vc-chrome",[a.disableAlpha?"vc-chrome__disable-alpha":""]])},[U("div",uv,[Re(y,{value:o.colors,onChange:p.childChange},null,8,["value","onChange"])]),U("div",fv,[U("div",cv,[U("div",hv,[U("div",{"aria-label":`current color is ${o.colors.hex}`,class:"vc-chrome-active-color",style:Or({background:p.activeColor})},null,12,dv),a.disableAlpha?pt("v-if",!0):(Ge(),Jo(S,{key:0}))]),U("div",pv,[U("div",gv,[Re(T,{value:o.colors,onChange:p.childChange},null,8,["value","onChange"])]),a.disableAlpha?pt("v-if",!0):(Ge(),nt("div",vv,[Re(O,{value:o.colors,onChange:p.childChange},null,8,["value","onChange"])]))])]),a.disableFields?pt("v-if",!0):(Ge(),nt("div",mv,[Zt(U("div",yv,[pt(" hex "),U("div",bv,[p.hasAlpha?pt("v-if",!0):(Ge(),Jo(k,{key:0,label:"hex",value:o.colors.hex,onChange:p.inputChange},null,8,["value","onChange"])),p.hasAlpha?(Ge(),Jo(k,{key:1,label:"hex",value:o.colors.hex8,onChange:p.inputChange},null,8,["value","onChange"])):pt("v-if",!0)])],512),[[Xi,d.fieldsIndex==="hex"]]),Zt(U("div",xv,[pt(" rgba "),U("div",wv,[Re(k,{label:"r",value:o.colors.rgba.r,onChange:p.inputChange},null,8,["value","onChange"])]),U("div",Cv,[Re(k,{label:"g",value:o.colors.rgba.g,onChange:p.inputChange},null,8,["value","onChange"])]),U("div",Sv,[Re(k,{label:"b",value:o.colors.rgba.b,onChange:p.inputChange},null,8,["value","onChange"])]),a.disableAlpha?pt("v-if",!0):(Ge(),nt("div",kv,[Re(k,{label:"a",value:o.colors.a,"arrow-offset":.01,max:1,onChange:p.inputChange},null,8,["value","arrow-offset","onChange"])]))],512),[[Xi,["rgb","rgba"].includes(d.fieldsIndex)]]),Zt(U("div",Lv,[pt(" hsla "),U("div",Tv,[Re(k,{label:"h",value:p.hsl.h,onChange:p.inputChange},null,8,["value","onChange"])]),U("div",Mv,[Re(k,{label:"s",value:p.hsl.s,onChange:p.inputChange},null,8,["value","onChange"])]),U("div",Av,[Re(k,{label:"l",value:p.hsl.l,onChange:p.inputChange},null,8,["value","onChange"])]),a.disableAlpha?pt("v-if",!0):(Ge(),nt("div",Ov,[Re(k,{label:"a",value:o.colors.a,"arrow-offset":.01,max:1,onChange:p.inputChange},null,8,["value","arrow-offset","onChange"])]))],512),[[Xi,["hsl","hsla"].includes(d.fieldsIndex)]]),pt(" btn "),U("div",{class:"vc-chrome-toggle-btn",role:"button","aria-label":"Change another color definition",onClick:s[3]||(s[3]=(...H)=>p.toggleViews&&p.toggleViews(...H))},[U("div",_v,[(Ge(),nt("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24",onMouseover:s[0]||(s[0]=(...H)=>p.showHighlight&&p.showHighlight(...H)),onMouseenter:s[1]||(s[1]=(...H)=>p.showHighlight&&p.showHighlight(...H)),onMouseout:s[2]||(s[2]=(...H)=>p.hideHighlight&&p.hideHighlight(...H))},Nv,32))]),Zt(U("div",Ev,null,512),[[Xi,d.highlight]])]),pt(" btn ")]))])],2)}var Iv=".vc-chrome{background:#fff;background-color:#fff;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);box-sizing:initial;font-family:Menlo;width:225px}.vc-chrome-controls{display:flex}.vc-chrome-color-wrap{position:relative;width:36px}.vc-chrome-active-color{border-radius:15px;height:30px;overflow:hidden;position:relative;width:30px;z-index:1}.vc-chrome-color-wrap .vc-checkerboard{background-size:auto;border-radius:15px;height:30px;width:30px}.vc-chrome-sliders{flex:1}.vc-chrome-fields-wrap{display:flex;padding-top:16px}.vc-chrome-fields{display:flex;flex:1;margin-left:-6px}.vc-chrome-field{padding-left:6px;width:100%}.vc-chrome-toggle-btn{position:relative;text-align:right;width:32px}.vc-chrome-toggle-icon{cursor:pointer;margin-right:-4px;margin-top:12px;position:relative;z-index:2}.vc-chrome-toggle-icon-highlight{background:#eee;border-radius:4px;height:28px;left:12px;position:absolute;top:10px;width:24px}.vc-chrome-hue-wrap{margin-bottom:8px}.vc-chrome-alpha-wrap,.vc-chrome-hue-wrap{height:10px;position:relative}.vc-chrome-alpha-wrap .vc-alpha-gradient,.vc-chrome-hue-wrap .vc-hue{border-radius:2px}.vc-chrome-alpha-wrap .vc-alpha-picker,.vc-chrome-hue-wrap .vc-hue-picker{background-color:#f8f8f8;border-radius:6px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:12px;transform:translate(-6px,-2px);width:12px}.vc-chrome-body{background-color:#fff;padding:16px 16px 12px}.vc-chrome-saturation-wrap{border-radius:2px 2px 0 0;overflow:hidden;padding-bottom:55%;position:relative;width:100%}.vc-chrome-saturation-wrap .vc-saturation-circle{height:12px;width:12px}.vc-chrome-fields .vc-input__input{border:none;border-radius:2px;box-shadow:inset 0 0 0 1px #dadada;color:#333;font-size:11px;height:21px;text-align:center;width:100%}.vc-chrome-fields .vc-input__label{color:#969696;display:block;font-size:11px;line-height:11px;margin-top:12px;text-align:center;text-transform:uppercase}.vc-chrome__disable-alpha .vc-chrome-active-color{height:18px;width:18px}.vc-chrome__disable-alpha .vc-chrome-color-wrap{width:30px}.vc-chrome__disable-alpha .vc-chrome-hue-wrap{margin-bottom:4px;margin-top:4px}";ui(Iv);ys.render=Dv;ys.__file="src/components/chrome/chrome.vue";ys.install=fi;const Pv={name:"ColorPicker",props:{color:{type:String,required:!0}},components:{"chrome-color-picker":ys},data(){return{opened:!1,internalColor:this.color}},computed:{displayColor(){if(typeof this.internalColor=="string")return this.internalColor;if(this.internalColor&&this.internalColor.rgba){const{r:o,g:s,b:a,a:c}=this.internalColor.rgba;return`rgba(${o}, ${s}, ${a}, ${c})`}return this.color}},watch:{color(o){o!==this.displayColor&&(this.internalColor=o)},internalColor:{deep:!0,handler(o){if(o&&o.rgba)this.$emit("changed",o.rgba);else if(typeof o=="string"){const s=this.extractRGBA(o);this.$emit("changed",s)}}}},methods:{showPicker(){this.opened=!0},hidePicker(o){o.target===this.$refs.pickerOverlay&&(this.opened=!1)},getPickerStyle(){let o=this.$el.getBoundingClientRect();return{position:"absolute",left:o.left-30+"px",top:o.top-179+"px"}},extractRGBA(o){const s=o&&o.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9]*\.?[0-9]+))?\s*\)/i);return s?{r:+s[1],g:+s[2],b:+s[3],a:s[4]!==void 0?+s[4]:1}:{r:255,g:255,b:255,a:1}}}},Fv={class:"color-container"},Wv=["value"];function Rv(o,s,a,c,d,p){const y=Ar("chrome-color-picker");return Ge(),nt("div",Fv,[U("input",{type:"text",onClick:s[0]||(s[0]=ln((...S)=>p.showPicker&&p.showPicker(...S),["prevent"])),value:p.displayColor,readonly:"",class:"color-label"},null,8,Wv),d.opened?(Ge(),nt("div",{key:0,class:"picker",onClick:s[2]||(s[2]=(...S)=>p.hidePicker&&p.hidePicker(...S)),ref:"pickerOverlay"},[Re(y,{modelValue:d.internalColor,"onUpdate:modelValue":s[1]||(s[1]=S=>d.internalColor=S),style:Or(p.getPickerStyle())},null,8,["modelValue","style"])],512)):pt("",!0)])}const Bv=ds(Pv,[["render",Rv]]),zv={methods:{show(){this.$emit("show")}}};function Uv(o,s,a,c,d,p){return Ge(),nt("a",{onClick:s[0]||(s[0]=ln((...y)=>p.show&&p.show(...y),["prevent"])),class:"help-icon",href:"#",title:"Click for more details"},s[1]||(s[1]=[U("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"9",height:"14",viewBox:"0 0 9 14",fill:"#267fcd"},[U("path",{d:"M5.5 9.812v1.875q0 0.125-0.094 0.219t-0.219 0.094h-1.875q-0.125 0-0.219-0.094t-0.094-0.219v-1.875q0-0.125 0.094-0.219t0.219-0.094h1.875q0.125 0 0.219 0.094t0.094 0.219zM7.969 5.125q0 0.422-0.121 0.789t-0.273 0.598-0.43 0.465-0.449 0.34-0.477 0.277q-0.32 0.18-0.535 0.508t-0.215 0.523q0 0.133-0.094 0.254t-0.219 0.121h-1.875q-0.117 0-0.199-0.145t-0.082-0.293v-0.352q0-0.648 0.508-1.223t1.117-0.848q0.461-0.211 0.656-0.438t0.195-0.594q0-0.328-0.363-0.578t-0.84-0.25q-0.508 0-0.844 0.227-0.273 0.195-0.836 0.898-0.102 0.125-0.242 0.125-0.094 0-0.195-0.062l-1.281-0.977q-0.102-0.078-0.121-0.195t0.043-0.219q1.25-2.078 3.625-2.078 0.625 0 1.258 0.242t1.141 0.648 0.828 0.996 0.32 1.238z"})],-1)]))}const Gv=ds(zv,[["render",Uv]]);function Kv(){return window.innerWidth<600}var Tn=10,ro={POINT:Tn,LENGTH:Tn*.5,TRIGONOMETRY:Tn*.9,ARITHMETICS:Tn*.6,MINMAX:Tn*.4,EXP:Tn*.1,SIGN:Tn*.01};class ql{constructor(s){this.probability=0,this.className=s}getProbability(){return ro[this.className]}render(){return""}}class Ko extends ql{constructor(s,a){super(a),this.operator=s}render(){var s=this.p,s=this.getProbability();ro[this.className]*=.25,no();let a=io();return ro[this.className]=s,no(),this.operator(a)}}class Xo extends ql{constructor(s,a){super(a),this.operator=s}render(){var s=this.getProbability();ro[this.className]*=.25,no();var a=io(),c=io();return ro[this.className]=s,no(),this.operator(a,c)}}class Al extends ql{constructor(s,a){super(a),this.constant=s}render(){return this.constant}}var os=[new Al("p.x","POINT"),new Al("p.y","POINT"),new Al("Math.sqrt(p.x*p.x + p.y * p.y)","LENGTH"),new Ko(o=>`Math.sin(${o})`,"TRIGONOMETRY"),new Ko(o=>`Math.cos(${o})`,"TRIGONOMETRY"),new Xo((o,s)=>`${o}*${s}`,"ARITHMETICS"),new Xo((o,s)=>`${o}/${s}`,"ARITHMETICS"),new Xo((o,s)=>`(${o}+${s})`,"ARITHMETICS"),new Xo((o,s)=>`(${o}-${s})`,"ARITHMETICS"),new Ko(o=>`Math.abs(${o})`,"SIGN"),new Ko(o=>`Math.sign(${o})`,"SIGN")];function no(){var o=0;os.forEach(s=>o+=s.getProbability()),os.forEach(s=>s.probability=s.getProbability()/o)}function io(){for(var o=Math.random(),s=0,a,c=0;c<os.length&&(a=os[c],s+=a.probability,!(o<s));++c);if(!a)throw new Error("no more items");return a.render()}function Xv(){no();var o=io(),s=io();return`function getVelocity(p) {
  return {
    x: ${o},
    y: ${s}
  };
}`}const qv={name:"App",components:{CodeEditor:xg,ColorPicker:Bv,HelpIcon:Gv},data(){return{syntaxHelpVisible:!1,settingsPanel:rt.settingsPanel,fieldCode:rt.fieldCode,bounds:rt.bounds,lineColor:rt.getLineColor(),fillColor:rt.getFillColor(),timeStep:rt.getIntegrationTimeStep(),integrationStepHelp:!1,stepsPerIteration:rt.getStepsPerIteration(),stepsPerIterationHelp:!1,density:rt.getFieldDensity(),densityHelp:!1,proximity:rt.getIntegrationProximity(),proximityHelp:!1,isDirty:rt.settingsPanel.isDirty}},computed:{integrationStepDelta(){return qo(this.timeStep)},stepsPerIterationDelta(){return qo(this.stepsPerIteration)},densityDelta(){return qo(this.density)},proximityDelta(){return qo(this.proximity)}},watch:{timeStep(o){rt.setIntegrationTimeStep(o)},stepsPerIteration(o){rt.setStepsPerIteration(o)},density(o){rt.setFieldDensity(o)},proximity(o){rt.setIntegrationProximity(o)},"bounds.minX":function(){this.moveBoundingBox()},"bounds.maxX":function(){this.moveBoundingBox()},"bounds.minY":function(){this.moveBoundingBox()},"bounds.maxX":function(){this.moveBoundingBox()}},methods:{draw(){rt.redraw(),this.isDirty=!1},updateLineColor(o){rt.setLineColor(o.r,o.g,o.b,o.a),this.lineColor=rt.getLineColor()},updateFillColor(o){rt.setFillColor(o.r,o.g,o.b,o.a),this.fillColor=rt.getFillColor()},toggleSettings(){this.settingsPanel.collapsed=!this.settingsPanel.collapsed,Yi.fire("settings-collapsed",this.settingsPanel.collapsed)},generateNewFunction(){var o=Xv();rt.fieldCode.setCode(o,!0)},moveBoundingBox(){rt.moveBoundingBox(this.bounds)},onSubmit(){Kv()&&(rt.settingsPanel.collapsed=!0),rt.redraw()},goToOrigin(){this.bounds={minX:-5,minY:-5,maxX:5,maxY:5}}},created(){this._onDirtyChanged=o=>{this.isDirty=o},Yi.on("dirty-changed",this._onDirtyChanged)},beforeUnmount(){this._onDirtyChanged&&Yi.off("dirty-changed",this._onDirtyChanged)}};function qo(o){var s=Math.pow(10,Math.floor(Math.log10(o)));return o-s===0?s/10:s}const Yv={id:"app"},jv={class:"controls-container"},Zv={class:"controls"},Jv={class:"settings"},Vv={class:"block"},Qv={class:"title"},$v={key:0,class:"help"},e0={class:"block"},t0={class:"row"},r0={class:"col"},n0=["step"],i0={key:0,class:"row help"},o0={key:1,class:"row error"},s0={class:"row"},l0={class:"col"},a0=["step"],u0={key:2,class:"row help"},f0={class:"row"},c0={class:"col"},h0=["step"],d0={key:3,class:"row help"},p0={class:"row"},g0={class:"col"},v0=["step"],m0={key:4,class:"row help"},y0={class:"row"},b0={class:"col"},x0={class:"row"},w0={class:"col"},C0={class:"bounding-box"},S0={class:"row"},k0={class:"col center"},L0={class:"row"},T0={class:"col min-x"},M0={class:"col max-x"},A0={class:"row center"},O0={class:"col center"};function _0(o,s,a,c,d,p){const y=Ar("code-editor"),S=Ar("help-icon"),T=Ar("color-picker");return Ge(),nt("div",Yv,[U("div",jv,[U("div",Zv,[U("a",{href:"#",onClick:s[0]||(s[0]=ln((...O)=>p.draw&&p.draw(...O),["prevent"])),class:Tr({dirty:d.isDirty})},"Redraw",2),U("a",{href:"#",onClick:s[1]||(s[1]=ln((...O)=>p.toggleSettings&&p.toggleSettings(...O),["prevent"])),class:"action"},Qi(d.settingsPanel.collapsed?"Edit...":"Close Editor"),1),U("a",{href:"#",onClick:s[2]||(s[2]=ln((...O)=>p.generateNewFunction&&p.generateNewFunction(...O),["prevent"]))},"Randomize")]),Zt(U("div",Jv,[U("div",Vv,[U("div",Qv,[s[22]||(s[22]=ac("Vector Field ",-1)),U("a",{class:Tr(["help-title",{"syntax-visible":d.syntaxHelpVisible}]),href:"#",onClick:s[3]||(s[3]=ln(O=>d.syntaxHelpVisible=!d.syntaxHelpVisible,["prevent"])),title:"click to learn more about syntax"},"syntax help",2)]),d.syntaxHelpVisible?(Ge(),nt("div",$v,[s[23]||(s[23]=U("p",null,"Vector field is defined as a plain javascript function. It takes `p` - current point as an input, and should return an object with two properties, that denote `x, y` movement. ",-1)),U("a",{href:"#",onClick:s[4]||(s[4]=ln(O=>d.syntaxHelpVisible=!1,["prevent"])),class:"close"},"Close help")])):pt("",!0),Re(y,{model:d.fieldCode},null,8,["model"])]),U("div",e0,[s[35]||(s[35]=U("div",{class:"title"},"Settings",-1)),U("div",t0,[s[24]||(s[24]=U("div",{class:"col"},"Line distance",-1)),U("div",r0,[Zt(U("input",{type:"number",step:p.densityDelta,"onUpdate:modelValue":s[5]||(s[5]=O=>d.density=O),onKeyup:s[6]||(s[6]=zo((...O)=>p.onSubmit&&p.onSubmit(...O),["enter"])),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,40,n0),[[Br,d.density]])]),Re(S,{onShow:s[7]||(s[7]=O=>d.densityHelp=!d.densityHelp),class:Tr({open:d.densityHelp})},null,8,["class"])]),d.densityHelp?(Ge(),nt("div",i0,s[25]||(s[25]=[U("div",null,[U("p",null,"Line distance governs how far new streamline should be created from all existing streamlines.")],-1)]))):pt("",!0),d.settingsPanel.dWarning?(Ge(),nt("div",o0,Qi(d.settingsPanel.dWarning),1)):pt("",!0),U("div",s0,[s[26]||(s[26]=U("div",{class:"col"},"Stop distance",-1)),U("div",l0,[Zt(U("input",{type:"number",step:p.proximityDelta,"onUpdate:modelValue":s[8]||(s[8]=O=>d.proximity=O),onKeyup:s[9]||(s[9]=zo((...O)=>p.onSubmit&&p.onSubmit(...O),["enter"])),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,40,a0),[[Br,d.proximity]])]),Re(S,{onShow:s[10]||(s[10]=O=>d.proximityHelp=!d.proximityHelp),class:Tr({open:d.proximityHelp})},null,8,["class"])]),d.proximityHelp?(Ge(),nt("div",u0,s[27]||(s[27]=[U("div",null,[U("p",null,"When new streamline is started we need a stopping criteria. Stop ratio is such criteria. Based on the line distance it measures when streamline needs to stop. ")],-1)]))):pt("",!0),U("div",f0,[s[28]||(s[28]=U("div",{class:"col"},"Integration time step",-1)),U("div",c0,[Zt(U("input",{type:"number",step:p.integrationStepDelta,"onUpdate:modelValue":s[11]||(s[11]=O=>d.timeStep=O),onKeyup:s[12]||(s[12]=zo((...O)=>p.onSubmit&&p.onSubmit(...O),["enter"])),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,40,h0),[[Br,d.timeStep]])]),Re(S,{onShow:s[13]||(s[13]=O=>d.integrationStepHelp=!d.integrationStepHelp),class:Tr({open:d.integrationStepHelp})},null,8,["class"])]),d.integrationStepHelp?(Ge(),nt("div",d0,s[29]||(s[29]=[U("div",null,[U("p",null,"Integration time step defines how fast each curve should be integrated"),U("ul",null,[U("li",null,"Increasing this value makes animation complete faster at risk of some curves missing their turns"),U("li",null,"Making this value smaller makes individual pixel placement more accurate")])],-1)]))):pt("",!0),U("div",p0,[s[30]||(s[30]=U("div",{class:"col"},"Drawing speed",-1)),U("div",g0,[Zt(U("input",{type:"number",step:p.stepsPerIterationDelta,"onUpdate:modelValue":s[14]||(s[14]=O=>d.stepsPerIteration=O),onKeyup:s[15]||(s[15]=zo((...O)=>p.onSubmit&&p.onSubmit(...O),["enter"])),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,40,v0),[[Br,d.stepsPerIteration]])]),Re(S,{onShow:s[16]||(s[16]=O=>d.stepsPerIterationHelp=!d.stepsPerIterationHelp),class:Tr({open:d.stepsPerIterationHelp})},null,8,["class"])]),d.stepsPerIterationHelp?(Ge(),nt("div",m0,s[31]||(s[31]=[U("div",null,[U("p",null,"Streamlines are rendered asynchronously in small steps."),U("ul",null,[U("li",null,"Increasing this value makes animation complete faster. Setting it too high can freeze the browser"),U("li",null,"Making this value smaller makes individual pixel placement more prominent, creates effect of mystery.")])],-1)]))):pt("",!0),U("div",y0,[s[32]||(s[32]=U("div",{class:"col"},"Line Color",-1)),U("div",b0,[Re(T,{color:d.lineColor,onChanged:p.updateLineColor},null,8,["color","onChanged"])])]),U("div",x0,[s[33]||(s[33]=U("div",{class:"col"},"Background color",-1)),U("div",w0,[Re(T,{color:d.fillColor,onChanged:p.updateFillColor},null,8,["color","onChanged"])])]),U("div",C0,[s[34]||(s[34]=U("div",{class:"col title"},"bounds",-1)),U("div",S0,[U("div",k0,[Zt(U("input",{type:"number","onUpdate:modelValue":s[17]||(s[17]=O=>d.bounds.maxY=O),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Br,d.bounds.maxY,void 0,{lazy:!0}]])])]),U("div",L0,[U("div",T0,[Zt(U("input",{type:"number","onUpdate:modelValue":s[18]||(s[18]=O=>d.bounds.minX=O),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Br,d.bounds.minX,void 0,{lazy:!0}]])]),U("a",{class:"col reset",href:"#",onClick:s[19]||(s[19]=ln((...O)=>p.goToOrigin&&p.goToOrigin(...O),["prevent"])),title:"navigate to point (0,0)"},"go to origin"),U("div",M0,[Zt(U("input",{type:"number","onUpdate:modelValue":s[20]||(s[20]=O=>d.bounds.maxX=O),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Br,d.bounds.maxX,void 0,{lazy:!0}]])])]),U("div",A0,[U("div",O0,[Zt(U("input",{type:"number","onUpdate:modelValue":s[21]||(s[21]=O=>d.bounds.minY=O),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Br,d.bounds.minY,void 0,{lazy:!0}]])])])])])],512),[[Xi,!d.settingsPanel.collapsed]])]),s[36]||(s[36]=U("a",{href:"https://github.com/anvaka/streamlines",class:"about-link"},"Source code",-1))])}const H0=ds(qv,[["render",_0]]);ug(H0).mount("#app");
